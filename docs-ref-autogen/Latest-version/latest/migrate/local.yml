### YamlMime:AzureCLIGroup
uid: az_migrate_local
name: az migrate local
extensionInformation: |-
  > [!NOTE]
  > This reference is part of the **migrate** extension for the Azure CLI (version 2.75.0 or higher). The extension will automatically install the first time you run an **az migrate local** command. [Learn more](https://learn.microsoft.com/cli/azure/azure-cli-extensions-overview) about extensions.
summary: |-
  Manage Azure Local/Stack HCI migration operations.
description: |-
  Commands to manage server discovery
  and replication for migrations to Azure Local
  and Azure Stack HCI environments.
  These commands support VMware and Hyper-V source
  environments.
status: Preview
isPreview: true
previewOrExperimentalInfo: "Command group 'migrate' is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus"
sourceType: Extension
directCommands:
- uid: az_migrate_local_start-migration
  name: az migrate local start-migration
  summary: |-
    Start migration for a replicating server to Azure Local.
  description: |-
    Initiates the migration (failover) process for a server that
    has been configured for replication to Azure Local or Azure Stack HCI.
    This command triggers the final migration step, which creates
    the virtual machine on the target Azure Local/Stack HCI environment.

    The protected item must be in a healthy replication state
    before migration can be initiated.
    You can optionally specify whether to turn off the source server
    after migration completes.

    Note: This command uses a preview API version
    and may experience breaking changes in future releases.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: "Command group 'migrate local' is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus"
  sourceType: Extension
  syntax: >-
    az migrate local start-migration --id --protected-item-id
                                     [--subscription-id]
                                     [--turn-off-source-server {false, true}]
  examples:
  - summary: |-
      Start migration for a protected item
    syntax: >-
      az migrate local start-migration \
          --protected-item-id "/subscriptions/xxxx/resourceGroups/myRG/providers/Microsoft.DataReplication/replicationVaults/myVault/protectedItems/myItem"
  - summary: |-
      Start migration and turn off source server
    syntax: >-
      az migrate local start-migration \
          --protected-item-id "/subscriptions/xxxx/resourceGroups/myRG/providers/Microsoft.DataReplication/replicationVaults/myVault/protectedItems/myItem" \
          --turn-off-source-server
  - summary: |-
      Start migration using short parameter names
    syntax: >-
      az migrate local start-migration \
          --id "/subscriptions/xxxx/resourceGroups/myRG/providers/Microsoft.DataReplication/replicationVaults/myVault/protectedItems/myItem" \
          --turn-off-source-server
  - summary: |-
      Start migration with specific subscription
    syntax: >-
      az migrate local start-migration \
          --protected-item-id "/subscriptions/xxxx/resourceGroups/myRG/providers/Microsoft.DataReplication/replicationVaults/myVault/protectedItems/myItem" \
          --subscription-id "12345678-1234-1234-1234-123456789012"
  requiredParameters:
  - isRequired: true
    name: --id --protected-item-id
    summary: |-
      The full ARM resource ID of the protected item to migrate. This can be obtained from the list or get replication commands.
  optionalParameters:
  - name: --subscription-id
    summary: |-
      Azure subscription ID.
    description: |-
      The subscription containing the migration resources. Uses the current subscription if not specified.
  - name: --turn-off-source-server
    defaultValue: "False"
    acceptedValues: false, true
    summary: |-
      Turn off the source server after migration.
    description: |-
      Specifies whether the source server should be powered off after the migration completes successfully. Default is False. Use this option to automatically shut down the source server to prevent conflicts.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
commands:
- az_migrate_local_replication
- az_migrate_local_replication_get
- az_migrate_local_replication_get-job
- az_migrate_local_replication_init
- az_migrate_local_replication_list
- az_migrate_local_replication_new
- az_migrate_local_replication_remove
- az_migrate_local_start-migration
metadata:
  description: >-
    Commands to manage server discovery

    and replication for migrations to Azure Local

    and Azure Stack HCI environments.

    These commands support VMware and Hyper-V source

    environments.

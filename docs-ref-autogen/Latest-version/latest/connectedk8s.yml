### YamlMime:AzureCLIGroup
uid: az_connectedk8s
name: az connectedk8s
extensionInformation: |-
  > [!NOTE]
  > This reference is part of the **connectedk8s** extension for the Azure CLI (version 2.70.0 or higher). The extension will automatically install the first time you run an **az connectedk8s** command. [Learn more](https://learn.microsoft.com/cli/azure/azure-cli-extensions-overview) about extensions.
summary: |-
  Commands to manage connected kubernetes clusters.
status: GA
sourceType: Extension
directCommands:
- uid: az_connectedk8s_connect
  name: az connectedk8s connect
  summary: |-
    Onboard a connected kubernetes cluster to azure.
  description: |-
    The Kubernetes cluster to be onboarded as a connected cluster must be the default cluster in kubeconfig. Run kubectl config get-contexts to confirm the target context name. Then set the default context to the right cluster by running kubectl config use-context target-cluster-name.
  status: GA
  sourceType: Extension
  syntax: >-
    az connectedk8s connect --name
                            --resource-group
                            [--azure-hybrid-benefit {False, NotApplicable, True}]
                            [--config --configuration-settings]
                            [--config-protected --config-protected-settings]
                            [--container-log-path]
                            [--correlation-id]
                            [--custom-ca-cert --proxy-cert]
                            [--custom-locations-oid]
                            [--disable-auto-upgrade]
                            [--distribution {aks, aks_edge_k3s, aks_edge_k8s, aks_engine, aks_management, aks_workload, canonical, capz, eks, generic, gke, k3s, karbon, kind, minikube, openshift, rancher_rke, tkg}]
                            [--distribution-version]
                            [--enable-oidc-issuer {false, true}]
                            [--enable-private-link {false, true}]
                            [--enable-wi --enable-workload-identity {false, true}]
                            [--gateway-resource-id]
                            [--infrastructure {LTSCWindows 10 Enterprise LTSC, Windows 10 Enterprise, Windows 10 Enterprise LTSC 2019, Windows 10 Enterprise LTSC 2021, Windows 10 Enterprise N, Windows 10 Enterprise N LTSC 2019, Windows 10 Enterprise N LTSC 2021, Windows 10 IoT Enterprise, Windows 10 IoT Enterprise LTSC 2019, Windows 10 IoT Enterprise LTSC 2021, Windows 10 Pro, Windows 11 Enterprise, Windows 11 Enterprise N, Windows 11 IoT Enterprise, Windows 11 Pro, Windows Server 2019, Windows Server 2019 Datacenter, Windows Server 2019 Standard, Windows Server 2022, Windows Server 2022 Datacenter, Windows Server 2022 Standard, aws, azure, azure_stack_edge, azure_stack_hci, azure_stack_hub, gcp, generic, vsphere, windows_server}]
                            [--kube-config]
                            [--kube-context]
                            [--location]
                            [--no-wait]
                            [--onboarding-timeout]
                            [--pls-arm-id --private-link-scope-resource-id]
                            [--proxy-http]
                            [--proxy-https]
                            [--proxy-skip-range]
                            [--self-hosted-issuer]
                            [--skip-ssl-verification]
                            [--tags]
                            [--yes]
  examples:
  - summary: |-
      Onboard a connected kubernetes cluster with default kube config and kube context.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName
  - summary: |-
      Onboard a connected kubernetes cluster with default kube config and kube context and disabling auto upgrade of arc agents.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --disable-auto-upgrade
  - summary: |-
      Onboard a connected kubernetes cluster by specifying the kubeconfig and kubecontext.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --kube-config /path/to/kubeconfig --kube-context kubeContextName
  - summary: |-
      Onboard a connected kubernetes cluster by specifying the https proxy, http proxy, no proxy settings.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --proxy-https https://proxy-url --proxy-http http://proxy-url --proxy-skip-range excludedIP,excludedCIDR,exampleCIDRfollowed,10.0.0.0/24
  - summary: |-
      Onboard a connected kubernetes cluster by specifying the https proxy, http proxy, no proxy  with cert settings.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --proxy-cert /path/to/crt --proxy-https https://proxy-url --proxy-http http://proxy-url --proxy-skip-range excludedIP,excludedCIDR,exampleCIDRfollowed,10.0.0.0/24
  - summary: |-
      Onboard a connected kubernetes cluster with private link feature enabled by specifying private link parameters.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --enable-private-link true --private-link-scope-resource-id pls/resource/arm/id
  - summary: |-
      Onboard a connected kubernetes cluster with custom onboarding timeout.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --onboarding-timeout 600
  - summary: |-
      Onboard a connected kubernetes cluster with oidc issuer and the workload identity webhook enabled.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --enable-oidc-issuer --enable-workload-identity
  - summary: |-
      Onboard a connected kubernetes cluster with oidc issuer enabled using a self hosted issuer url for public cloud cluster.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --enable-oidc-issuer --self-hosted-issuer aksissuerurl
  - summary: |-
      Onboard a connected kubernetes cluster with azure gateway feature enabled.
    syntax: az connectedk8s connect -g resourceGroupName -n connectedClusterName --gateway-resource-id gatewayResourceId
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the connected cluster.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  optionalParameters:
  - name: --azure-hybrid-benefit
    acceptedValues: False, NotApplicable, True
    summary: |-
      Flag to enable/disable Azure Hybrid Benefit feature.
  - name: --config --configuration-settings
    summary: |-
      Configuration Settings as key=value pair.  Repeat parameter for each setting. Do not use this for secrets, as this value is returned in response.
    isPreview: true
  - name: --config-protected --config-protected-settings
    summary: |-
      Configuration Protected Settings as key=value pair.  Repeat parameter for each setting.  Only the key is returned in response, the value is not.
    isPreview: true
  - name: --container-log-path
    summary: |-
      Override the default container log path to enable fluent-bit logging.
  - name: --correlation-id
    summary: |-
      A guid that is used to internally track the source of cluster onboarding. Please do not modify it unless advised.
  - name: --custom-ca-cert --proxy-cert
    summary: |-
      Path to the certificate file for proxy or custom Certificate Authority.
    groupName: Proxy Arguments
  - name: --custom-locations-oid
    summary: |-
      OID of 'custom-locations' app.
  - name: --disable-auto-upgrade
    defaultValue: "False"
    summary: |-
      Flag to disable auto upgrade of arc agents.
  - name: --distribution
    defaultValue: generic
    acceptedValues: aks, aks_edge_k3s, aks_edge_k8s, aks_engine, aks_management, aks_workload, canonical, capz, eks, generic, gke, k3s, karbon, kind, minikube, openshift, rancher_rke, tkg
    summary: |-
      The Kubernetes distribution which will be running on this connected cluster.
  - name: --distribution-version
    summary: |-
      The Kubernetes distribution version of the connected cluster.
  - name: --enable-oidc-issuer
    defaultValue: "False"
    acceptedValues: false, true
    summary: |-
      Enable creation of OIDC issuer url used for workload identity federation.
    isPreview: true
    groupName: Workload Identity Arguments
  - name: --enable-private-link
    acceptedValues: false, true
    summary: |-
      Flag to enable/disable private link support on a connected cluster resource. Allowed values: false, true.
    isPreview: true
    groupName: PrivateLink Arguments
  - name: --enable-wi --enable-workload-identity
    defaultValue: "False"
    acceptedValues: false, true
    summary: |-
      Enable workload identity webhook.
    isPreview: true
    groupName: Workload Identity Arguments
  - name: --gateway-resource-id
    summary: |-
      ArmID of the Arc Gateway resource.
    isPreview: true
    groupName: Gateway Arguments
  - name: --infrastructure
    defaultValue: generic
    acceptedValues: LTSCWindows 10 Enterprise LTSC, Windows 10 Enterprise, Windows 10 Enterprise LTSC 2019, Windows 10 Enterprise LTSC 2021, Windows 10 Enterprise N, Windows 10 Enterprise N LTSC 2019, Windows 10 Enterprise N LTSC 2021, Windows 10 IoT Enterprise, Windows 10 IoT Enterprise LTSC 2019, Windows 10 IoT Enterprise LTSC 2021, Windows 10 Pro, Windows 11 Enterprise, Windows 11 Enterprise N, Windows 11 IoT Enterprise, Windows 11 Pro, Windows Server 2019, Windows Server 2019 Datacenter, Windows Server 2019 Standard, Windows Server 2022, Windows Server 2022 Datacenter, Windows Server 2022 Standard, aws, azure, azure_stack_edge, azure_stack_hci, azure_stack_hub, gcp, generic, vsphere, windows_server
    summary: |-
      The infrastructure on which the Kubernetes cluster represented by this connected cluster will be running on.
  - name: --kube-config
    summary: |-
      Path to the kube config file.
  - name: --kube-context
    summary: |-
      Kubconfig context from current machine.
  - name: --location -l
    summary: |-
      Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.
  - name: --no-wait
    defaultValue: "False"
    summary: |-
      Do not wait for the long-running operation to finish.
    groupName: Timeout Arguments
  - name: --onboarding-timeout
    defaultValue: "1200"
    summary: |-
      Time required (in seconds) for the arc-agent pods to be installed on the kubernetes cluster. Override this value if the hardware/network constraints on your cluster requires more time for installing the arc-agent pods.
    groupName: Timeout Arguments
  - name: --pls-arm-id --private-link-scope-resource-id
    summary: |-
      ARM resource id of the private link scope resource to which this connected cluster is associated.
    isPreview: true
    groupName: PrivateLink Arguments
  - name: --proxy-http
    summary: |-
      Http proxy URL to be used.
    groupName: Proxy Arguments
  - name: --proxy-https
    summary: |-
      Https proxy URL to be used.
    groupName: Proxy Arguments
  - name: --proxy-skip-range
    summary: |-
      List of URLs/CIDRs for which proxy should not to be used.
    groupName: Proxy Arguments
  - name: --self-hosted-issuer
    summary: |-
      Self hosted issuer url for public cloud clusters - AKS, GKE, EKS.
    isPreview: true
    groupName: Workload Identity Arguments
  - name: --skip-ssl-verification
    defaultValue: "False"
    summary: |-
      Skip SSL verification for any cluster connection.
  - name: --tags
    summary: |-
      Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_delete
  name: az connectedk8s delete
  summary: |-
    Delete a connected kubernetes cluster along with connected cluster agents.
  status: GA
  sourceType: Extension
  syntax: >-
    az connectedk8s delete [--force]
                           [--ids]
                           [--kube-config]
                           [--kube-context]
                           [--name]
                           [--no-wait]
                           [--resource-group]
                           [--skip-ssl-verification]
                           [--subscription]
                           [--yes]
  examples:
  - summary: |-
      Delete a connected kubernetes cluster and connected cluster agents with default kubeconfig and kubecontext.
    syntax: az connectedk8s delete -g resourceGroupName -n connectedClusterName
  - summary: |-
      Delete a connected kubernetes cluster by specifying the kubeconfig and kubecontext for connected cluster agents deletion.
    syntax: az connectedk8s delete -g resourceGroupName -n connectedClusterName --kube-config /path/to/kubeconfig --kube-context kubeContextName
  optionalParameters:
  - name: --force
    defaultValue: "False"
    summary: |-
      Force delete to remove all azure-arc resources from the cluster.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    groupName: Resource Id Arguments
  - name: --kube-config
    summary: |-
      Path to the kube config file.
  - name: --kube-context
    summary: |-
      Kubconfig context from current machine.
  - name: --name -n
    summary: |-
      The name of the connected cluster.
    groupName: Resource Id Arguments
  - name: --no-wait
    defaultValue: "False"
    summary: |-
      Do not wait for the long-running operation to finish.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    groupName: Resource Id Arguments
  - name: --skip-ssl-verification
    defaultValue: "False"
    summary: |-
      Skip SSL verification for any cluster connection.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    groupName: Resource Id Arguments
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_disable-features
  name: az connectedk8s disable-features
  summary: |-
    Disables the selective features on the connected cluster.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: 'This command is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus'
  sourceType: Extension
  syntax: >-
    az connectedk8s disable-features --features {azure-rbac, cluster-connect, custom-locations}
                                     [--ids]
                                     [--kube-config]
                                     [--kube-context]
                                     [--name]
                                     [--resource-group]
                                     [--skip-ssl-verification]
                                     [--subscription]
                                     [--yes]
  examples:
  - summary: |-
      Disables the azure-rbac feature.
    syntax: az connectedk8s disable-features -n clusterName -g resourceGroupName --features azure-rbac
  - summary: |-
      Disable multiple features.
    syntax: az connectedk8s disable-features -n clusterName -g resourceGroupName --features custom-locations azure-rbac
  requiredParameters:
  - isRequired: true
    name: --features
    acceptedValues: azure-rbac, cluster-connect, custom-locations
    summary: |-
      Space-separated list of features you want to disable.
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    groupName: Resource Id Arguments
  - name: --kube-config
    summary: |-
      Path to the kube config file.
  - name: --kube-context
    summary: |-
      Kubconfig context from current machine.
  - name: --name -n
    summary: |-
      The name of the connected cluster.
    groupName: Resource Id Arguments
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    groupName: Resource Id Arguments
  - name: --skip-ssl-verification
    defaultValue: "False"
    summary: |-
      Skip SSL verification for any cluster connection.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    groupName: Resource Id Arguments
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_enable-features
  name: az connectedk8s enable-features
  summary: |-
    Enables the selective features on the connected cluster.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: 'This command is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus'
  sourceType: Extension
  syntax: >-
    az connectedk8s enable-features --features {azure-rbac, cluster-connect, custom-locations}
                                    [--app-id]
                                    [--app-secret]
                                    [--custom-locations-oid]
                                    [--ids]
                                    [--kube-config]
                                    [--kube-context]
                                    [--name]
                                    [--resource-group]
                                    [--skip-azure-rbac-list]
                                    [--skip-ssl-verification]
                                    [--subscription]
  examples:
  - summary: |-
      Enables the Cluster-Connect feature.
    syntax: az connectedk8s enable-features -n clusterName -g resourceGroupName --features cluster-connect
  - summary: |-
      Enable Azure RBAC feature.
    syntax: az connectedk8s enable-features -n clusterName -g resourceGroupName --features azure-rbac --skip-azure-rbac-list "user1@domain.com,spn_oid"
  - summary: |-
      Enable multiple features.
    syntax: az connectedk8s enable-features -n clusterName -g resourceGroupName --features cluster-connect custom-locations
  requiredParameters:
  - isRequired: true
    name: --features
    acceptedValues: azure-rbac, cluster-connect, custom-locations
    summary: |-
      Space-separated list of features you want to enable.
  optionalParameters:
  - name: --app-id
    summary: |-
      Application ID for enabling Azure RBAC.
    isDeprecated: true
    deprecateInfo: >-
      Argument '--app-id' has been deprecated and will be removed in next breaking change release(2.86.0) scheduled for May 2026.

      Argument 'azrbac_client_id' has been deprecated and will be removed in a future release.
    groupName: Azure RBAC Arguments
  - name: --app-secret
    summary: |-
      Application secret for enabling Azure RBAC.
    isDeprecated: true
    deprecateInfo: >-
      Argument 'azrbac_client_secret' has been deprecated and will be removed in a future release.

      Argument '--app-secret' has been deprecated and will be removed in next breaking change release(2.86.0) scheduled for May 2026.
    groupName: Azure RBAC Arguments
  - name: --custom-locations-oid
    summary: |-
      OID of 'custom-locations' app.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    groupName: Resource Id Arguments
  - name: --kube-config
    summary: |-
      Path to the kube config file.
  - name: --kube-context
    summary: |-
      Kubconfig context from current machine.
  - name: --name -n
    summary: |-
      The name of the connected cluster.
    groupName: Resource Id Arguments
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    groupName: Resource Id Arguments
  - name: --skip-azure-rbac-list
    summary: |-
      Comma separated list of names of usernames/email/oid. Azure RBAC will be skipped for these users. Specify when enabling azure-rbac.
    groupName: Azure RBAC Arguments
  - name: --skip-ssl-verification
    defaultValue: "False"
    summary: |-
      Skip SSL verification for any cluster connection.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    groupName: Resource Id Arguments
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_list
  name: az connectedk8s list
  summary: |-
    List connected kubernetes clusters.
  status: GA
  sourceType: Extension
  syntax: az connectedk8s list [--resource-group]
  examples:
  - summary: |-
      List all connected kubernetes clusters in a resource group.
    syntax: az connectedk8s list -g resourceGroupName --subscription subscriptionName
  - summary: |-
      List all connected kubernetes clusters in a subscription.
    syntax: az connectedk8s list --subscription subscriptionName
  optionalParameters:
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_proxy
  name: az connectedk8s proxy
  summary: |-
    Get access to a connected kubernetes cluster.
  status: GA
  sourceType: Extension
  syntax: >-
    az connectedk8s proxy [--file]
                          [--ids]
                          [--kube-context]
                          [--name]
                          [--port]
                          [--resource-group]
                          [--subscription]
                          [--token]
  examples:
  - summary: |-
      Get access to a connected kubernetes cluster.
    syntax: az connectedk8s proxy -n clusterName -g resourceGroupName
  - summary: |-
      Get access to a connected kubernetes cluster with custom port
    syntax: az connectedk8s proxy -n clusterName -g resourceGroupName --port portValue
  - summary: |-
      Get access to a connected kubernetes cluster with service account token
    syntax: az connectedk8s proxy -n clusterName -g resourceGroupName --token tokenValue
  - summary: |-
      Get access to a connected kubernetes cluster by specifying custom kubeconfig location
    syntax: az connectedk8s proxy -n clusterName -g resourceGroupName -f path/to/kubeconfig
  - summary: |-
      Get access to a connected kubernetes cluster by specifying custom context
    syntax: az connectedk8s proxy -n clusterName -g resourceGroupName --kube-context contextName
  optionalParameters:
  - name: --file -f
    defaultValue: ~\.kube\config
    summary: |-
      Kubernetes configuration file to update. If not provided, updates the file '~/.kube/config'. Use '-' to print YAML to stdout instead.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    groupName: Resource Id Arguments
  - name: --kube-context
    summary: |-
      If specified, overwrite the default context name.
  - name: --name -n
    summary: |-
      The name of the connected cluster.
    groupName: Resource Id Arguments
  - name: --port
    defaultValue: "47011"
    summary: |-
      Port used for accessing connected cluster.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    groupName: Resource Id Arguments
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    groupName: Resource Id Arguments
  - name: --token
    summary: |-
      Service account token to use to authenticate to the kubernetes cluster.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_show
  name: az connectedk8s show
  summary: |-
    Show details of a connected kubernetes cluster.
  status: GA
  sourceType: Extension
  syntax: >-
    az connectedk8s show [--ids]
                         [--name]
                         [--resource-group]
                         [--subscription]
  examples:
  - summary: |-
      Show the details for a connected kubernetes cluster
    syntax: az connectedk8s show -g resourceGroupName -n connectedClusterName
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    groupName: Resource Id Arguments
  - name: --name -n
    summary: |-
      The name of the connected cluster.
    groupName: Resource Id Arguments
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    groupName: Resource Id Arguments
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    groupName: Resource Id Arguments
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_troubleshoot
  name: az connectedk8s troubleshoot
  summary: |-
    Perform diagnostic checks on an Arc enabled Kubernetes cluster.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: 'This command is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus'
  sourceType: Extension
  syntax: >-
    az connectedk8s troubleshoot --name
                                 --resource-group
                                 [--kube-config]
                                 [--kube-context]
                                 [--skip-ssl-verification]
                                 [--tags]
  examples:
  - summary: |-
      Perform diagnostic checks on an Arc enabled Kubernetes cluster.
    syntax: az connectedk8s troubleshoot -n clusterName -g resourceGroupName
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the connected cluster.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  optionalParameters:
  - name: --kube-config
    summary: |-
      Path to the kube config file.
  - name: --kube-context
    summary: |-
      Kubeconfig context from current machine.
  - name: --skip-ssl-verification
    defaultValue: "False"
    summary: |-
      Skip SSL verification for any cluster connection.
  - name: --tags
    summary: |-
      Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_update
  name: az connectedk8s update
  summary: |-
    Update properties of the arc onboarded kubernetes cluster.
  status: GA
  sourceType: Extension
  syntax: >-
    az connectedk8s update [--auto-upgrade {false, true}]
                           [--azure-hybrid-benefit {False, NotApplicable, True}]
                           [--config --configuration-settings]
                           [--config-protected --config-protected-settings]
                           [--container-log-path]
                           [--custom-ca-cert --proxy-cert]
                           [--disable-gateway {false, true}]
                           [--disable-proxy]
                           [--disable-wi --disable-workload-identity {false, true}]
                           [--distribution {aks, aks_edge_k3s, aks_edge_k8s, aks_engine, aks_management, aks_workload, canonical, capz, eks, generic, gke, k3s, karbon, kind, minikube, openshift, rancher_rke, tkg}]
                           [--distribution-version]
                           [--enable-oidc-issuer {false, true}]
                           [--enable-wi --enable-workload-identity {false, true}]
                           [--gateway-resource-id]
                           [--ids]
                           [--kube-config]
                           [--kube-context]
                           [--name]
                           [--proxy-http]
                           [--proxy-https]
                           [--proxy-skip-range]
                           [--resource-group]
                           [--self-hosted-issuer]
                           [--skip-ssl-verification]
                           [--subscription]
                           [--tags]
                           [--yes]
  examples:
  - summary: |-
      Update proxy values for the agents
    syntax: az connectedk8s update -g resourceGroupName -n connectedClusterName  --proxy-cert /path/to/crt --proxy-https https://proxy-url --proxy-http http://proxy-url --proxy-skip-range excludedIP,excludedCIDR,exampleCIDRfollowed,10.0.0.0/24
  - summary: |-
      Disable proxy settings for agents
    syntax: az connectedk8s update -g resourceGroupName -n connectedClusterName --disable-proxy
  - summary: |-
      Disable auto-upgrade of agents
    syntax: az connectedk8s update -g resourceGroupName -n connectedClusterName --auto-upgrade false
  - summary: |-
      Update a connected kubernetes cluster with oidc issuer and the workload identity webhook enabled.
    syntax: az connectedk8s update -g resourceGroupName -n connectedClusterName --enable-oidc-issuer --enable-workload-identity
  - summary: |-
      Update a connected kubernetes cluster with oidc issuer enabled using a self hosted issuer url for public cloud cluster.
    syntax: az connectedk8s update -g resourceGroupName -n connectedClusterName --enable-oidc-issuer --self-hosted-issuer aksissuerurl
  - summary: |-
      Disable the workload identity webhook on a connected kubernetes cluster.
    syntax: az connectedk8s update -g resourceGroupName -n connectedClusterName --disable-workload-identity
  - summary: |-
      Update a connected kubernetes cluster with azure gateway feature enabled.
    syntax: az connectedk8s update -g resourceGroupName -n connectedClusterName --gateway-resource-id gatewayResourceId
  - summary: |-
      Disable the azure gateway feature on a connected kubernetes cluster.
    syntax: az connectedk8s update -g resourceGroupName -n connectedClusterName --disable-gateway
  optionalParameters:
  - name: --auto-upgrade
    acceptedValues: false, true
    summary: |-
      Flag to enable/disable auto upgrade of arc agents. By default, auto upgrade of agents is enabled.
  - name: --azure-hybrid-benefit
    acceptedValues: False, NotApplicable, True
    summary: |-
      Flag to enable/disable Azure Hybrid Benefit feature.
  - name: --config --configuration-settings
    summary: |-
      Configuration Settings as key=value pair.  Repeat parameter for each setting. Do not use this for secrets, as this value is returned in response.
    isPreview: true
  - name: --config-protected --config-protected-settings
    summary: |-
      Configuration Protected Settings as key=value pair.  Repeat parameter for each setting.  Only the key is returned in response, the value is not.
    isPreview: true
  - name: --container-log-path
    summary: |-
      Override the default container log path to enable fluent-bit logging.
  - name: --custom-ca-cert --proxy-cert
    summary: |-
      Path to the certificate file for proxy or custom Certificate Authority.
    groupName: Proxy Arguments
  - name: --disable-gateway
    defaultValue: "False"
    acceptedValues: false, true
    summary: |-
      Flag to disable Arc Gateway.
    isPreview: true
    groupName: Gateway Arguments
  - name: --disable-proxy
    defaultValue: "False"
    summary: |-
      Disables proxy settings for agents.
    groupName: Proxy Arguments
  - name: --disable-wi --disable-workload-identity
    acceptedValues: false, true
    summary: |-
      Disable workload identity webhook.
    isPreview: true
    groupName: Workload Identity Arguments
  - name: --distribution
    acceptedValues: aks, aks_edge_k3s, aks_edge_k8s, aks_engine, aks_management, aks_workload, canonical, capz, eks, generic, gke, k3s, karbon, kind, minikube, openshift, rancher_rke, tkg
    summary: |-
      The Kubernetes distribution which will be running on this connected cluster.
  - name: --distribution-version
    summary: |-
      The Kubernetes distribution version of the connected cluster.
  - name: --enable-oidc-issuer
    acceptedValues: false, true
    summary: |-
      Enable creation of OIDC issuer url used for workload identity federation.
    isPreview: true
    groupName: Workload Identity Arguments
  - name: --enable-wi --enable-workload-identity
    acceptedValues: false, true
    summary: |-
      Enable workload identity webhook.
    isPreview: true
    groupName: Workload Identity Arguments
  - name: --gateway-resource-id
    summary: |-
      ArmID of the Arc Gateway resource.
    isPreview: true
    groupName: Gateway Arguments
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    groupName: Resource Id Arguments
  - name: --kube-config
    summary: |-
      Path to the kube config file.
  - name: --kube-context
    summary: |-
      Kubconfig context from current machine.
  - name: --name -n
    summary: |-
      The name of the connected cluster.
    groupName: Resource Id Arguments
  - name: --proxy-http
    summary: |-
      Http proxy URL to be used.
    groupName: Proxy Arguments
  - name: --proxy-https
    summary: |-
      Https proxy URL to be used.
    groupName: Proxy Arguments
  - name: --proxy-skip-range
    summary: |-
      List of URLs/CIDRs for which proxy should not to be used.
    groupName: Proxy Arguments
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    groupName: Resource Id Arguments
  - name: --self-hosted-issuer
    summary: |-
      Self hosted issuer url for public cloud clusters - AKS, GKE, EKS.
    isPreview: true
    groupName: Workload Identity Arguments
  - name: --skip-ssl-verification
    defaultValue: "False"
    summary: |-
      Skip SSL verification for any cluster connection.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    groupName: Resource Id Arguments
  - name: --tags
    summary: |-
      Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
- uid: az_connectedk8s_upgrade
  name: az connectedk8s upgrade
  summary: |-
    Atomically upgrade onboarded agents to the specific version or default to the latest version.
  status: GA
  sourceType: Extension
  syntax: >-
    az connectedk8s upgrade [--agent-version]
                            [--ids]
                            [--kube-config]
                            [--kube-context]
                            [--name]
                            [--resource-group]
                            [--skip-ssl-verification]
                            [--subscription]
                            [--upgrade-timeout]
  examples:
  - summary: |-
      Upgrade the agents to the latest version
    syntax: az connectedk8s upgrade -g resourceGroupName -n connectedClusterName
  - summary: |-
      Upgrade the agents to a specific version
    syntax: az connectedk8s upgrade -g resourceGroupName -n connectedClusterName --agent-version 0.2.62
  - summary: |-
      Upgrade the agents with custom upgrade timeout.
    syntax: az connectedk8s upgrade -g resourceGroupName -n connectedClusterName --upgrade-timeout 600
  optionalParameters:
  - name: --agent-version
    summary: |-
      Version of agent to update the helm charts to.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    groupName: Resource Id Arguments
  - name: --kube-config
    summary: |-
      Path to the kube config file.
  - name: --kube-context
    summary: |-
      Kubconfig context from current machine.
  - name: --name -n
    summary: |-
      The name of the connected cluster.
    groupName: Resource Id Arguments
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    groupName: Resource Id Arguments
  - name: --skip-ssl-verification
    defaultValue: "False"
    summary: |-
      Skip SSL verification for any cluster connection.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    groupName: Resource Id Arguments
  - name: --upgrade-timeout
    defaultValue: "600"
    summary: |-
      Time required (in seconds) for the arc-agent pods to be upgraded on the kubernetes cluster. Override this value if the hardware/network constraints on your cluster requires more time for upgrading the arc-agent pods.
  globalParameters:
  - name: --debug
    defaultValue: "False"
    summary: |-
      Increase logging verbosity to show all debug logs.
  - name: --help -h
    summary: |-
      Show this help message and exit.
  - name: --only-show-errors
    defaultValue: "False"
    summary: |-
      Only show errors, suppressing warnings.
  - name: --output -o
    defaultValue: json
    acceptedValues: json, jsonc, none, table, tsv, yaml, yamlc
    summary: |-
      Output format.
  - name: --query
    summary: |-
      JMESPath query string. See http://jmespath.org/ for more information and examples.
  - name: --verbose
    defaultValue: "False"
    summary: |-
      Increase logging verbosity. Use --debug for full debug logs.
commands:
- az_connectedk8s_connect
- az_connectedk8s_delete
- az_connectedk8s_disable-features
- az_connectedk8s_enable-features
- az_connectedk8s_list
- az_connectedk8s_proxy
- az_connectedk8s_show
- az_connectedk8s_troubleshoot
- az_connectedk8s_update
- az_connectedk8s_upgrade
metadata:
  description: Commands to manage connected kubernetes clusters.

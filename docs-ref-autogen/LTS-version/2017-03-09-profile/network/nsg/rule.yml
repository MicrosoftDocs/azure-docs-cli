### YamlMime:AzureCLIGroup
uid: az_network_nsg_rule
name: az network nsg rule
summary: |-
  Manage network security group rules.
status: GA
sourceType: Core
directCommands:
- uid: az_network_nsg_rule_create
  name: az network nsg rule create
  summary: |-
    Create a network security group rule.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
  syntax: >-
    az network nsg rule create --name
                               --nsg-name
                               --priority
                               --resource-group
                               [--access {Allow, Deny}]
                               [--description]
                               [--destination-address-prefix]
                               [--destination-port-range]
                               [--direction {Inbound, Outbound}]
                               [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]
                               [--protocol {*, Tcp, Udp}]
                               [--source-address-prefix]
                               [--source-port-range]
  examples:
  - summary: |-
      Create a basic "Allow" NSG rule with the highest priority.
    syntax: az network nsg rule create -g MyResourceGroup --nsg-name MyNsg -n MyNsgRule --priority 100
  - summary: |-
      Create a "Deny" rule over TCP for a specific IP address range with the lowest priority.
    syntax: az network nsg rule create -g MyResourceGroup --nsg-name MyNsg -n MyNsgRule --priority 4096 --source-address-prefixes 208.130.28.0/24 --source-port-ranges 80 --destination-address-prefixes '*' --destination-port-ranges 80 8080 --access Deny --protocol Tcp --description "Deny from specific IP address ranges on 80 and 8080."
  - summary: |-
      Create a security rule using service tags (https://aka.ms/servicetags).
    syntax: az network nsg rule create -g MyResourceGroup --nsg-name MyNsg -n MyNsgRuleWithTags --priority 400 --source-address-prefixes VirtualNetwork --destination-address-prefixes Storage --destination-port-ranges '*' --direction Outbound --access Allow --protocol Tcp --description "Allow VirtualNetwork to Storage."
  - summary: |-
      Create a security rule using application security groups (https://aka.ms/applicationsecuritygroups).
    syntax: az network nsg rule create -g MyResourceGroup --nsg-name MyNsg -n MyNsgRuleWithAsg --priority 500 --source-address-prefixes Internet --destination-port-ranges 80 8080 --destination-asgs Web --access Allow --protocol Tcp --description "Allow Internet to Web ASG on ports 80,8080."
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      Name of the network security group rule.
  - isRequired: true
    name: --nsg-name
    summary: |-
      Name of the network security group.
  - isRequired: true
    name: --priority
    summary: |-
      Priority of the rule. The value can be between 100 and 4096. The priority number must be unique for each rule in the collection. The lower the priority number, the higher the priority of the rule.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  optionalParameters:
  - name: --access
    defaultValue: "Allow"
    parameterValueGroup: "Allow, Deny"
    summary: |-
      Network traffic is allowed or denied.
  - name: --description
    summary: |-
      Description for this rule. Restricted to 140 chars.
  - name: --destination-address-prefix
    defaultValue: "*"
    summary: |-
      The destination address prefix. CIDR or destination IP range. Asterisk '*' can also be used to match all source IPs. Default tags such as 'VirtualNetwork', 'AzureLoadBalancer' and 'Internet' can also be used.
  - name: --destination-port-range
    defaultValue: "80"
    summary: |-
      The destination port or range. Integer or range between 0 and 65535. Asterisk '*' can also be used to match all ports.
  - name: --direction
    defaultValue: "Inbound"
    parameterValueGroup: "Inbound, Outbound"
    summary: |-
      Direction of the rule. The direction specifies if rule will be evaluated on incoming or outgoing traffic.
  - name: --no-wait
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      Do not wait for the long-running operation to finish.
  - name: --protocol
    defaultValue: "*"
    parameterValueGroup: "*, Tcp, Udp"
    summary: |-
      Network protocol this rule applies to.
  - name: --source-address-prefix
    defaultValue: "*"
    summary: |-
      The CIDR or source IP range. Asterisk '*' can also be used to match all source IPs. Default tags such as 'VirtualNetwork', 'AzureLoadBalancer' and 'Internet' can also be used. If this is an ingress rule, specifies where network traffic originates from.
  - name: --source-port-range
    defaultValue: "80"
    summary: |-
      The source port or range. Integer or range between 0 and 65535. Asterisk '*' can also be used to match all ports.
- uid: az_network_nsg_rule_delete
  name: az network nsg rule delete
  summary: |-
    Delete a network security group rule.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
  syntax: >-
    az network nsg rule delete [--ids]
                               [--name]
                               [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]
                               [--nsg-name]
                               [--resource-group]
                               [--subscription]
  examples:
  - summary: |-
      Delete a network security group rule.
    syntax: az network nsg rule delete -g MyResourceGroup --nsg-name MyNsg -n MyNsgRule
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name -n
    summary: |-
      Name of the network security group rule.
  - name: --no-wait
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      Do not wait for the long-running operation to finish.
  - name: --nsg-name
    summary: |-
      Name of the network security group.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_network_nsg_rule_list
  name: az network nsg rule list
  summary: |-
    List all rules in a network security group.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
  syntax: >-
    az network nsg rule list [--ids]
                             [--include-default]
                             [--nsg-name]
                             [--resource-group]
                             [--subscription]
  examples:
  - summary: |-
      List all rules in a network security group.
    syntax: az network nsg rule list -g MyResourceGroup --nsg-name MyNsg
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --include-default
    defaultValue: "False"
    summary: |-
      Include default security rules in the output.
  - name: --nsg-name
    summary: |-
      Name of the network security group.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_network_nsg_rule_show
  name: az network nsg rule show
  summary: |-
    Get the details of a network security group rule.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
  syntax: >-
    az network nsg rule show [--ids]
                             [--name]
                             [--nsg-name]
                             [--resource-group]
                             [--subscription]
  examples:
  - summary: |-
      Get the details of a network security group rule.
    syntax: az network nsg rule show -g MyResourceGroup --nsg-name MyNsg -n MyNsgRule
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name -n
    summary: |-
      Name of the network security group rule.
  - name: --nsg-name
    summary: |-
      Name of the network security group.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_network_nsg_rule_update
  name: az network nsg rule update
  summary: |-
    Update a network security group rule.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
  syntax: >-
    az network nsg rule update [--access {Allow, Deny}]
                               [--add]
                               [--description]
                               [--destination-address-prefix]
                               [--destination-port-range]
                               [--direction {Inbound, Outbound}]
                               [--force-string {0, 1, f, false, n, no, t, true, y, yes}]
                               [--ids]
                               [--name]
                               [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]
                               [--nsg-name]
                               [--priority]
                               [--protocol {*, Tcp, Udp}]
                               [--remove]
                               [--resource-group]
                               [--set]
                               [--source-address-prefix]
                               [--source-port-range]
                               [--subscription]
  examples:
  - summary: |-
      Update an NSG rule with a new wildcard destination address prefix.
    syntax: az network nsg rule update -g MyResourceGroup --nsg-name MyNsg -n MyNsgRule --destination-address-prefix '*'
  - summary: |-
      Update a network security group rule.
    syntax: az network nsg rule update --name MyNsgRule --nsg-name MyNsg --resource-group MyResourceGroup --source-address-prefixes 208.130.28/24
  optionalParameters:
  - name: --access
    parameterValueGroup: "Allow, Deny"
    summary: |-
      Network traffic is allowed or denied.
  - name: --add
    summary: |-
      Add an object to a list of objects by specifying a path and key value pairs.  Example: `--add property.listProperty <key=value, string or JSON string>`.
  - name: --description
    summary: |-
      Description for this rule. Restricted to 140 chars.
  - name: --destination-address-prefix
    summary: |-
      The destination address prefix. CIDR or destination IP range. Asterisk '*' can also be used to match all source IPs. Default tags such as 'VirtualNetwork', 'AzureLoadBalancer' and 'Internet' can also be used.
  - name: --destination-port-range
    summary: |-
      The destination port or range. Integer or range between 0 and 65535. Asterisk '*' can also be used to match all ports.
  - name: --direction
    parameterValueGroup: "Inbound, Outbound"
    summary: |-
      Direction of the rule. The direction specifies if rule will be evaluated on incoming or outgoing traffic.
  - name: --force-string
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name -n
    summary: |-
      Name of the network security group rule.
  - name: --no-wait
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      Do not wait for the long-running operation to finish.
  - name: --nsg-name
    summary: |-
      Name of the network security group.
  - name: --priority
    summary: |-
      Priority of the rule. The value can be between 100 and 4096. The priority number must be unique for each rule in the collection. The lower the priority number, the higher the priority of the rule.
  - name: --protocol
    parameterValueGroup: "*, Tcp, Udp"
    summary: |-
      Network protocol this rule applies to.
  - name: --remove
    summary: |-
      Remove a property or an element from a list.  Example: `--remove property.list <indexToRemove>` OR `--remove propertyToRemove`.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --set
    summary: |-
      Update an object by specifying a property path and value to set.  Example: `--set property1.property2=<value>`.
  - name: --source-address-prefix
    summary: |-
      The CIDR or source IP range. Asterisk '*' can also be used to match all source IPs. Default tags such as 'VirtualNetwork', 'AzureLoadBalancer' and 'Internet' can also be used. If this is an ingress rule, specifies where network traffic originates from.
  - name: --source-port-range
    summary: |-
      The source port or range. Integer or range between 0 and 65535. Asterisk '*' can also be used to match all ports.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_network_nsg_rule_wait
  name: az network nsg rule wait
  summary: |-
    Place the CLI in a waiting state until a condition is met.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
  syntax: >-
    az network nsg rule wait [--created]
                             [--custom]
                             [--deleted]
                             [--exists]
                             [--ids]
                             [--interval]
                             [--name]
                             [--nsg-name]
                             [--resource-group]
                             [--subscription]
                             [--timeout]
                             [--updated]
  optionalParameters:
  - name: --created
    defaultValue: "False"
    summary: |-
      Wait until created with 'provisioningState' at 'Succeeded'.
  - name: --custom
    summary: |-
      Wait until the condition satisfies a custom JMESPath query. E.g. provisioningState!='InProgress', instanceView.statuses[?code=='PowerState/running'].
  - name: --deleted
    defaultValue: "False"
    summary: |-
      Wait until deleted.
  - name: --exists
    defaultValue: "False"
    summary: |-
      Wait until the resource exists.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --interval
    defaultValue: "30"
    summary: |-
      Polling interval in seconds.
  - name: --name -n
    summary: |-
      Name of the network security group rule.
  - name: --nsg-name
    summary: |-
      Name of the network security group.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --timeout
    defaultValue: "3600"
    summary: |-
      Maximum wait in seconds.
  - name: --updated
    defaultValue: "False"
    summary: |-
      Wait until updated with provisioningState at 'Succeeded'.
commands:
- az_network_nsg_rule_create
- az_network_nsg_rule_delete
- az_network_nsg_rule_list
- az_network_nsg_rule_show
- az_network_nsg_rule_update
- az_network_nsg_rule_wait
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, none, table, tsv, yaml, yamlc"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  ms.date: 10/16/2024
  description: Manage network security group rules.

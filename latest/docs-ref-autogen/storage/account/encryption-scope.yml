### YamlMime:AzureCLIGroup
uid: az_storage_account_encryption-scope
name: az storage account encryption-scope
summary: |-
  Manage encryption scope for a storage account.
status: GA
sourceType: Core
directCommands:
- uid: az_storage_account_encryption-scope_create
  name: az storage account encryption-scope create
  summary: |-
    Create an encryption scope within storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account encryption-scope create --account-name
                                               --name
                                               [--key-source {Microsoft.KeyVault, Microsoft.Storage}]
                                               [--key-uri]
                                               [--require-infrastructure-encryption {false, true}]
                                               [--resource-group]
  examples:
  - summary: |-
      Create an encryption scope within storage account based on Microsoft.Storage key source.
    syntax: az storage account encryption-scope create --name myencryption -s Microsoft.Storage --account-name mystorageaccount -g MyResourceGroup
  - summary: |-
      Create an encryption scope within storage account based on Microsoft.KeyVault key source.
    syntax: az storage account encryption-scope create --name myencryption -s Microsoft.KeyVault -u "https://vaultname.vault.azure.net/keys/keyname/1f7fa7edc99f4cdf82b5b5f32f2a50a7" --account-name mystorageaccount -g MyResourceGroup
  - summary: |-
      Create an encryption scope within storage account. (autogenerated)
    syntax: az storage account encryption-scope create --account-name mystorageaccount --key-source Microsoft.Storage --name myencryption --resource-group MyResourceGroup --subscription mysubscription
  requiredParameters:
  - isRequired: true
    name: --account-name
    summary: |-
      The storage account name.
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the encryption scope within the specified storage account.
  optionalParameters:
  - name: --key-source -s
    defaultValue: "Microsoft.Storage"
    parameterValueGroup: "Microsoft.KeyVault, Microsoft.Storage"
    summary: |-
      The provider for the encryption scope.
  - name: --key-uri -u
    summary: |-
      The object identifier for a key vault key object. When applied, the encryption scope will use the key referenced by the identifier to enable customer-managed key support on this encryption scope.
  - name: --require-infrastructure-encryption -i
    parameterValueGroup: "false, true"
    summary: |-
      A boolean indicating whether or not the service applies a secondary layer of encryption with platform managed keys for data at rest.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_storage_account_encryption-scope_list
  name: az storage account encryption-scope list
  summary: |-
    List encryption scopes within storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account encryption-scope list --account-name
                                             [--filter]
                                             [--include {All, Disabled, Enabled}]
                                             [--marker]
                                             [--maxpagesize]
                                             [--resource-group]
  examples:
  - summary: |-
      List encryption scopes within storage account.
    syntax: az storage account encryption-scope list --account-name mystorageaccount -g MyResourceGroup
  - summary: |-
      List encryption scopes starting with specific name.
    syntax: az storage account encryption-scope list --account-name mystorageaccount -g myresourcegroup --filter 'startswith(name, value)'
  requiredParameters:
  - isRequired: true
    name: --account-name
    summary: |-
      The storage account name.
  optionalParameters:
  - name: --filter
    summary: |-
      When specified, only encryption scope names starting with the filter will be listed.
  - name: --include
    parameterValueGroup: "All, Disabled, Enabled"
    summary: |-
      When specified, will list encryption scopes with the specific state.
  - name: --marker
    summary: |-
      A string value that identifies the portion of the list of containers to be returned with the next listing operation. The operation returns the NextMarker value within the response body if the listing operation did not return all containers remaining to be listed with the current page. If specified, this generator will begin returning results from the point where the previous generator stopped.
  - name: --maxpagesize
    summary: |-
      The maximum number of encryption scopes that will be included in the list response.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_storage_account_encryption-scope_show
  name: az storage account encryption-scope show
  summary: |-
    Show properties for specified encryption scope within storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account encryption-scope show --account-name
                                             --name
                                             [--resource-group]
  examples:
  - summary: |-
      Show properties for specified encryption scope within storage account.
    syntax: az storage account encryption-scope show --name myencryption --account-name mystorageaccount -g MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --account-name
    summary: |-
      The storage account name.
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the encryption scope within the specified storage account.
  optionalParameters:
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_storage_account_encryption-scope_update
  name: az storage account encryption-scope update
  summary: |-
    Update properties for specified encryption scope within storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account encryption-scope update --account-name
                                               --name
                                               [--key-source {Microsoft.KeyVault, Microsoft.Storage}]
                                               [--key-uri]
                                               [--resource-group]
                                               [--state {Disabled, Enabled}]
  examples:
  - summary: |-
      Update an encryption scope key source to Microsoft.Storage.
    syntax: az storage account encryption-scope update --name myencryption -s Microsoft.Storage --account-name mystorageaccount -g MyResourceGroup
  - summary: |-
      Create an encryption scope within storage account based on Microsoft.KeyVault key source.
    syntax: az storage account encryption-scope update --name myencryption -s Microsoft.KeyVault -u "https://vaultname.vault.azure.net/keys/keyname/1f7fa7edc99f4cdf82b5b5f32f2a50a7" --account-name mystorageaccount -g MyResourceGroup
  - summary: |-
      Disable an encryption scope within storage account.
    syntax: az storage account encryption-scope update --name myencryption --state Disabled --account-name mystorageaccount -g MyResourceGroup
  - summary: |-
      Enable an encryption scope within storage account.
    syntax: az storage account encryption-scope update --name myencryption --state Enabled --account-name mystorageaccount -g MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --account-name
    summary: |-
      The storage account name.
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the encryption scope within the specified storage account.
  optionalParameters:
  - name: --key-source -s
    parameterValueGroup: "Microsoft.KeyVault, Microsoft.Storage"
    summary: |-
      The provider for the encryption scope.
  - name: --key-uri -u
    summary: |-
      The object identifier for a key vault key object. When applied, the encryption scope will use the key referenced by the identifier to enable customer-managed key support on this encryption scope.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --state
    parameterValueGroup: "Disabled, Enabled"
    summary: |-
      Change the state the encryption scope. When disabled, all blob read/write operations using this encryption scope will fail.
commands:
- az_storage_account_encryption-scope_create
- az_storage_account_encryption-scope_list
- az_storage_account_encryption-scope_show
- az_storage_account_encryption-scope_update
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, none, table, tsv, yaml, yamlc"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  ms.date: 01/29/2024
  description: Manage encryption scope for a storage account.

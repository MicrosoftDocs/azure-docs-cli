### YamlMime:AzureCLIGroup
uid: az_storage_fs_directory
name: az storage fs directory
summary: |-
  Manage directories in Azure Data Lake Storage Gen2 account.
status: GA
sourceType: Core
directCommands:
- uid: az_storage_fs_directory_create
  name: az storage fs directory create
  summary: |-
    Create a directory in ADLS Gen2 file system.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory create --file-system
                                   --name
                                   [--account-key]
                                   [--account-name]
                                   [--auth-mode {key, login}]
                                   [--blob-endpoint]
                                   [--connection-string]
                                   [--metadata]
                                   [--permissions]
                                   [--sas-token]
                                   [--timeout]
                                   [--umask]
  examples:
  - summary: |-
      Create a directory in ADLS Gen2 file system.
    syntax: az storage fs directory create -n dir -f myfilesystem --account-name myadlsaccount --account-key 0000-0000
  - summary: |-
      Create a directory in ADLS Gen2 file system through connection string.
    syntax: az storage fs directory create -n dir -f myfilesystem --connection-string myconnectionstring
  requiredParameters:
  - isRequired: true
    name: --file-system -f
    summary: |-
      File system name (i.e. container name).
  - isRequired: true
    name: --name -n
    summary: |-
      The name of directory.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --auth-mode
    parameterValueGroup: "key, login"
    summary: |-
      The mode in which to run the command. "login" mode will directly use your login credentials for the authentication. The legacy "key" mode will attempt to query for an account key if no authentication parameters for the account are provided. Environment variable: AZURE_STORAGE_AUTH_MODE.
  - name: --blob-endpoint
    summary: |-
      Storage data service endpoint. Must be used in conjunction with either storage account key or a SAS token. You can find each service primary endpoint with `az storage account show`. Environment variable: AZURE_STORAGE_SERVICE_ENDPOINT.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --metadata
    summary: |-
      Metadata in space-separated key=value pairs. This overwrites any existing metadata.
  - name: --permissions
    summary: |-
      POSIX access permissions for the file owner, the file owning group, and others. Each class may be granted read (4), write (2), or execute (1) permission. Both symbolic (rwxrw-rw-) and 4-digit octal notation (e.g. 0766) are supported. The sticky bit is also supported and in symbolic notation, its represented either by the letter t or T in the final character-place depending on whether the execution bit for the others category is set or unset respectively (e.g. rwxrw-rw- with sticky bit is represented as rwxrw-rwT. A rwxrw-rwx with sticky bit is represented as rwxrw-rwt), absence of t or T indicates sticky bit not set. In 4-digit octal notation, its represented by 1st digit (e.g. 1766 represents rwxrw-rw- with sticky bit and 0766 represents rwxrw-rw- without sticky bit). For more information, please refer to https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-access-control#levels-of-permission.
  - name: --sas-token
    summary: |-
      A Shared Access Signature (SAS). Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_SAS_TOKEN.
  - name: --timeout
    summary: |-
      Request timeout in seconds. Applies to each call to the service.
  - name: --umask
    summary: |-
      When creating a file or directory and the parent folder does not have a default ACL, the umask restricts the permissions of the file or directory to be created. The resulting permission is given by p & ^u, where p is the permission and u is the umask. For more information, please refer to https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-access-control#umask.
- uid: az_storage_fs_directory_delete
  name: az storage fs directory delete
  summary: |-
    Delete a directory in ADLS Gen2 file system.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory delete --file-system
                                   --name
                                   [--account-key]
                                   [--account-name]
                                   [--auth-mode {key, login}]
                                   [--blob-endpoint]
                                   [--connection-string]
                                   [--sas-token]
                                   [--timeout]
                                   [--yes]
  examples:
  - summary: |-
      Delete a directory in ADLS Gen2 file system.
    syntax: az storage fs directory delete -n dir -f myfilesystem --account-name myadlsaccount --account-key 0000-0000
  - summary: |-
      Delete a directory in ADLS Gen2 file system. (autogenerated)
    syntax: az storage fs directory delete --account-name myadlsaccount --auth-mode login --file-system myfilesystem --name dir --yes
  requiredParameters:
  - isRequired: true
    name: --file-system -f
    summary: |-
      File system name (i.e. container name).
  - isRequired: true
    name: --name -n
    summary: |-
      The name of directory.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --auth-mode
    parameterValueGroup: "key, login"
    summary: |-
      The mode in which to run the command. "login" mode will directly use your login credentials for the authentication. The legacy "key" mode will attempt to query for an account key if no authentication parameters for the account are provided. Environment variable: AZURE_STORAGE_AUTH_MODE.
  - name: --blob-endpoint
    summary: |-
      Storage data service endpoint. Must be used in conjunction with either storage account key or a SAS token. You can find each service primary endpoint with `az storage account show`. Environment variable: AZURE_STORAGE_SERVICE_ENDPOINT.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --sas-token
    summary: |-
      A Shared Access Signature (SAS). Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_SAS_TOKEN.
  - name: --timeout
    summary: |-
      Request timeout in seconds. Applies to each call to the service.
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
- uid: az_storage_fs_directory_download
  name: az storage fs directory download
  summary: |-
    Download files from the directory in ADLS Gen2 file system to a local file path.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: 'This command is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus'
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory download --destination-path
                                     --file-system
                                     [--account-key]
                                     [--account-name]
                                     [--connection-string]
                                     [--recursive]
                                     [--sas-token]
                                     [--source-path]
  examples:
  - summary: |-
      Download a single file in a directory in ADLS Gen2 file system.
    syntax: az storage fs directory download -f myfilesystem --account-name mystorageaccount -s "path/to/file" -d "<local-path>"
  - summary: |-
      Download whole ADLS Gen2 file system.
    syntax: az storage fs directory download -f myfilesystem --account-name mystorageaccount  -d "<local-path>" --recursive
  - summary: |-
      Download the entire directory in ADLS Gen2 file system.
    syntax: az storage fs directory download -f myfilesystem --account-name mystorageaccount -s SourceDirectoryPath -d "<local-path>" --recursive
  - summary: |-
      Download an entire subdirectory in ADLS Gen2 file system.
    syntax: az storage fs directory download -f myfilesystem --account-name mystorageaccount -s "path/to/subdirectory" -d "<local-path>" --recursive
  requiredParameters:
  - isRequired: true
    name: --destination-path -d
    summary: |-
      The destination local directory path to download.
  - isRequired: true
    name: --file-system -f
    summary: |-
      The download source file system.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --recursive -r
    summary: |-
      Recursively download files. If enabled, all the files including the files in subdirectories will be downloaded.
  - name: --sas-token
    summary: |-
      A Shared Access Signature (SAS). Must be used in conjunction with storage account name. Environment variable: AZURE_STORAGE_SAS_TOKEN.
  - name: --source-path -s
    summary: |-
      The download source directory path. It should be an absolute path to file system.
- uid: az_storage_fs_directory_exists
  name: az storage fs directory exists
  summary: |-
    Check for the existence of a directory in ADLS Gen2 file system.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory exists --file-system
                                   --name
                                   [--account-key]
                                   [--account-name]
                                   [--auth-mode {key, login}]
                                   [--blob-endpoint]
                                   [--connection-string]
                                   [--sas-token]
                                   [--timeout]
  examples:
  - summary: |-
      Check for the existence of a directory in ADLS Gen2 file system.
    syntax: az storage fs directory exists -n dir -f myfilesystem --account-name myadlsaccount --account-key 0000-0000
  - summary: |-
      Check for the existence of a directory in ADLS Gen2 file system. (autogenerated)
    syntax: az storage fs directory exists --account-name myadlsaccount --auth-mode login --file-system myfilesystem --name dir
  requiredParameters:
  - isRequired: true
    name: --file-system -f
    summary: |-
      File system name (i.e. container name).
  - isRequired: true
    name: --name -n
    summary: |-
      The name of directory.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --auth-mode
    parameterValueGroup: "key, login"
    summary: |-
      The mode in which to run the command. "login" mode will directly use your login credentials for the authentication. The legacy "key" mode will attempt to query for an account key if no authentication parameters for the account are provided. Environment variable: AZURE_STORAGE_AUTH_MODE.
  - name: --blob-endpoint
    summary: |-
      Storage data service endpoint. Must be used in conjunction with either storage account key or a SAS token. You can find each service primary endpoint with `az storage account show`. Environment variable: AZURE_STORAGE_SERVICE_ENDPOINT.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --sas-token
    summary: |-
      A Shared Access Signature (SAS). Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_SAS_TOKEN.
  - name: --timeout
    summary: |-
      Request timeout in seconds. Applies to each call to the service.
- uid: az_storage_fs_directory_generate-sas
  name: az storage fs directory generate-sas
  summary: |-
    Generate a SAS token for directory in ADLS Gen2 account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory generate-sas --file-system
                                         --name
                                         [--account-key]
                                         [--account-name]
                                         [--as-user]
                                         [--auth-mode {key, login}]
                                         [--blob-endpoint]
                                         [--cache-control]
                                         [--connection-string]
                                         [--content-disposition]
                                         [--content-encoding]
                                         [--content-language]
                                         [--content-type]
                                         [--encryption-scope]
                                         [--expiry]
                                         [--full-uri]
                                         [--https-only]
                                         [--ip]
                                         [--permissions]
                                         [--policy-name]
                                         [--start]
  examples:
  - summary: |-
      Generate a sas token for directory and use it to upload files.
    syntax: >-
      end=`date -u -d "30 minutes" '+%Y-%m-%dT%H:%MZ'`

      az storage fs directory generate-sas --name dir/ --file-system myfilesystem --https-only --permissions dlrw --expiry $end -o tsv
  requiredParameters:
  - isRequired: true
    name: --file-system -f
    summary: |-
      File system name (i.e. container name).
  - isRequired: true
    name: --name -n
    summary: |-
      The name of directory.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --as-user
    defaultValue: "False"
    summary: |-
      Indicates that this command return the SAS signed with the user delegation key. The expiry parameter and '--auth-mode login' are required if this argument is specified.
  - name: --auth-mode
    parameterValueGroup: "key, login"
    summary: |-
      The mode in which to run the command. "login" mode will directly use your login credentials for the authentication. The legacy "key" mode will attempt to query for an account key if no authentication parameters for the account are provided. Environment variable: AZURE_STORAGE_AUTH_MODE.
  - name: --blob-endpoint
    summary: |-
      Storage data service endpoint. Must be used in conjunction with either storage account key or a SAS token. You can find each service primary endpoint with `az storage account show`. Environment variable: AZURE_STORAGE_SERVICE_ENDPOINT.
  - name: --cache-control
    summary: |-
      Response header value for Cache-Control when resource is accessedusing this shared access signature.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --content-disposition
    summary: |-
      Response header value for Content-Disposition when resource is accessedusing this shared access signature.
  - name: --content-encoding
    summary: |-
      Response header value for Content-Encoding when resource is accessedusing this shared access signature.
  - name: --content-language
    summary: |-
      Response header value for Content-Language when resource is accessedusing this shared access signature.
  - name: --content-type
    summary: |-
      Response header value for Content-Type when resource is accessedusing this shared access signature.
  - name: --encryption-scope
    summary: |-
      Specify the encryption scope for a request made so that all write operations will be service encrypted.
  - name: --expiry
    summary: |-
      Specifies the UTC datetime (Y-m-d'T'H:M'Z') at which the SAS becomes invalid. Do not use if a stored access policy is referenced with --policy-name that specifies this value.
  - name: --full-uri
    defaultValue: "False"
    summary: |-
      Indicate that this command return the full blob URI and the shared access signature token.
  - name: --https-only
    summary: |-
      Only permit requests made with the HTTPS protocol. If omitted, requests from both the HTTP and HTTPS protocol are permitted.
  - name: --ip
    summary: |-
      Specifies the IP address or range of IP addresses from which to accept requests. Supports only IPv4 style addresses.
  - name: --permissions
    summary: |-
      The permissions the SAS grants. Allowed values: (a)dd (c)reate (d)elete (e)xecute (l)ist (m)ove (o)wnership (p)ermissions (r)ead (w)rite. Do not use if a stored access policy is referenced with --id that specifies this value. Can be combined.
  - name: --policy-name
    summary: |-
      The name of a stored access policy.
  - name: --start
    summary: |-
      Specifies the UTC datetime (Y-m-d'T'H:M'Z') at which the SAS becomes valid. Do not use if a stored access policy is referenced with --policy-name that specifies this value. Defaults to the time of the request.
- uid: az_storage_fs_directory_list
  name: az storage fs directory list
  summary: |-
    List directories in ADLS Gen2 file system.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory list --file-system
                                 [--account-key]
                                 [--account-name]
                                 [--auth-mode {key, login}]
                                 [--blob-endpoint]
                                 [--connection-string]
                                 [--num-results]
                                 [--path]
                                 [--recursive {false, true}]
                                 [--sas-token]
                                 [--timeout]
  examples:
  - summary: |-
      List directories in ADLS Gen2 file system.
    syntax: az storage fs directory list -f myfilesystem --account-name myadlsaccount --account-key 0000-0000
  - summary: |-
      List directories in "dir/" for ADLS Gen2 file system.
    syntax: az storage fs directory list --path dir -f myfilesystem --account-name myadlsaccount --account-key 0000-0000
  requiredParameters:
  - isRequired: true
    name: --file-system -f
    summary: |-
      File system name (i.e. container name).
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --auth-mode
    parameterValueGroup: "key, login"
    summary: |-
      The mode in which to run the command. "login" mode will directly use your login credentials for the authentication. The legacy "key" mode will attempt to query for an account key if no authentication parameters for the account are provided. Environment variable: AZURE_STORAGE_AUTH_MODE.
  - name: --blob-endpoint
    summary: |-
      Storage data service endpoint. Must be used in conjunction with either storage account key or a SAS token. You can find each service primary endpoint with `az storage account show`. Environment variable: AZURE_STORAGE_SERVICE_ENDPOINT.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --num-results
    summary: |-
      Specify the maximum number of results to return.
  - name: --path
    summary: |-
      Filter the results to return only paths under the specified path.
  - name: --recursive
    defaultValue: "True"
    parameterValueGroup: "false, true"
    summary: |-
      Look into sub-directories recursively when set to true.
  - name: --sas-token
    summary: |-
      A Shared Access Signature (SAS). Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_SAS_TOKEN.
  - name: --timeout
    summary: |-
      Request timeout in seconds. Applies to each call to the service.
- uid: az_storage_fs_directory_move
  name: az storage fs directory move
  summary: |-
    Move a directory in ADLS Gen2 file system.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory move --file-system
                                 --name
                                 --new-directory
                                 [--account-key]
                                 [--account-name]
                                 [--auth-mode {key, login}]
                                 [--blob-endpoint]
                                 [--connection-string]
                                 [--sas-token]
                                 [--timeout]
  examples:
  - summary: |-
      Move a directory a directory in ADLS Gen2 file system.
    syntax: az storage fs directory move --new-directory newfs/dir -n dir -f myfilesystem --account-name myadlsaccount --account-key 0000-0000
  - summary: |-
      Move a directory in ADLS Gen2 file system. (autogenerated)
    syntax: az storage fs directory move --account-name myadlsaccount --auth-mode login --file-system myfilesystem --name dir --new-directory newfs/dir
  requiredParameters:
  - isRequired: true
    name: --file-system -f
    summary: |-
      File system name (i.e. container name).
  - isRequired: true
    name: --name -n
    summary: |-
      The name of directory.
  - isRequired: true
    name: --new-directory -d
    summary: |-
      The new directory name the users want to move to. The value must have the following format: "{filesystem}/{directory}/{subdirectory}".
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --auth-mode
    parameterValueGroup: "key, login"
    summary: |-
      The mode in which to run the command. "login" mode will directly use your login credentials for the authentication. The legacy "key" mode will attempt to query for an account key if no authentication parameters for the account are provided. Environment variable: AZURE_STORAGE_AUTH_MODE.
  - name: --blob-endpoint
    summary: |-
      Storage data service endpoint. Must be used in conjunction with either storage account key or a SAS token. You can find each service primary endpoint with `az storage account show`. Environment variable: AZURE_STORAGE_SERVICE_ENDPOINT.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --sas-token
    summary: |-
      A Shared Access Signature (SAS). Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_SAS_TOKEN.
  - name: --timeout
    summary: |-
      Request timeout in seconds. Applies to each call to the service.
- uid: az_storage_fs_directory_show
  name: az storage fs directory show
  summary: |-
    Show properties of a directory in ADLS Gen2 file system.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory show --file-system
                                 --name
                                 [--account-key]
                                 [--account-name]
                                 [--auth-mode {key, login}]
                                 [--blob-endpoint]
                                 [--connection-string]
                                 [--sas-token]
                                 [--timeout]
  examples:
  - summary: |-
      Show properties of a directory in ADLS Gen2 file system.
    syntax: az storage fs directory show -n dir -f myfilesystem --account-name myadlsaccount --account-key 0000-0000
  - summary: |-
      Show properties of a subdirectory in ADLS Gen2 file system.
    syntax: az storage fs directory show -n dir/subdir -f myfilesystem --account-name myadlsaccount --account-key 0000-0000
  - summary: |-
      Show properties of a directory in ADLS Gen2 file system. (autogenerated)
    syntax: az storage fs directory show --account-name myadlsaccount --auth-mode login --file-system myfilesystem --name dir
  requiredParameters:
  - isRequired: true
    name: --file-system -f
    summary: |-
      File system name (i.e. container name).
  - isRequired: true
    name: --name -n
    summary: |-
      The name of directory.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --auth-mode
    parameterValueGroup: "key, login"
    summary: |-
      The mode in which to run the command. "login" mode will directly use your login credentials for the authentication. The legacy "key" mode will attempt to query for an account key if no authentication parameters for the account are provided. Environment variable: AZURE_STORAGE_AUTH_MODE.
  - name: --blob-endpoint
    summary: |-
      Storage data service endpoint. Must be used in conjunction with either storage account key or a SAS token. You can find each service primary endpoint with `az storage account show`. Environment variable: AZURE_STORAGE_SERVICE_ENDPOINT.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --sas-token
    summary: |-
      A Shared Access Signature (SAS). Must be used in conjunction with storage account name or service endpoint. Environment variable: AZURE_STORAGE_SAS_TOKEN.
  - name: --timeout
    summary: |-
      Request timeout in seconds. Applies to each call to the service.
- uid: az_storage_fs_directory_upload
  name: az storage fs directory upload
  summary: |-
    Upload files or subdirectories to a directory in ADLS Gen2 file system.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: 'This command is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus'
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage fs directory upload --file-system
                                   --source
                                   [--account-key]
                                   [--account-name]
                                   [--connection-string]
                                   [--destination-path]
                                   [--recursive]
                                   [--sas-token]
  examples:
  - summary: |-
      Upload a single file to a storage blob directory.
    syntax: az storage fs directory upload -f myfilesystem --account-name mystorageaccount -s "path/to/file" -d directory
  - summary: |-
      Upload a local directory to root directory in ADLS Gen2 file system.
    syntax: az storage fs directory upload -f myfilesystem --account-name mystorageaccount -s "path/to/directory" --recursive
  - summary: |-
      Upload a local directory to a directory in ADLS Gen2 file system.
    syntax: az storage fs directory upload -f myfilesystem --account-name mystorageaccount -s "path/to/directory" -d directory --recursive
  - summary: |-
      Upload a set of files in a local directory to a directory in ADLS Gen2 file system.
    syntax: az storage fs directory upload -f myfilesystem --account-name mystorageaccount -s "path/to/file*" -d directory --recursive
  requiredParameters:
  - isRequired: true
    name: --file-system -f
    summary: |-
      The upload destination file system.
  - isRequired: true
    name: --source -s
    summary: |-
      The source file path to upload from.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Related environment variable: AZURE_STORAGE_ACCOUNT. Must be used in conjunction with either storage account key or a SAS token. If neither are present, the command will try to query the storage account key using the authenticated Azure account. If a large number of storage commands are executed the API quota may be hit.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --destination-path -d
    summary: |-
      The upload destination directory path. It should be an absolute path to file system. If the specified destination path does not exist, a new directory path will be created.
  - name: --recursive -r
    summary: |-
      Recursively upload files. If enabled, all the files including the files in subdirectories will be uploaded.
  - name: --sas-token
    summary: |-
      A Shared Access Signature (SAS). Must be used in conjunction with storage account name. Environment variable: AZURE_STORAGE_SAS_TOKEN.
commands:
- az_storage_fs_directory_create
- az_storage_fs_directory_delete
- az_storage_fs_directory_download
- az_storage_fs_directory_exists
- az_storage_fs_directory_generate-sas
- az_storage_fs_directory_list
- az_storage_fs_directory_metadata
- az_storage_fs_directory_metadata_show
- az_storage_fs_directory_metadata_update
- az_storage_fs_directory_move
- az_storage_fs_directory_show
- az_storage_fs_directory_upload
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, none, table, tsv, yaml, yamlc"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  ms.date: 01/29/2024
  description: Manage directories in Azure Data Lake Storage Gen2 account.

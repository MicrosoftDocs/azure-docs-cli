### YamlMime:AzureCLIGroup
uid: az_monitor_log-analytics_workspace
name: az monitor log-analytics workspace
summary: |-
  Manage Azure log analytics workspace.
status: GA
sourceType: Core
directCommands:
- uid: az_monitor_log-analytics_workspace_create
  name: az monitor log-analytics workspace create
  summary: |-
    Create a workspace instance.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace create --name
                                              --resource-group
                                              [--capacity-reservation-level {100, 1000, 200, 2000, 300, 400, 500, 5000}]
                                              [--ingestion-access {Disabled, Enabled}]
                                              [--location]
                                              [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]
                                              [--query-access {Disabled, Enabled}]
                                              [--quota]
                                              [--retention-time]
                                              [--sku {CapacityReservation, Free, LACluster, PerGB2018, PerNode, Premium, Standalone, Standard}]
                                              [--tags]
  examples:
  - summary: |-
      Create a workspace instance
    syntax: az monitor log-analytics workspace create -g MyResourceGroup -n MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --name --workspace-name -n
    summary: |-
      Name of the Log Analytics Workspace.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  optionalParameters:
  - name: --capacity-reservation-level --level
    parameterValueGroup: "100, 1000, 200, 2000, 300, 400, 500, 5000"
    summary: |-
      The capacity reservation level for this workspace, when CapacityReservation sku is selected. The maximum value is 1000 and must be in multiples of 100. If you want to increase the limit, please contact LAIngestionRate@microsoft.com.
  - name: --ingestion-access
    parameterValueGroup: "Disabled, Enabled"
    summary: |-
      The public network access type to access workspace ingestion.
  - name: --location -l
    summary: |-
      The geo-location where the resource lives  When not specified, the location of the resource group will be used.
  - name: --no-wait
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      Do not wait for the long-running operation to finish.
  - name: --query-access
    parameterValueGroup: "Disabled, Enabled"
    summary: |-
      The public network access type to access workspace query.
  - name: --quota
    summary: |-
      The workspace daily quota for ingestion in gigabytes. The minimum value is 0.023 and default is -1 which means unlimited.
  - name: --retention-time
    defaultValue: "30"
    summary: |-
      The workspace data retention in days. Allowed values are per pricing plan. See pricing tiers documentation for details.
  - name: --sku --sku-name
    defaultValue: "PerGB2018"
    parameterValueGroup: "CapacityReservation, Free, LACluster, PerGB2018, PerNode, Premium, Standalone, Standard"
    summary: |-
      The name of the SKU.
  - name: --tags
    summary: |-
      Resource tags.  Support shorthand-syntax, json-file and yaml-file. Try "??" to show more.
- uid: az_monitor_log-analytics_workspace_delete
  name: az monitor log-analytics workspace delete
  summary: |-
    Deletes a workspace resource.
  description: |-
    The name is kept for 14 days and cannot be used for another workspace. To remove the workspace completely and release the name, use the --force flag.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace delete [--force {0, 1, f, false, n, no, t, true, y, yes}]
                                              [--ids]
                                              [--name]
                                              [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]
                                              [--resource-group]
                                              [--subscription]
                                              [--yes]
  examples:
  - summary: |-
      Soft delete a workspace instance.
    syntax: az monitor log-analytics workspace delete --resource-group MyResourceGroup --workspace-name MyWorkspace
  - summary: |-
      Completely delete a workspace instance.
    syntax: az monitor log-analytics workspace delete --force --resource-group MyResourceGroup --workspace-name MyWorkspace
  optionalParameters:
  - name: --force -f
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      Deletes the workspace without the recovery option. A workspace that was deleted with this flag cannot be recovered.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name --workspace-name -n
    summary: |-
      Name of the Log Analytics Workspace.
  - name: --no-wait
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      Do not wait for the long-running operation to finish.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
- uid: az_monitor_log-analytics_workspace_get-schema
  name: az monitor log-analytics workspace get-schema
  summary: |-
    Get the schema for a given workspace.
  description: |-
    Schema represents the internal structure of the workspace, which can be used during the query.
    For more information, visit: https://docs.microsoft.com/en-us/rest/api/loganalytics/workspace-schema/get.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace get-schema --name
                                                  --resource-group
  examples:
  - summary: |-
      Get the schema for a given workspace.
    syntax: az monitor log-analytics workspace get-schema --resource-group MyResourceGroup --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --name --workspace-name -n
    summary: |-
      The name of the workspace.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_monitor_log-analytics_workspace_get-shared-keys
  name: az monitor log-analytics workspace get-shared-keys
  summary: |-
    Get the shared keys for a workspace.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace get-shared-keys --name
                                                       --resource-group
  examples:
  - summary: |-
      Get the shared keys for a workspace.
    syntax: az monitor log-analytics workspace get-shared-keys --resource-group MyResourceGroup --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --name --workspace-name -n
    summary: |-
      The name of the workspace.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_monitor_log-analytics_workspace_list
  name: az monitor log-analytics workspace list
  summary: |-
    Get a list of workspaces under a resource group or a subscription.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: az monitor log-analytics workspace list [--resource-group]
  optionalParameters:
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_monitor_log-analytics_workspace_list-deleted-workspaces
  name: az monitor log-analytics workspace list-deleted-workspaces
  summary: |-
    Get a list of deleted workspaces that can be recovered in a subscription or a resource group.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: az monitor log-analytics workspace list-deleted-workspaces [--resource-group]
  examples:
  - summary: |-
      Get a list of deleted workspaces that can be recovered in a resource group
    syntax: az monitor log-analytics workspace list-deleted-workspaces --resource-group MyResourceGroup
  optionalParameters:
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_monitor_log-analytics_workspace_list-management-groups
  name: az monitor log-analytics workspace list-management-groups
  summary: |-
    Get a list of management groups connected to a workspace.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace list-management-groups --name
                                                              --resource-group
  examples:
  - summary: |-
      Get a list of management groups connected to a workspace.
    syntax: az monitor log-analytics workspace list-management-groups --resource-group MyResourceGroup --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --name --workspace-name -n
    summary: |-
      The name of the workspace.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_monitor_log-analytics_workspace_list-usages
  name: az monitor log-analytics workspace list-usages
  summary: |-
    Get a list of usage metrics for a workspace.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace list-usages --name
                                                   --resource-group
  examples:
  - summary: |-
      Get a list of usage metrics for a workspace.
    syntax: az monitor log-analytics workspace list-usages --resource-group MyResourceGroup --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --name --workspace-name -n
    summary: |-
      The name of the workspace.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_monitor_log-analytics_workspace_recover
  name: az monitor log-analytics workspace recover
  summary: |-
    Recover a workspace in a soft-delete state within 14 days.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace recover --workspace-name
                                               [--no-wait]
                                               [--resource-group]
  examples:
  - summary: |-
      Recover a workspace in a soft-delete state within 14 days
    syntax: az monitor log-analytics workspace recover --resource-group MyResourceGroup -n MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --workspace-name -n
    summary: |-
      Name of the Log Analytics Workspace.
  optionalParameters:
  - name: --no-wait
    defaultValue: "False"
    summary: |-
      Do not wait for the long-running operation to finish.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_monitor_log-analytics_workspace_show
  name: az monitor log-analytics workspace show
  summary: |-
    Show a workspace instance.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace show [--ids]
                                            [--name]
                                            [--resource-group]
                                            [--subscription]
  examples:
  - summary: |-
      Show a workspace instance.
    syntax: az monitor log-analytics workspace show --resource-group MyResourceGroup --workspace-name MyWorkspace
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name --workspace-name -n
    summary: |-
      Name of the Log Analytics Workspace.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_monitor_log-analytics_workspace_update
  name: az monitor log-analytics workspace update
  summary: |-
    Update a workspace instance.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace update [--add]
                                              [--capacity-reservation-level {100, 1000, 200, 2000, 300, 400, 500, 5000}]
                                              [--data-collection-rule]
                                              [--force-string {0, 1, f, false, n, no, t, true, y, yes}]
                                              [--ids]
                                              [--ingestion-access {Disabled, Enabled}]
                                              [--name]
                                              [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]
                                              [--query-access {Disabled, Enabled}]
                                              [--quota]
                                              [--remove]
                                              [--resource-group]
                                              [--retention-time]
                                              [--set]
                                              [--subscription]
                                              [--tags]
  examples:
  - summary: |-
      Update a workspace instance.
    syntax: az monitor log-analytics workspace update --resource-group myresourcegroup --retention-time 30 --workspace-name myworkspace
  - summary: |-
      Update the defaultDataCollectionRuleResourceId of the workspace
    syntax: az monitor log-analytics workspace update --resource-group myresourcegroup --workspace-name myworkspace --data-collection-rule "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/dataCollectionRules/{dcrName}".
  optionalParameters:
  - name: --add
    summary: |-
      Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.
  - name: --capacity-reservation-level --level
    parameterValueGroup: "100, 1000, 200, 2000, 300, 400, 500, 5000"
    summary: |-
      The capacity reservation level for this workspace, when CapacityReservation sku is selected. The maximum value is 1000 and must be in multiples of 100. If you want to increase the limit, please contact LAIngestionRate@microsoft.com.
  - name: --data-collection-rule
    summary: |-
      The resource ID of the default Data Collection Rule to use for this workspace. Expected format is - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/dataCollectionRules/{dcrName}.
  - name: --force-string
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --ingestion-access
    parameterValueGroup: "Disabled, Enabled"
    summary: |-
      The public network access type to access workspace ingestion.
  - name: --name --workspace-name -n
    summary: |-
      Name of the Log Analytics Workspace.
  - name: --no-wait
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      Do not wait for the long-running operation to finish.
  - name: --query-access
    parameterValueGroup: "Disabled, Enabled"
    summary: |-
      The public network access type to access workspace query.
  - name: --quota
    summary: |-
      The workspace daily quota for ingestion in gigabytes. The minimum value is 0.023 and default is -1 which means unlimited.
  - name: --remove
    summary: |-
      Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --retention-time
    summary: |-
      The workspace data retention in days. Allowed values are per pricing plan. See pricing tiers documentation for details.
  - name: --set
    summary: |-
      Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --tags
    summary: |-
      Resource tags.  Support shorthand-syntax, json-file and yaml-file. Try "??" to show more.
- uid: az_monitor_log-analytics_workspace_wait
  name: az monitor log-analytics workspace wait
  summary: |-
    Place the CLI in a waiting state until a condition is met.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
  syntax: >-
    az monitor log-analytics workspace wait [--created]
                                            [--custom]
                                            [--deleted]
                                            [--exists]
                                            [--ids]
                                            [--interval]
                                            [--name]
                                            [--resource-group]
                                            [--subscription]
                                            [--timeout]
                                            [--updated]
  optionalParameters:
  - name: --created
    defaultValue: "False"
    summary: |-
      Wait until created with 'provisioningState' at 'Succeeded'.
  - name: --custom
    summary: |-
      Wait until the condition satisfies a custom JMESPath query. E.g. provisioningState!='InProgress', instanceView.statuses[?code=='PowerState/running'].
  - name: --deleted
    defaultValue: "False"
    summary: |-
      Wait until deleted.
  - name: --exists
    defaultValue: "False"
    summary: |-
      Wait until the resource exists.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --interval
    defaultValue: "30"
    summary: |-
      Polling interval in seconds.
  - name: --name --workspace-name -n
    summary: |-
      Name of the Log Analytics Workspace.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --timeout
    defaultValue: "3600"
    summary: |-
      Maximum wait in seconds.
  - name: --updated
    defaultValue: "False"
    summary: |-
      Wait until updated with provisioningState at 'Succeeded'.
commands:
- az_monitor_log-analytics_workspace_create
- az_monitor_log-analytics_workspace_data-export
- az_monitor_log-analytics_workspace_data-export_create
- az_monitor_log-analytics_workspace_data-export_delete
- az_monitor_log-analytics_workspace_data-export_list
- az_monitor_log-analytics_workspace_data-export_show
- az_monitor_log-analytics_workspace_data-export_update
- az_monitor_log-analytics_workspace_delete
- az_monitor_log-analytics_workspace_get-schema
- az_monitor_log-analytics_workspace_get-shared-keys
- az_monitor_log-analytics_workspace_linked-service
- az_monitor_log-analytics_workspace_linked-service_create
- az_monitor_log-analytics_workspace_linked-service_delete
- az_monitor_log-analytics_workspace_linked-service_list
- az_monitor_log-analytics_workspace_linked-service_show
- az_monitor_log-analytics_workspace_linked-service_update
- az_monitor_log-analytics_workspace_linked-service_wait
- az_monitor_log-analytics_workspace_linked-storage
- az_monitor_log-analytics_workspace_linked-storage_add
- az_monitor_log-analytics_workspace_linked-storage_create
- az_monitor_log-analytics_workspace_linked-storage_delete
- az_monitor_log-analytics_workspace_linked-storage_list
- az_monitor_log-analytics_workspace_linked-storage_remove
- az_monitor_log-analytics_workspace_linked-storage_show
- az_monitor_log-analytics_workspace_list
- az_monitor_log-analytics_workspace_list-deleted-workspaces
- az_monitor_log-analytics_workspace_list-management-groups
- az_monitor_log-analytics_workspace_list-usages
- az_monitor_log-analytics_workspace_pack
- az_monitor_log-analytics_workspace_pack_disable
- az_monitor_log-analytics_workspace_pack_enable
- az_monitor_log-analytics_workspace_pack_list
- az_monitor_log-analytics_workspace_recover
- az_monitor_log-analytics_workspace_saved-search
- az_monitor_log-analytics_workspace_saved-search_create
- az_monitor_log-analytics_workspace_saved-search_delete
- az_monitor_log-analytics_workspace_saved-search_list
- az_monitor_log-analytics_workspace_saved-search_show
- az_monitor_log-analytics_workspace_saved-search_update
- az_monitor_log-analytics_workspace_show
- az_monitor_log-analytics_workspace_table
- az_monitor_log-analytics_workspace_table_create
- az_monitor_log-analytics_workspace_table_delete
- az_monitor_log-analytics_workspace_table_list
- az_monitor_log-analytics_workspace_table_migrate
- az_monitor_log-analytics_workspace_table_restore
- az_monitor_log-analytics_workspace_table_restore_create
- az_monitor_log-analytics_workspace_table_search-job
- az_monitor_log-analytics_workspace_table_search-job_create
- az_monitor_log-analytics_workspace_table_show
- az_monitor_log-analytics_workspace_table_update
- az_monitor_log-analytics_workspace_table_wait
- az_monitor_log-analytics_workspace_update
- az_monitor_log-analytics_workspace_wait
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, table, tsv"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  ms.date: 09/19/2023
  description: Manage Azure log analytics workspace.

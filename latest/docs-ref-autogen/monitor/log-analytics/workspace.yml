### YamlMime:AzureCLIGroup
uid: az_monitor_log-analytics_workspace
name: az monitor log-analytics workspace
summary: Manage Azure log analytics workspace.
description: ''
directCommands:
- uid: az_monitor_log-analytics_workspace_create
  name: az monitor log-analytics workspace create
  summary: Create a workspace instance.
  description: ''
  syntax: >-
    az monitor log-analytics workspace create --resource-group
                                              --workspace-name
                                              [--capacity-reservation-level]
                                              [--ingestion-access {Disabled, Enabled}]
                                              [--location]
                                              [--no-wait]
                                              [--query-access {Disabled, Enabled}]
                                              [--quota]
                                              [--retention-time]
                                              [--sku]
                                              [--tags]
  examples:
  - summary: Create a workspace instance
    syntax: az monitor log-analytics workspace create -g MyResourceGroup -n MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  optionalParameters:
  - name: --capacity-reservation-level --level
    summary: The capacity reservation level for this workspace, when CapacityReservation sku is selected. The maximum value is 1000 and must be in multiples of 100. If you want to increase the limit, please contact LAIngestionRate@microsoft.com.
    description: ''
  - name: --ingestion-access
    parameterValueGroup: Disabled, Enabled
    summary: The public network access type to access workspace ingestion.
    description: ''
  - name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --query-access
    parameterValueGroup: Disabled, Enabled
    summary: The public network access type to access workspace query.
    description: ''
  - name: --quota
    summary: The workspace daily quota for ingestion in gigabytes. The minimum value is 0.023 and default is -1 which means unlimited.
    description: ''
  - name: --retention-time
    defaultValue: "30"
    summary: The workspace data retention in days.
    description: ''
  - name: --sku
    defaultValue: PerGB2018
    summary: 'The supported value: PerGB2018, CapacityReservation.'
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_delete
  name: az monitor log-analytics workspace delete
  summary: Delete a workspace instance.
  description: ''
  syntax: >-
    az monitor log-analytics workspace delete --resource-group
                                              --workspace-name
                                              [--force {false, true}]
                                              [--yes]
  examples:
  - summary: Delete a workspace instance. (autogenerated)
    syntax: az monitor log-analytics workspace delete --force true --resource-group MyResourceGroup --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  optionalParameters:
  - name: --force -f
    parameterValueGroup: false, true
    summary: Deletes the workspace without the recovery option. A workspace that was deleted with this flag cannot be recovered.
    description: ''
  - name: --yes -y
    summary: Do not prompt for confirmation.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_get-schema
  name: az monitor log-analytics workspace get-schema
  summary: Get the schema for a given workspace.
  description: 'Schema represents the internal structure of the workspace, which can be used during the query. For more information, visit: https://docs.microsoft.com/rest/api/loganalytics/workspaces%202015-03-20/getschema.'
  syntax: >-
    az monitor log-analytics workspace get-schema --resource-group
                                                  --workspace-name
  examples:
  - summary: Get the schema for a given workspace. (autogenerated)
    syntax: az monitor log-analytics workspace get-schema --resource-group MyResourceGroup --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_get-shared-keys
  name: az monitor log-analytics workspace get-shared-keys
  summary: Get the shared keys for a workspace.
  description: ''
  syntax: >-
    az monitor log-analytics workspace get-shared-keys --resource-group
                                                       --workspace-name
  examples:
  - summary: Get the shared keys for a workspace. (autogenerated)
    syntax: az monitor log-analytics workspace get-shared-keys --resource-group MyResourceGroup --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_list
  name: az monitor log-analytics workspace list
  summary: Get a list of workspaces under a resource group or a subscription.
  description: ''
  syntax: az monitor log-analytics workspace list [--resource-group]
  optionalParameters:
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_list-deleted-workspaces
  name: az monitor log-analytics workspace list-deleted-workspaces
  summary: Get a list of deleted workspaces that can be recovered in a subscription or a resource group.
  description: ''
  syntax: az monitor log-analytics workspace list-deleted-workspaces [--resource-group]
  examples:
  - summary: Get a list of deleted workspaces that can be recovered in a resource group
    syntax: az monitor log-analytics workspace list-deleted-workspaces --resource-group MyResourceGroup
  optionalParameters:
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_list-management-groups
  name: az monitor log-analytics workspace list-management-groups
  summary: Get a list of management groups connected to a workspace.
  description: ''
  syntax: >-
    az monitor log-analytics workspace list-management-groups --resource-group
                                                              --workspace-name
  examples:
  - summary: Get a list of management groups connected to a workspace. (autogenerated)
    syntax: az monitor log-analytics workspace list-management-groups --resource-group MyResourceGroup --subscription mysubscription --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_list-usages
  name: az monitor log-analytics workspace list-usages
  summary: Get a list of usage metrics for a workspace.
  description: ''
  syntax: >-
    az monitor log-analytics workspace list-usages --resource-group
                                                   --workspace-name
  examples:
  - summary: Get a list of usage metrics for a workspace. (autogenerated)
    syntax: az monitor log-analytics workspace list-usages --resource-group MyResourceGroup --subscription MySubscription --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_recover
  name: az monitor log-analytics workspace recover
  summary: Recover a workspace in a soft-delete state within 14 days.
  description: ''
  syntax: >-
    az monitor log-analytics workspace recover --workspace-name
                                               [--no-wait]
                                               [--resource-group]
  examples:
  - summary: Recover a workspace in a soft-delete state within 14 days
    syntax: az monitor log-analytics workspace recover --resource-group MyResourceGroup -n MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  optionalParameters:
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_show
  name: az monitor log-analytics workspace show
  summary: Show a workspace instance.
  description: ''
  syntax: >-
    az monitor log-analytics workspace show --resource-group
                                            --workspace-name
  examples:
  - summary: Show a workspace instance. (autogenerated)
    syntax: az monitor log-analytics workspace show --resource-group MyResourceGroup --workspace-name MyWorkspace
  requiredParameters:
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
- uid: az_monitor_log-analytics_workspace_update
  name: az monitor log-analytics workspace update
  summary: Update a workspace instance.
  description: ''
  syntax: >-
    az monitor log-analytics workspace update --resource-group
                                              --workspace-name
                                              [--add]
                                              [--capacity-reservation-level]
                                              [--data-collection-rule]
                                              [--force-string]
                                              [--ingestion-access {Disabled, Enabled}]
                                              [--query-access {Disabled, Enabled}]
                                              [--quota]
                                              [--remove]
                                              [--retention-time]
                                              [--set]
                                              [--tags]
  examples:
  - summary: Update a workspace instance. (autogenerated)
    syntax: az monitor log-analytics workspace update --resource-group myresourcegroup --retention-time 30 --workspace-name myworkspace
  - summary: Update the defaultDataCollectionRuleResourceId of the workspace
    syntax: az monitor log-analytics workspace update --resource-group myresourcegroup --workspace-name myworkspace --data-collection-rule "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/dataCollectionRules/{dcrName}".
  requiredParameters:
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --workspace-name -n
    summary: Name of the Log Analytics Workspace.
    description: ''
  optionalParameters:
  - name: --add
    summary: 'Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.'
    description: ''
  - name: --capacity-reservation-level --level
    summary: The capacity reservation level for this workspace, when CapacityReservation sku is selected. The maximum value is 1000 and must be in multiples of 100. If you want to increase the limit, please contact LAIngestionRate@microsoft.com.
    description: ''
  - name: --data-collection-rule
    summary: The resource ID of the default Data Collection Rule to use for this workspace. Expected format is /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/dataCollectionRules/{dcrName}.
    description: ''
  - name: --force-string
    summary: When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
    description: ''
  - name: --ingestion-access
    parameterValueGroup: Disabled, Enabled
    summary: The public network access type to access workspace ingestion.
    description: ''
  - name: --query-access
    parameterValueGroup: Disabled, Enabled
    summary: The public network access type to access workspace query.
    description: ''
  - name: --quota
    summary: The workspace daily quota for ingestion in gigabytes. The minimum value is 0.023 and default is -1 which means unlimited.
    description: ''
  - name: --remove
    summary: 'Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.'
    description: ''
  - name: --retention-time
    defaultValue: "30"
    summary: The workspace data retention in days.
    description: ''
  - name: --set
    summary: 'Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.'
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/monitor/_help.py
commands:
- az_monitor_log-analytics_workspace_create
- az_monitor_log-analytics_workspace_data-export
- az_monitor_log-analytics_workspace_data-export_create
- az_monitor_log-analytics_workspace_data-export_delete
- az_monitor_log-analytics_workspace_data-export_list
- az_monitor_log-analytics_workspace_data-export_show
- az_monitor_log-analytics_workspace_data-export_update
- az_monitor_log-analytics_workspace_delete
- az_monitor_log-analytics_workspace_get-schema
- az_monitor_log-analytics_workspace_get-shared-keys
- az_monitor_log-analytics_workspace_linked-service
- az_monitor_log-analytics_workspace_linked-service_create
- az_monitor_log-analytics_workspace_linked-service_delete
- az_monitor_log-analytics_workspace_linked-service_list
- az_monitor_log-analytics_workspace_linked-service_show
- az_monitor_log-analytics_workspace_linked-service_update
- az_monitor_log-analytics_workspace_linked-service_wait
- az_monitor_log-analytics_workspace_linked-storage
- az_monitor_log-analytics_workspace_linked-storage_add
- az_monitor_log-analytics_workspace_linked-storage_create
- az_monitor_log-analytics_workspace_linked-storage_delete
- az_monitor_log-analytics_workspace_linked-storage_list
- az_monitor_log-analytics_workspace_linked-storage_remove
- az_monitor_log-analytics_workspace_linked-storage_show
- az_monitor_log-analytics_workspace_list
- az_monitor_log-analytics_workspace_list-deleted-workspaces
- az_monitor_log-analytics_workspace_list-management-groups
- az_monitor_log-analytics_workspace_list-usages
- az_monitor_log-analytics_workspace_pack
- az_monitor_log-analytics_workspace_pack_disable
- az_monitor_log-analytics_workspace_pack_enable
- az_monitor_log-analytics_workspace_pack_list
- az_monitor_log-analytics_workspace_recover
- az_monitor_log-analytics_workspace_saved-search
- az_monitor_log-analytics_workspace_saved-search_create
- az_monitor_log-analytics_workspace_saved-search_delete
- az_monitor_log-analytics_workspace_saved-search_list
- az_monitor_log-analytics_workspace_saved-search_show
- az_monitor_log-analytics_workspace_saved-search_update
- az_monitor_log-analytics_workspace_show
- az_monitor_log-analytics_workspace_table
- az_monitor_log-analytics_workspace_table_create
- az_monitor_log-analytics_workspace_table_delete
- az_monitor_log-analytics_workspace_table_list
- az_monitor_log-analytics_workspace_table_migrate
- az_monitor_log-analytics_workspace_table_restore
- az_monitor_log-analytics_workspace_table_restore_create
- az_monitor_log-analytics_workspace_table_search-job
- az_monitor_log-analytics_workspace_table_search-job_create
- az_monitor_log-analytics_workspace_table_show
- az_monitor_log-analytics_workspace_table_update
- az_monitor_log-analytics_workspace_table_wait
- az_monitor_log-analytics_workspace_update
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --only-show-errors
  summary: Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
metadata:
  doc_source_url_repo: https://github.com/Azure/azure-cli/blob/dev/
  ms.date: 05/18/2022
  description: Manage Azure log analytics workspace.

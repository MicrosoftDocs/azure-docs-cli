### YamlMime:AzureCLIGroup
uid: az_sql_failover-group
name: az sql failover-group
summary: |-
  Manage SQL Failover Groups.
status: GA
sourceType: Core
directCommands:
- uid: az_sql_failover-group_create
  name: az sql failover-group create
  summary: |-
    Creates a failover group.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
  syntax: >-
    az sql failover-group create --name
                                 --partner-server
                                 --resource-group
                                 --server
                                 [--add-db]
                                 [--failover-policy {Automatic, Manual}]
                                 [--grace-period]
                                 [--partner-resource-group]
  examples:
  - summary: |-
      Creates a failover group. (autogenerated)
    syntax: az sql failover-group create --name MyFailoverGroup --partner-server newDb --resource-group MyResourceGroup --server myserver --subscription MySubscription
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the Failover Group.
  - isRequired: true
    name: --partner-server
    summary: |-
      The name of the partner server of a Failover Group.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - isRequired: true
    name: --server -s
    summary: |-
      Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
  optionalParameters:
  - name: --add-db
    summary: |-
      List of databases to add to Failover Group.
  - name: --failover-policy
    defaultValue: "Automatic"
    parameterValueGroup: "Automatic, Manual"
    summary: |-
      The failover policy of the Failover Group.
  - name: --grace-period
    defaultValue: "1"
    summary: |-
      Interval in hours before automatic failover is initiated if an outage occurs on the primary server. This indicates that Azure SQL Database will not initiate automatic failover before the grace period expires. Please note that failover operation with --allow-data-loss option might cause data loss due to the nature of asynchronous synchronization.
  - name: --partner-resource-group
    summary: |-
      The name of the resource group of the partner server.
- uid: az_sql_failover-group_delete
  name: az sql failover-group delete
  summary: |-
    Deletes a failover group.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
  syntax: >-
    az sql failover-group delete --name
                                 [--ids]
                                 [--resource-group]
                                 [--server]
                                 [--subscription]
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the Failover Group.
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --server -s
    summary: |-
      Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_sql_failover-group_list
  name: az sql failover-group list
  summary: |-
    Lists the failover groups in a server.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
  syntax: >-
    az sql failover-group list [--ids]
                               [--resource-group]
                               [--server]
                               [--subscription]
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --server -s
    summary: |-
      Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_sql_failover-group_set-primary
  name: az sql failover-group set-primary
  summary: |-
    Set the primary of the failover group by failing over all databases from the current primary server.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
  syntax: >-
    az sql failover-group set-primary --name
                                      [--allow-data-loss]
                                      [--ids]
                                      [--resource-group]
                                      [--server]
                                      [--subscription]
                                      [--tpbff]
  examples:
  - summary: |-
      Set the primary of the failover group by failing over all databases from the current primary server. (autogenerated)
    syntax: az sql failover-group set-primary --name MyFailoverGroup --resource-group MyResourceGroup --server myserver
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the Failover Group.
  optionalParameters:
  - name: --allow-data-loss
    defaultValue: "False"
    summary: |-
      Complete the failover even if doing so may result in data loss. This will allow the failover to proceed even if a primary database is unavailable.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --server -s
    summary: |-
      Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --tpbff --try-planned-before-forced-failover
    defaultValue: "False"
    summary: |-
      Performs a planned failover as the first step, and if it fails for any reason, then initiates a forced failover with potential data loss. This will allow the failover to proceed even if a primary database is unavailable.
- uid: az_sql_failover-group_show
  name: az sql failover-group show
  summary: |-
    Gets a failover group.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
  syntax: >-
    az sql failover-group show --name
                               [--ids]
                               [--resource-group]
                               [--server]
                               [--subscription]
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the Failover Group.
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --server -s
    summary: |-
      Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_sql_failover-group_update
  name: az sql failover-group update
  summary: |-
    Updates the failover group.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
  syntax: >-
    az sql failover-group update --name
                                 [--add]
                                 [--add-db]
                                 [--failover-policy {Automatic, Manual}]
                                 [--force-string]
                                 [--grace-period]
                                 [--ids]
                                 [--remove]
                                 [--remove-db]
                                 [--resource-group]
                                 [--server]
                                 [--set]
                                 [--subscription]
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the Failover Group.
  optionalParameters:
  - name: --add
    defaultValue: "[]"
    summary: |-
      Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.
  - name: --add-db
    summary: |-
      List of databases to add to Failover Group.
  - name: --failover-policy
    parameterValueGroup: "Automatic, Manual"
    summary: |-
      The failover policy of the Failover Group.
  - name: --force-string
    defaultValue: "False"
    summary: |-
      When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
  - name: --grace-period
    summary: |-
      Interval in hours before automatic failover is initiated if an outage occurs on the primary server. This indicates that Azure SQL Database will not initiate automatic failover before the grace period expires. Please note that failover operation with --allow-data-loss option might cause data loss due to the nature of asynchronous synchronization.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --remove
    defaultValue: "[]"
    summary: |-
      Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.
  - name: --remove-db
    summary: |-
      List of databases to remove from Failover Group.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --server -s
    summary: |-
      Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
  - name: --set
    defaultValue: "[]"
    summary: |-
      Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
commands:
- az_sql_failover-group_create
- az_sql_failover-group_delete
- az_sql_failover-group_list
- az_sql_failover-group_set-primary
- az_sql_failover-group_show
- az_sql_failover-group_update
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, none, table, tsv, yaml, yamlc"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  ms.date: 11/24/2023
  description: Manage SQL Failover Groups.

### YamlMime:AzureCLIGroup
uid: az_sql_db
name: az sql db
summary: Manage databases.
description: ''
directCommands:
- uid: az_sql_db_copy
  name: az sql db copy
  summary: Create a copy of a database.
  description: A full list of performance level options can be seen by executing `az sql db list-editions -a -o table -l LOCATION`. The copy destination database must have the same edition as the source database, but you can change the edition after the copy has completed.
  syntax: >-
    az sql db copy --dest-name
                   [--auto-pause-delay]
                   [--backup-storage-redundancy]
                   [--capacity]
                   [--compute-model {Provisioned, Serverless}]
                   [--dest-resource-group]
                   [--dest-server]
                   [--elastic-pool]
                   [--family]
                   [--ha-replicas]
                   [--ids]
                   [--license-type {BasePrice, LicenseIncluded}]
                   [--min-capacity]
                   [--name]
                   [--no-wait]
                   [--preferred-enclave-type {Default, VBS}]
                   [--read-scale {Disabled, Enabled}]
                   [--resource-group]
                   [--server]
                   [--service-objective]
                   [--subscription]
                   [--tags]
                   [--zone-redundant {false, true}]
  examples:
  - summary: Create a database with performance level S0 as a copy of an existing Standard database.
    syntax: az sql db copy -g mygroup -s myserver -n originalDb --dest-name newDb --service-objective S0
  - summary: Create a database with GeneralPurpose edition, Gen4 hardware, and 1 vcore as a copy of an existing GeneralPurpose database.
    syntax: az sql db copy -g mygroup -s myserver -n originalDb --dest-name newDb -f Gen4 -c 1
  - summary: Create a database with local backup storage redundancy as a copy of an existing database
    syntax: az sql db copy -g mygroup -s myserver -n originalDb --dest-name newDb --backup-storage-redundancy Local
  requiredParameters:
  - isRequired: true
    name: --dest-name
    summary: Name of the database that will be created as the copy destination.
    description: ''
  optionalParameters:
  - name: --auto-pause-delay
    summary: Time in minutes after which database is automatically paused. A value of -1 means that automatic pause is disabled.
    description: ''
  - name: --backup-storage-redundancy --bsr
    summary: 'Backup storage redundancy used to store backups. Allowed values include: Local, Zone, Geo.'
    description: ''
  - name: --capacity -c
    summary: The capacity component of the sku in integer number of DTUs or vcores.
    description: ''
  - name: --compute-model
    parameterValueGroup: "Provisioned, Serverless"
    summary: The compute model of the database.
    description: ''
  - name: --dest-resource-group
    summary: Name of the resource group to create the copy in. If unspecified, defaults to the origin resource group.
    description: ''
  - name: --dest-server
    summary: Name of the server to create the copy in. If unspecified, defaults to the origin server.
    description: ''
  - name: --elastic-pool
    summary: The name or resource id of the elastic pool to create the database in.
    description: ''
  - name: --family -f
    summary: 'The compute generation component of the sku (for vcore skus only). Allowed values include: Gen4, Gen5.'
    description: ''
  - name: --ha-replicas --read-replicas
    summary: The number of high availability replicas to provision for the database. Only settable for Hyperscale edition.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --license-type
    parameterValueGroup: "BasePrice, LicenseIncluded"
    summary: The license type to apply for this database.``LicenseIncluded`` if you need a license, or ``BasePrice``if you have a license and are eligible for the Azure HybridBenefit.
    description: ''
  - name: --min-capacity
    summary: Minimal capacity that database will always have allocated, if not paused.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --no-wait
    defaultValue: "False"
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --preferred-enclave-type
    parameterValueGroup: "Default, VBS"
    summary: Create a database configured with Default or VBS preferred enclave type.
    description: ''
  - name: --read-scale
    parameterValueGroup: "Disabled, Enabled"
    summary: If enabled, connections that have application intent set to readonly in their connection string may be routed to a readonly secondary replica. This property is only settable for Premium and Business Critical databases.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --service-objective
    summary: 'The service objective for the new database. For example: Basic, S0, P1, GP_Gen4_1, GP_Gen5_S_8, BC_Gen5_2, HS_Gen5_32.'
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  - name: --zone-redundant -z
    parameterValueGroup: "false, true"
    summary: Specifies whether to enable zone redundancy.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_create
  name: az sql db create
  summary: Create a database.
  description: A full list of performance level options can be seen by executing `az sql db list-editions -a -o table -l LOCATION`.
  syntax: >-
    az sql db create --name
                     --resource-group
                     --server
                     [--auto-pause-delay]
                     [--backup-storage-redundancy]
                     [--capacity]
                     [--catalog-collation {DATABASE_DEFAULT, SQL_Latin1_General_CP1_CI_AS}]
                     [--collation]
                     [--compute-model {Provisioned, Serverless}]
                     [--edition]
                     [--elastic-pool]
                     [--family]
                     [--ha-replicas]
                     [--ledger-on {Disabled, Enabled}]
                     [--license-type {BasePrice, LicenseIncluded}]
                     [--maint-config-id]
                     [--max-size]
                     [--min-capacity]
                     [--no-wait]
                     [--preferred-enclave-type {Default, VBS}]
                     [--read-scale {Disabled, Enabled}]
                     [--sample-name {AdventureWorksLT}]
                     [--service-objective]
                     [--tags]
                     [--yes]
                     [--zone-redundant {false, true}]
  examples:
  - summary: Create a Standard S0 database.
    syntax: az sql db create -g mygroup -s myserver -n mydb --service-objective S0
  - summary: Create a database with GeneralPurpose edition, Gen4 hardware and 1 vcore
    syntax: az sql db create -g mygroup -s myserver -n mydb -e GeneralPurpose -f Gen4 -c 1
  - summary: Create a database with zone redundancy enabled
    syntax: az sql db create -g mygroup -s myserver -n mydb -z
  - summary: Create a database with zone redundancy explicitly disabled
    syntax: az sql db create -g mygroup -s myserver -n mydb -z false
  - summary: Create a GeneralPurpose Gen5 2 vcore serverless database with auto pause delay of 120 minutes
    syntax: az sql db create -g mygroup -s myserver -n mydb -e GeneralPurpose -f Gen5 -c 2 --compute-model Serverless --auto-pause-delay 120
  - summary: Create a Hyperscale Gen5 2 vcore database with 2 read replicas
    syntax: az sql db create -g mygroup -s myserver -n mydb -e Hyperscale -f Gen5 -c 2 --read-replicas 2
  - summary: Create a GeneralPurpose database with locally redundant backup storage
    syntax: az sql db create -g mygroup -s myserver -n mydb -e GeneralPurpose --backup-storage-redundancy Local
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - isRequired: true
    name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  optionalParameters:
  - name: --auto-pause-delay
    summary: Time in minutes after which database is automatically paused. A value of -1 means that automatic pause is disabled.
    description: ''
  - name: --backup-storage-redundancy --bsr
    summary: 'Backup storage redundancy used to store backups. Allowed values include: Local, Zone, Geo.'
    description: ''
  - name: --capacity -c
    summary: The capacity component of the sku in integer number of DTUs or vcores.
    description: ''
  - name: --catalog-collation
    parameterValueGroup: "DATABASE_DEFAULT, SQL_Latin1_General_CP1_CI_AS"
    summary: Collation of the metadata catalog.
    description: ''
  - name: --collation
    summary: The collation of the database.
    description: ''
  - name: --compute-model
    parameterValueGroup: "Provisioned, Serverless"
    summary: The compute model of the database.
    description: ''
  - name: --edition --tier -e
    summary: 'The edition component of the sku. Allowed values include: Basic, Standard, Premium, GeneralPurpose, BusinessCritical, Hyperscale.'
    description: ''
  - name: --elastic-pool
    summary: The name or resource id of the elastic pool to create the database in.
    description: ''
  - name: --family -f
    summary: 'The compute generation component of the sku (for vcore skus only). Allowed values include: Gen4, Gen5.'
    description: ''
  - name: --ha-replicas --read-replicas
    summary: The number of high availability replicas to provision for the database. Only settable for Hyperscale edition.
    description: ''
  - name: --ledger-on
    parameterValueGroup: "Disabled, Enabled"
    summary: 'Create a ledger database, in which the integrity of all data is protected by the ledger feature. All tables in the ledger database must be ledger tables. Note: the value of this property cannot be changed after the database has been created.'
    description: ''
  - name: --license-type
    parameterValueGroup: "BasePrice, LicenseIncluded"
    summary: The license type to apply for this database.``LicenseIncluded`` if you need a license, or ``BasePrice``if you have a license and are eligible for the Azure HybridBenefit.
    description: ''
  - name: --maint-config-id -m
    summary: Specified maintenance configuration id or name for this resource.
    description: ''
  - name: --max-size
    summary: The max storage size. If no unit is specified, defaults to bytes (B).
    description: ''
  - name: --min-capacity
    summary: Minimal capacity that database will always have allocated, if not paused.
    description: ''
  - name: --no-wait
    defaultValue: "False"
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --preferred-enclave-type
    parameterValueGroup: "Default, VBS"
    summary: Create a database configured with Default or VBS preferred enclave type.
    description: ''
  - name: --read-scale
    parameterValueGroup: "Disabled, Enabled"
    summary: If enabled, connections that have application intent set to readonly in their connection string may be routed to a readonly secondary replica. This property is only settable for Premium and Business Critical databases.
    description: ''
  - name: --sample-name
    parameterValueGroup: "AdventureWorksLT"
    summary: The name of the sample schema to apply when creating thisdatabase.
    description: ''
  - name: --service-objective
    summary: 'The service objective for the new database. For example: Basic, S0, P1, GP_Gen4_1, GP_Gen5_S_8, BC_Gen5_2, HS_Gen5_32.'
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  - name: --yes -y
    summary: Do not prompt for confirmation.
    description: ''
  - name: --zone-redundant -z
    parameterValueGroup: "false, true"
    summary: Specifies whether to enable zone redundancy.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_delete
  name: az sql db delete
  summary: Delete a database.
  description: ''
  syntax: >-
    az sql db delete [--ids]
                     [--name]
                     [--no-wait]
                     [--resource-group]
                     [--server]
                     [--subscription]
                     [--yes]
  examples:
  - summary: Delete a database. (autogenerated)
    syntax: az sql db delete --name MyAzureSQLDatabase --resource-group MyResourceGroup --server myserver
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --no-wait
    defaultValue: "False"
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --yes -y
    defaultValue: "False"
    summary: Do not prompt for confirmation.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_export
  name: az sql db export
  summary: Export a database to a bacpac.
  description: ''
  syntax: >-
    az sql db export --admin-password
                     --admin-user
                     --storage-key
                     --storage-key-type {SharedAccessKey, StorageAccessKey}
                     --storage-uri
                     [--auth-type {ADPassword, SQL}]
                     [--ids]
                     [--name]
                     [--no-wait]
                     [--resource-group]
                     [--server]
                     [--subscription]
  examples:
  - summary: Get an SAS key for use in export operation.
    syntax: >-
      az storage blob generate-sas --account-name myAccountName -c myContainer -n myBacpac.bacpac \
          --permissions rw --expiry 2018-01-01T00:00:00Z
  - summary: Export bacpac using an SAS key.
    syntax: >-
      az sql db export -s myserver -n mydatabase -g mygroup -p password -u login \
          --storage-key "?sr=b&sp=rw&se=2018-01-01T00%3A00%3A00Z&sig=mysignature&sv=2015-07-08" \
          --storage-key-type SharedAccessKey \
          --storage-uri https://myAccountName.blob.core.windows.net/myContainer/myBacpac.bacpac
  - summary: Export bacpac using a storage account key.
    syntax: >-
      az sql db export -s myserver -n mydatabase -g mygroup -p password -u login \
          --storage-key MYKEY== --storage-key-type StorageAccessKey \
          --storage-uri https://myAccountName.blob.core.windows.net/myContainer/myBacpac.bacpac
  requiredParameters:
  - isRequired: true
    name: --admin-password -p
    summary: Required. Administrator login password.
    description: ''
  - isRequired: true
    name: --admin-user -u
    summary: Required. Administrator login name.
    description: ''
  - isRequired: true
    name: --storage-key
    summary: Required. Storage key.
    description: ''
  - isRequired: true
    name: --storage-key-type
    parameterValueGroup: "SharedAccessKey, StorageAccessKey"
    summary: Required. Storage key type.
    description: ''
  - isRequired: true
    name: --storage-uri
    summary: Required. Storage Uri.
    description: ''
  optionalParameters:
  - name: --auth-type -a
    parameterValueGroup: "ADPassword, SQL"
    summary: Authentication type.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --no-wait
    defaultValue: "False"
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_import
  name: az sql db import
  summary: Imports a bacpac into an existing database.
  description: ''
  syntax: >-
    az sql db import --admin-password
                     --admin-user
                     --storage-key
                     --storage-key-type {SharedAccessKey, StorageAccessKey}
                     --storage-uri
                     [--auth-type {ADPassword, SQL}]
                     [--ids]
                     [--name]
                     [--no-wait]
                     [--resource-group]
                     [--server]
                     [--subscription]
  examples:
  - summary: Get an SAS key for use in import operation.
    syntax: >-
      az storage blob generate-sas --account-name myAccountName -c myContainer -n myBacpac.bacpac \
          --permissions rw --expiry 2018-01-01T00:00:00Z
  - summary: Import bacpac into an existing database using an SAS key.
    syntax: >-
      az sql db import -s myserver -n mydatabase -g mygroup -p password -u login \
          --storage-key "?sr=b&sp=rw&se=2018-01-01T00%3A00%3A00Z&sig=mysignature&sv=2015-07-08" \
          --storage-key-type SharedAccessKey \
          --storage-uri https://myAccountName.blob.core.windows.net/myContainer/myBacpac.bacpac
  - summary: Import bacpac into an existing database using a storage account key.
    syntax: >-
      az sql db import -s myserver -n mydatabase -g mygroup -p password -u login --storage-key MYKEY== \
          --storage-key-type StorageAccessKey \
          --storage-uri https://myAccountName.blob.core.windows.net/myContainer/myBacpac.bacpac
  requiredParameters:
  - isRequired: true
    name: --admin-password -p
    summary: Required. Administrator login password.
    description: ''
  - isRequired: true
    name: --admin-user -u
    summary: Required. Administrator login name.
    description: ''
  - isRequired: true
    name: --storage-key
    summary: Required. Storage key.
    description: ''
  - isRequired: true
    name: --storage-key-type
    parameterValueGroup: "SharedAccessKey, StorageAccessKey"
    summary: Required. Storage key type.
    description: ''
  - isRequired: true
    name: --storage-uri
    summary: Required. Storage Uri.
    description: ''
  optionalParameters:
  - name: --auth-type -a
    parameterValueGroup: "ADPassword, SQL"
    summary: Authentication type.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --no-wait
    defaultValue: "False"
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_list
  name: az sql db list
  summary: List databases on a server or elastic pool.
  description: ''
  syntax: >-
    az sql db list [--elastic-pool]
                   [--ids]
                   [--resource-group]
                   [--server]
                   [--subscription]
  examples:
  - summary: List databases on a server or elastic pool. (autogenerated)
    syntax: az sql db list --resource-group MyResourceGroup --server myserver
  optionalParameters:
  - name: --elastic-pool
    summary: If specified, lists only the databases in this elastic pool.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_list-deleted
  name: az sql db list-deleted
  summary: Gets a list of restorable dropped databases.
  description: ''
  syntax: >-
    az sql db list-deleted [--ids]
                           [--resource-group]
                           [--server]
                           [--subscription]
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_list-editions
  name: az sql db list-editions
  summary: Show database editions available for the currently active subscription.
  description: Includes available service objectives and storage limits. In order to reduce verbosity, settings to intentionally reduce storage limits are hidden by default.
  syntax: >-
    az sql db list-editions --location
                            [--available]
                            [--dtu]
                            [--edition]
                            [--service-objective]
                            [--show-details {max-size}]
                            [--vcores]
  examples:
  - summary: Show all database editions in a location.
    syntax: az sql db list-editions -l westus -o table
  - summary: Show all available database service objectives for Standard edition.
    syntax: az sql db list-editions -l westus --edition Standard -o table
  - summary: Show available max database sizes for P1 service objective
    syntax: az sql db list-editions -l westus --service-objective P1 --show-details max-size
  requiredParameters:
  - isRequired: true
    name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  optionalParameters:
  - name: --available -a
    defaultValue: "False"
    summary: If specified, show only results that are available in the specified region.
    description: ''
  - name: --dtu
    summary: Number of DTUs to search for. If unspecified, all DTU sizes are shown.
    description: ''
  - name: --edition --tier -e
    summary: Edition to search for. If unspecified, all editions are shown.
    description: ''
  - name: --service-objective
    summary: Service objective to search for. If unspecified, all service objectives are shown.
    description: ''
  - name: --show-details -d
    parameterValueGroup: "max-size"
    summary: List of additional details to include in output.
    description: ''
  - name: --vcores
    summary: Number of vcores to search for. If unspecified, all vcore sizes are shown.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_list-usages
  name: az sql db list-usages
  summary: Gets database usages.
  description: ''
  syntax: >-
    az sql db list-usages [--ids]
                          [--name]
                          [--resource-group]
                          [--server]
                          [--subscription]
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_rename
  name: az sql db rename
  summary: Rename a database.
  description: ''
  syntax: >-
    az sql db rename --new-name
                     [--ids]
                     [--name]
                     [--resource-group]
                     [--server]
                     [--subscription]
  examples:
  - summary: Rename a database. (autogenerated)
    syntax: az sql db rename --name MyAzureSQLDatabase --new-name MyNew --resource-group MyResourceGroup --server myserver
  requiredParameters:
  - isRequired: true
    name: --new-name
    summary: The new name that the database will be renamed to.
    description: ''
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_restore
  name: az sql db restore
  summary: Create a new database by restoring from a backup.
  description: ''
  syntax: >-
    az sql db restore --dest-name
                      [--auto-pause-delay]
                      [--backup-storage-redundancy]
                      [--capacity]
                      [--compute-model {Provisioned, Serverless}]
                      [--deleted-time]
                      [--edition]
                      [--elastic-pool]
                      [--family]
                      [--ha-replicas]
                      [--ids]
                      [--license-type {BasePrice, LicenseIncluded}]
                      [--min-capacity]
                      [--name]
                      [--no-wait]
                      [--preferred-enclave-type {Default, VBS}]
                      [--read-scale {Disabled, Enabled}]
                      [--resource-group]
                      [--server]
                      [--service-objective]
                      [--subscription]
                      [--tags]
                      [--time]
                      [--zone-redundant {false, true}]
  examples:
  - summary: Create a new database by restoring from a backup. (autogenerated)
    syntax: az sql db restore --dest-name MyDest --edition GeneralPurpose --name MyAzureSQLDatabase --resource-group MyResourceGroup --server myserver --subscription MySubscription --time "2018-05-20T05:34:22"
  - summary: Create a new database with geo-redundant backup storage by restoring from a backup. (autogenerated)
    syntax: az sql db restore --dest-name MyDest --edition GeneralPurpose --name MyAzureSQLDatabase --resource-group MyResourceGroup --server myserver --subscription MySubscription --time "2018-05-20T05:34:22" --backup-storage-redundancy Geo
  requiredParameters:
  - isRequired: true
    name: --dest-name
    summary: Name of the database that will be created as the restore destination.
    description: ''
  optionalParameters:
  - name: --auto-pause-delay
    summary: Time in minutes after which database is automatically paused. A value of -1 means that automatic pause is disabled.
    description: ''
  - name: --backup-storage-redundancy --bsr
    summary: 'Backup storage redundancy used to store backups. Allowed values include: Local, Zone, Geo.'
    description: ''
  - name: --capacity -c
    summary: The capacity component of the sku in integer number of DTUs or vcores.
    description: ''
  - name: --compute-model
    parameterValueGroup: "Provisioned, Serverless"
    summary: The compute model of the database.
    description: ''
  - name: --deleted-time
    summary: 'If specified, restore from a deleted database instead of from an existing database. Must match the deleted time of a deleted database in the same server. Either --time or --deleted-time (or both) must be specified. Time should be in following format: "YYYY-MM-DDTHH:MM:SS".'
    description: ''
  - name: --edition --tier -e
    summary: 'The edition component of the sku. Allowed values include: Basic, Standard, Premium, GeneralPurpose, BusinessCritical, Hyperscale.'
    description: ''
  - name: --elastic-pool
    summary: The name or resource id of the elastic pool to create the database in.
    description: ''
  - name: --family -f
    summary: 'The compute generation component of the sku (for vcore skus only). Allowed values include: Gen4, Gen5.'
    description: ''
  - name: --ha-replicas --read-replicas
    summary: The number of high availability replicas to provision for the database. Only settable for Hyperscale edition.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --license-type
    parameterValueGroup: "BasePrice, LicenseIncluded"
    summary: The license type to apply for this database.``LicenseIncluded`` if you need a license, or ``BasePrice``if you have a license and are eligible for the Azure HybridBenefit.
    description: ''
  - name: --min-capacity
    summary: Minimal capacity that database will always have allocated, if not paused.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --no-wait
    defaultValue: "False"
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --preferred-enclave-type
    parameterValueGroup: "Default, VBS"
    summary: Create a database configured with Default or VBS preferred enclave type.
    description: ''
  - name: --read-scale
    parameterValueGroup: "Disabled, Enabled"
    summary: If enabled, connections that have application intent set to readonly in their connection string may be routed to a readonly secondary replica. This property is only settable for Premium and Business Critical databases.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --service-objective
    summary: 'The service objective for the new database. For example: Basic, S0, P1, GP_Gen4_1, GP_Gen5_S_8, BC_Gen5_2, HS_Gen5_32.'
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  - name: --time -t
    summary: "The point in time of the source database that will be restored to create the new database. Must be greater than or equal to the source database's earliestRestoreDate value. Either --time or --deleted-time (or both) must be specified. Time should be in following format: \"YYYY-MM-DDTHH:MM:SS\"."
    description: ''
  - name: --zone-redundant -z
    parameterValueGroup: "false, true"
    summary: Specifies whether to enable zone redundancy.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_show
  name: az sql db show
  summary: Get the details for a database.
  description: ''
  syntax: >-
    az sql db show [--ids]
                   [--name]
                   [--resource-group]
                   [--server]
                   [--subscription]
  examples:
  - summary: Get the details for a database. (autogenerated)
    syntax: az sql db show --name MyAzureSQLDatabase --resource-group MyResourceGroup --server myserver
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_show-connection-string
  name: az sql db show-connection-string
  summary: Generates a connection string to a database.
  description: ''
  syntax: >-
    az sql db show-connection-string --client {ado.net, jdbc, odbc, php, php_pdo, sqlcmd}
                                     [--auth-type {ADIntegrated, ADPassword, SqlPassword}]
                                     [--ids]
                                     [--name]
                                     [--server]
                                     [--subscription]
  examples:
  - summary: Generate connection string for ado.net
    syntax: az sql db show-connection-string -s myserver -n mydb -c ado.net
  requiredParameters:
  - isRequired: true
    name: --client -c
    parameterValueGroup: "ado.net, jdbc, odbc, php, php_pdo, sqlcmd"
    summary: Type of client connection provider.
    description: ''
  optionalParameters:
  - name: --auth-type -a
    defaultValue: "SqlPassword"
    parameterValueGroup: "ADIntegrated, ADPassword, SqlPassword"
    summary: Type of authentication.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    defaultValue: "<databasename>"
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --server -s
    defaultValue: "<servername>"
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
- uid: az_sql_db_update
  name: az sql db update
  summary: Update a database.
  description: ''
  syntax: >-
    az sql db update [--add]
                     [--auto-pause-delay]
                     [--backup-storage-redundancy]
                     [--capacity]
                     [--compute-model {Provisioned, Serverless}]
                     [--edition]
                     [--elastic-pool]
                     [--family]
                     [--force-string]
                     [--ha-replicas]
                     [--ids]
                     [--maint-config-id]
                     [--max-size]
                     [--min-capacity]
                     [--name]
                     [--no-wait]
                     [--preferred-enclave-type {Default, VBS}]
                     [--read-scale {Disabled, Enabled}]
                     [--remove]
                     [--resource-group]
                     [--server]
                     [--service-objective]
                     [--set]
                     [--subscription]
                     [--zone-redundant {false, true}]
  examples:
  - summary: Update a database to Standard edition, S0 performance level (10 DTU) by specifying DTU capacity. Note that GeneralPurpose allows a wider range of max size than Standard edition.
    syntax: az sql db update -g mygroup -s myserver -n mydb --edition Standard --capacity 10 --max-size 250GB
  - summary: Update a database to Standard edition, S1 performance level (20 DTU) by specifying performance level name. Note that GeneralPurpose allows a wider range of max size than Standard edition.
    syntax: az sql db update -g mygroup -s myserver -n mydb --edition Standard --service-objective S1 --max-size 250GB
  - summary: Update a database to GeneralPurpose edition, 4 vcores with Gen5 hardware
    syntax: az sql db update -g mygroup -s myserver -n mydb --edition GeneralPurpose --capacity 4 --family Gen5
  - summary: Update database with increased max size
    syntax: az sql db update -g mygroup -s myserver -n mydb --max-size 500GB
  - summary: Update database with zone redundancy enabled
    syntax: az sql db update -g mygroup -s myserver -n mydb -z
  - summary: Update database with zone redundancy explicitly disabled
    syntax: az sql db update -g mygroup -s myserver -n mydb -z false
  - summary: Update database to serverless compute model
    syntax: az sql db update -g mygroup -s myserver -n mydb --edition GeneralPurpose --capacity 2 --family Gen5 --compute-model Serverless
  - summary: Update database with locally redundant backup storage
    syntax: az sql db update -g mygroup -s myserver -n mydb --backup-storage-redundancy Local
  optionalParameters:
  - name: --add
    defaultValue: "[]"
    summary: 'Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.'
    description: ''
  - name: --auto-pause-delay
    summary: Time in minutes after which database is automatically paused. A value of -1 means that automatic pause is disabled.
    description: ''
  - name: --backup-storage-redundancy --bsr
    summary: 'Backup storage redundancy used to store backups. Allowed values include: Local, Zone, Geo.'
    description: ''
  - name: --capacity -c
    summary: The capacity component of the sku in integer number of DTUs or vcores.
    description: ''
  - name: --compute-model
    parameterValueGroup: "Provisioned, Serverless"
    summary: The compute model of the database.
    description: ''
  - name: --edition --tier -e
    summary: 'The edition component of the sku. Allowed values include: Basic, Standard, Premium, GeneralPurpose, BusinessCritical, Hyperscale.'
    description: ''
  - name: --elastic-pool
    summary: The name or resource id of the elastic pool to move the database into.
    description: ''
  - name: --family -f
    summary: 'The compute generation component of the sku (for vcore skus only). Allowed values include: Gen4, Gen5.'
    description: ''
  - name: --force-string
    defaultValue: "False"
    summary: When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
    description: ''
  - name: --ha-replicas --read-replicas
    summary: The number of high availability replicas to provision for the database. Only settable for Hyperscale edition.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --maint-config-id -m
    summary: Specified maintenance configuration id or name for this resource.
    description: ''
  - name: --max-size
    summary: The new maximum size of the database expressed in bytes.
    description: ''
  - name: --min-capacity
    summary: Minimal capacity that database will always have allocated, if not paused.
    description: ''
  - name: --name -n
    summary: Name of the Azure SQL Database.
    description: ''
  - name: --no-wait
    defaultValue: "False"
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --preferred-enclave-type
    parameterValueGroup: "Default, VBS"
    summary: Create a database configured with Default or VBS preferred enclave type.
    description: ''
  - name: --read-scale
    parameterValueGroup: "Disabled, Enabled"
    summary: If enabled, connections that have application intent set to readonly in their connection string may be routed to a readonly secondary replica. This property is only settable for Premium and Business Critical databases.
    description: ''
  - name: --remove
    defaultValue: "[]"
    summary: 'Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.'
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --server -s
    summary: Name of the Azure SQL Server. You can configure the default using `az configure --defaults sql-server=<name>`.
    description: ''
  - name: --service-objective
    summary: The name of the new service objective. If this is a standalone db service objective and the db is currently in an elastic pool, then the db is removed from the pool.
    description: ''
  - name: --set
    defaultValue: "[]"
    summary: 'Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.'
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --zone-redundant -z
    parameterValueGroup: "false, true"
    summary: Specifies whether to enable zone redundancy.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/sql/_help.py
commands:
- az_sql_db_advanced-threat-protection-setting
- az_sql_db_advanced-threat-protection-setting_show
- az_sql_db_advanced-threat-protection-setting_update
- az_sql_db_audit-policy
- az_sql_db_audit-policy_show
- az_sql_db_audit-policy_update
- az_sql_db_audit-policy_wait
- az_sql_db_classification
- az_sql_db_classification_delete
- az_sql_db_classification_list
- az_sql_db_classification_recommendation
- az_sql_db_classification_recommendation_disable
- az_sql_db_classification_recommendation_enable
- az_sql_db_classification_recommendation_list
- az_sql_db_classification_show
- az_sql_db_classification_update
- az_sql_db_copy
- az_sql_db_create
- az_sql_db_delete
- az_sql_db_export
- az_sql_db_import
- az_sql_db_ledger-digest-uploads
- az_sql_db_ledger-digest-uploads_disable
- az_sql_db_ledger-digest-uploads_enable
- az_sql_db_ledger-digest-uploads_show
- az_sql_db_list
- az_sql_db_list-deleted
- az_sql_db_list-editions
- az_sql_db_list-usages
- az_sql_db_ltr-backup
- az_sql_db_ltr-backup_delete
- az_sql_db_ltr-backup_list
- az_sql_db_ltr-backup_restore
- az_sql_db_ltr-backup_show
- az_sql_db_ltr-backup_wait
- az_sql_db_ltr-policy
- az_sql_db_ltr-policy_set
- az_sql_db_ltr-policy_show
- az_sql_db_op
- az_sql_db_op_cancel
- az_sql_db_op_list
- az_sql_db_rename
- az_sql_db_replica
- az_sql_db_replica_create
- az_sql_db_replica_delete-link
- az_sql_db_replica_list-links
- az_sql_db_replica_set-primary
- az_sql_db_restore
- az_sql_db_show
- az_sql_db_show-connection-string
- az_sql_db_str-policy
- az_sql_db_str-policy_set
- az_sql_db_str-policy_show
- az_sql_db_str-policy_wait
- az_sql_db_tde
- az_sql_db_tde_set
- az_sql_db_tde_show
- az_sql_db_threat-policy
- az_sql_db_threat-policy_show
- az_sql_db_threat-policy_update
- az_sql_db_update
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --only-show-errors
  summary: Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, table, tsv"
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
metadata:
  doc_source_url_repo: https://github.com/Azure/azure-cli/blob/dev/
  ms.date: 01/03/2023
  description: Manage databases.

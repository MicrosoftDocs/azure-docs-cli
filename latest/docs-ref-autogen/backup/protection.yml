### YamlMime:AzureCLIGroup
uid: az_backup_protection
name: az backup protection
summary: |-
  Manage protection of your items, enable protection or disable it, or take on-demand backups.
status: GA
sourceType: Core
directCommands:
- uid: az_backup_protection_auto-disable-for-azurewl
  name: az backup protection auto-disable-for-azurewl
  summary: |-
    Disable auto-protection for the specified protectable item.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection auto-disable-for-azurewl --protectable-item-name
                                                  --protectable-item-type {HANAInstance, SAPHanaDatabase, SAPHanaSystem, SQLAG, SQLDatabase, SQLInstance}
                                                  --resource-group
                                                  --server-name
                                                  --vault-name
                                                  --workload-type {AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM}
  examples:
  - summary: |-
      Disable auto-protection for the specified protectable item.
    syntax: az backup protection auto-disable-for-azurewl --resource-group MyResourceGroup --vault-name MyVault  --protectable-item-name ItemName --protectable-item-type SQLInstance --server-name Myserver --workload-type MSSQL
  requiredParameters:
  - isRequired: true
    name: --protectable-item-name
    summary: |-
      Specify the resource name to be protected by Azure Backup service.
  - isRequired: true
    name: --protectable-item-type
    parameterValueGroup: "HANAInstance, SAPHanaDatabase, SAPHanaSystem, SQLAG, SQLDatabase, SQLInstance"
    summary: |-
      Specify the type of items within the Resource which should be discovered and protected by Azure Backup. 'HANAInstance' and 'SAPHanaSystem' can be used interchangeably.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - isRequired: true
    name: --server-name
    summary: |-
      Parent Server name of the item.
  - isRequired: true
    name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
  - isRequired: true
    name: --workload-type
    parameterValueGroup: "AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM"
    summary: |-
      Specify the type of applications within the Resource which should be discovered and protected by Azure Backup. 'MSSQL' and 'SQLDataBase' can be used interchangeably for SQL in Azure VM, as can 'SAPHANA' and 'SAPHanaDatabase' for SAP HANA in Azure VM.
- uid: az_backup_protection_auto-enable-for-azurewl
  name: az backup protection auto-enable-for-azurewl
  summary: |-
    Automatically protect all existing unprotected DBs and any DB which will be added later with the given policy.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection auto-enable-for-azurewl --policy-name
                                                 --protectable-item-name
                                                 --protectable-item-type {HANAInstance, SAPHanaDatabase, SAPHanaSystem, SQLAG, SQLDatabase, SQLInstance}
                                                 --resource-group
                                                 --server-name
                                                 --vault-name
                                                 --workload-type {AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM}
  examples:
  - summary: |-
      Automatically protect all existing unprotected DBs and any DB which will be added later with the given policy.  Azure backup service will then regularly scan auto-protected containers for any new DBs and automatically protect them.
    syntax: az backup protection auto-enable-for-azurewl --policy-name MyPolicy --resource-group MyResourceGroup --vault-name MyVault  --protectable-item-name ItemName --protectable-item-type SQLInstance --server-name Myserver --workload-type MSSQL
  requiredParameters:
  - isRequired: true
    name: --policy-name -p
    summary: |-
      Name of the backup policy.
  - isRequired: true
    name: --protectable-item-name
    summary: |-
      Specify the resource name to be protected by Azure Backup service.
  - isRequired: true
    name: --protectable-item-type
    parameterValueGroup: "HANAInstance, SAPHanaDatabase, SAPHanaSystem, SQLAG, SQLDatabase, SQLInstance"
    summary: |-
      Specify the type of items within the Resource which should be discovered and protected by Azure Backup. 'HANAInstance' and 'SAPHanaSystem' can be used interchangeably.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - isRequired: true
    name: --server-name
    summary: |-
      Parent Server name of the item.
  - isRequired: true
    name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
  - isRequired: true
    name: --workload-type
    parameterValueGroup: "AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM"
    summary: |-
      Specify the type of applications within the Resource which should be discovered and protected by Azure Backup. 'MSSQL' and 'SQLDataBase' can be used interchangeably for SQL in Azure VM, as can 'SAPHANA' and 'SAPHanaDatabase' for SAP HANA in Azure VM.
- uid: az_backup_protection_backup-now
  name: az backup protection backup-now
  summary: |-
    Perform an on-demand backup of a backed up item.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection backup-now [--backup-management-type {AzureIaasVM, AzureStorage, AzureWorkload}]
                                    [--backup-type]
                                    [--container-name]
                                    [--enable-compression {false, true}]
                                    [--ids]
                                    [--item-name]
                                    [--resource-group]
                                    [--retain-until]
                                    [--subscription]
                                    [--vault-name]
                                    [--workload-type {AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM}]
  examples:
  - summary: |-
      Perform an on-demand backup of a backed up item. (autogenerated)
    syntax: az backup protection backup-now --container-name MyContainer --item-name MyItem --resource-group MyResourceGroup --retain-until 01-02-2018 --vault-name MyVault --backup-management-type AzureIaasVM
  optionalParameters:
  - name: --backup-management-type
    parameterValueGroup: "AzureIaasVM, AzureStorage, AzureWorkload"
    summary: |-
      Specify the backup management type. Define how Azure Backup manages the backup of entities within the ARM resource. For eg: AzureWorkloads refers to workloads installed within Azure VMs, AzureStorage refers to entities within Storage account. Required only if friendly name is used as Container name.
  - name: --backup-type
    summary: |-
      'Full, Differential, Log, CopyOnlyFull' for backup Item type 'MSSQL'. 'Full, Differential' for backup item type 'SAPHANA'.
  - name: --container-name -c
    summary: |-
      Name of the backup container. Accepts 'Name' or 'FriendlyName' from the output of az backup container list command. If 'FriendlyName' is passed then BackupManagementType is required.
  - name: --enable-compression
    defaultValue: "False"
    parameterValueGroup: "false, true"
    summary: |-
      Option to enable compression.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --item-name -i
    summary: |-
      Name of the backed up item.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --retain-until
    summary: |-
      The date until which this backed up copy will be available for retrieval, in UTC (d-m-Y). In case of VM and AzureFileShare a default value of 30 days is taken. For MSSQL workload, retain-until min value is 2 days and max value is 99 years for backup-type 'CopyOnlyFull'. For MSSQL and SAPHANA, retain-until min value is 45 days and max value is 99 years for backup-type 'Full'. For any other backup-type, retain-until value is overriden by Policy. If not specified, a default value of 30 days will be taken for backup-type 'CopyOnlyFull', and a value of 45 days for backup-type 'Full' and no default value for other backup types.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
  - name: --workload-type
    parameterValueGroup: "AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM"
    summary: |-
      Specify the type of applications within the Resource which should be discovered and protected by Azure Backup. 'MSSQL' and 'SQLDataBase' can be used interchangeably for SQL in Azure VM, as can 'SAPHANA' and 'SAPHanaDatabase' for SAP HANA in Azure VM.
- uid: az_backup_protection_check-vm
  name: az backup protection check-vm
  summary: |-
    The command returns null/empty if the specified resource is not protected under any Recovery Services vault in the subscription. When configuring backup fails, it may return vault details. If Azure Backup is failing, then look for the corresponding error code in the Common issues section - https://learn.microsoft.com/en-us/azure/backup/backup-azure-vms-troubleshoot#common-issues. If it is protected, the relevant vault details will be returned.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection check-vm [--resource-group]
                                  [--vm]
  examples:
  - summary: |-
      Find out whether the virtual machine is protected or not. If protected, it returns the recovery services vault ID, otherwise it returns empty. (autogenerated)
    syntax: az backup protection check-vm --resource-group MyResourceGroup --vm myVM
  optionalParameters:
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --vm
    summary: |-
      Name or ID of the Virtual Machine to be protected.
- uid: az_backup_protection_disable
  name: az backup protection disable
  summary: |-
    Stop protecting a backed up item. Can retain the backed up data forever or choose to delete it.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection disable [--backup-management-type {AzureIaasVM, AzureStorage, AzureWorkload}]
                                 [--container-name]
                                 [--delete-backup-data {false, true}]
                                 [--ids]
                                 [--item-name]
                                 [--resource-group]
                                 [--retain-as-per-policy {false, true}]
                                 [--subscription]
                                 [--tenant-id]
                                 [--vault-name]
                                 [--workload-type {AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM}]
                                 [--yes]
  examples:
  - summary: |-
      Stop protecting a backed up item. Can retain the backed up data forever or choose to delete it. (autogenerated)
    syntax: az backup protection disable --container-name MyContainer --backup-management-type AzureIaasVM --delete-backup-data false --item-name MyItem --resource-group MyResourceGroup --vault-name MyVault --yes
  optionalParameters:
  - name: --backup-management-type
    parameterValueGroup: "AzureIaasVM, AzureStorage, AzureWorkload"
    summary: |-
      Specify the backup management type. Define how Azure Backup manages the backup of entities within the ARM resource. For eg: AzureWorkloads refers to workloads installed within Azure VMs, AzureStorage refers to entities within Storage account. Required only if friendly name is used as Container name.
  - name: --container-name -c
    summary: |-
      Name of the backup container. Accepts 'Name' or 'FriendlyName' from the output of az backup container list command. If 'FriendlyName' is passed then BackupManagementType is required.
  - name: --delete-backup-data
    defaultValue: "False"
    parameterValueGroup: "false, true"
    summary: |-
      Option to delete existing backed up data in the Recovery services vault.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --item-name -i
    summary: |-
      Name of the backed up item.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --retain-as-per-policy --retain-recovery-points-as-per-policy
    defaultValue: "False"
    parameterValueGroup: "false, true"
    summary: |-
      Switch parameter that specifies that existing recovery points should be retained for the duration specified by the backup policy.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --tenant-id
    summary: |-
      ID of the tenant if the Resource Guard protecting the vault exists in a different tenant.
  - name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
  - name: --workload-type
    parameterValueGroup: "AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM"
    summary: |-
      Specify the type of applications within the Resource which should be discovered and protected by Azure Backup. 'MSSQL' and 'SQLDataBase' can be used interchangeably for SQL in Azure VM, as can 'SAPHANA' and 'SAPHanaDatabase' for SAP HANA in Azure VM.
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
- uid: az_backup_protection_enable-for-azurefileshare
  name: az backup protection enable-for-azurefileshare
  summary: |-
    Start protecting a previously unprotected Azure File share within an Azure Storage account as per the specified policy to a Recovery services vault.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection enable-for-azurefileshare --azure-file-share
                                                   --policy-name
                                                   --resource-group
                                                   --storage-account
                                                   --vault-name
  examples:
  - summary: |-
      Start protecting a previously unprotected Azure File share within an Azure Storage account as per the specified policy to a Recovery services vault. Provide the Azure File share name and the parent storage account name.
    syntax: az backup protection enable-for-azurefileshare --policy-name MyPolicy --resource-group MyResourceGroup --vault-name MyVault --storage-account MyStorageAccount --azure-file-share MyAzureFileShare
  requiredParameters:
  - isRequired: true
    name: --azure-file-share
    summary: |-
      Name of the Azure FileShare.
  - isRequired: true
    name: --policy-name -p
    summary: |-
      Name of the backup policy.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - isRequired: true
    name: --storage-account
    summary: |-
      Name of the Storage Account of the FileShare.
  - isRequired: true
    name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
- uid: az_backup_protection_enable-for-azurewl
  name: az backup protection enable-for-azurewl
  summary: |-
    Start protecting a previously unprotected workload within an Azure VM as per the specified policy to a Recovery services vault. Provide the workload details as a protectable item.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection enable-for-azurewl --policy-name
                                            --protectable-item-name
                                            --protectable-item-type {HANAInstance, SAPHanaDatabase, SAPHanaSystem, SQLAG, SQLDatabase, SQLInstance}
                                            --resource-group
                                            --server-name
                                            --vault-name
                                            --workload-type {AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM}
  examples:
  - summary: |-
      Start protecting a previously unprotected workload within an Azure VM as per the specified policy to a Recovery services vault. Provide the workload details as a protectable item.
    syntax: az backup protection enable-for-azurewl --policy-name MyPolicy --resource-group MyResourceGroup --vault-name MyVault --protectable-item-name ItemName --protectable-item-type SQLInstance --server-name Myserver --workload-type MSSQL
  requiredParameters:
  - isRequired: true
    name: --policy-name -p
    summary: |-
      Name of the backup policy.
  - isRequired: true
    name: --protectable-item-name
    summary: |-
      Specify the resource name to be protected by Azure Backup service.
  - isRequired: true
    name: --protectable-item-type
    parameterValueGroup: "HANAInstance, SAPHanaDatabase, SAPHanaSystem, SQLAG, SQLDatabase, SQLInstance"
    summary: |-
      Specify the type of items within the Resource which should be discovered and protected by Azure Backup. 'HANAInstance' and 'SAPHanaSystem' can be used interchangeably.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - isRequired: true
    name: --server-name
    summary: |-
      Parent Server name of the item.
  - isRequired: true
    name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
  - isRequired: true
    name: --workload-type
    parameterValueGroup: "AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM"
    summary: |-
      Specify the type of applications within the Resource which should be discovered and protected by Azure Backup. 'MSSQL' and 'SQLDataBase' can be used interchangeably for SQL in Azure VM, as can 'SAPHANA' and 'SAPHanaDatabase' for SAP HANA in Azure VM.
- uid: az_backup_protection_enable-for-vm
  name: az backup protection enable-for-vm
  summary: |-
    Start protecting a previously unprotected Azure VM as per the specified policy to a Recovery services vault.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection enable-for-vm --policy-name
                                       --resource-group
                                       --vault-name
                                       --vm
                                       [--disk-list-setting {exclude, include}]
                                       [--diskslist]
                                       [--exclude-all-data-disks {false, true}]
  examples:
  - summary: |-
      Start protecting a previously unprotected Azure VM as per the specified policy to a Recovery services vault. (autogenerated)
    syntax: az backup protection enable-for-vm --policy-name MyPolicy --resource-group MyResourceGroup --vault-name MyVault --vm myVM
  - summary: |-
      Start protecting a previously unprotected Azure VM as per the specified policy to a Recovery services vault using a Linux shell.
    syntax: >-
      az backup protection enable-for-vm \
        --resource-group myResourceGroup \
        --vault-name myRecoveryServicesVault \
        --policy-name DefaultPolicy \
        --vm "$(az vm show -g VMResourceGroup -n MyVm --query id)"
  requiredParameters:
  - isRequired: true
    name: --policy-name -p
    summary: |-
      Name of the backup policy.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - isRequired: true
    name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
  - isRequired: true
    name: --vm
    summary: |-
      Name or ID of the Virtual Machine to be protected.
  optionalParameters:
  - name: --disk-list-setting
    parameterValueGroup: "exclude, include"
    summary: |-
      Option to decide whether to include or exclude the disk or reset any previous settings to default behavior.
  - name: --diskslist
    summary: |-
      List of disks to be excluded or included.
  - name: --exclude-all-data-disks
    parameterValueGroup: "false, true"
    summary: |-
      Option to specify to backup OS disk only.
- uid: az_backup_protection_resume
  name: az backup protection resume
  summary: |-
    Resume backup for the associated backup item. Use this to change the policy associated with the backup item.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection resume --policy-name
                                [--backup-management-type {AzureIaasVM, AzureStorage, AzureWorkload}]
                                [--container-name]
                                [--ids]
                                [--item-name]
                                [--resource-group]
                                [--subscription]
                                [--vault-name]
                                [--workload-type {AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM}]
  examples:
  - summary: |-
      Resume backup for the associated backup item. Use this to change the policy associated with the backup item.
    syntax: az backup protection resume --vault-name MyVault --resource-group MyResourceGroup --container-name MyContainer --backup-management-type AzureIaasVM --item-name MyItem --policy-name MyPolicy
  requiredParameters:
  - isRequired: true
    name: --policy-name -p
    summary: |-
      Name of the backup policy.
  optionalParameters:
  - name: --backup-management-type
    parameterValueGroup: "AzureIaasVM, AzureStorage, AzureWorkload"
    summary: |-
      Specify the backup management type. Define how Azure Backup manages the backup of entities within the ARM resource. For eg: AzureWorkloads refers to workloads installed within Azure VMs, AzureStorage refers to entities within Storage account. Required only if friendly name is used as Container name.
  - name: --container-name -c
    summary: |-
      Name of the backup container. Accepts 'Name' or 'FriendlyName' from the output of az backup container list command. If 'FriendlyName' is passed then BackupManagementType is required.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --item-name -i
    summary: |-
      Name of the backed up item.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
  - name: --workload-type
    parameterValueGroup: "AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM"
    summary: |-
      Specify the type of applications within the Resource which should be discovered and protected by Azure Backup. 'MSSQL' and 'SQLDataBase' can be used interchangeably for SQL in Azure VM, as can 'SAPHANA' and 'SAPHanaDatabase' for SAP HANA in Azure VM.
- uid: az_backup_protection_undelete
  name: az backup protection undelete
  summary: |-
    Rehydrate an item from softdeleted state to stop protection with retained data state.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection undelete [--backup-management-type {AzureIaasVM, AzureStorage, AzureWorkload}]
                                  [--container-name]
                                  [--ids]
                                  [--item-name]
                                  [--resource-group]
                                  [--subscription]
                                  [--vault-name]
                                  [--workload-type {AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM}]
  examples:
  - summary: |-
      Rehydrate an item from softdeleted state to stop protection with retained data state.
    syntax: az backup protection undelete --container-name MyContainer --item-name MyItem --resource-group MyResourceGroup --vault-name MyVault --backup-management-type AzureIaasVM --workload-type VM
  optionalParameters:
  - name: --backup-management-type
    parameterValueGroup: "AzureIaasVM, AzureStorage, AzureWorkload"
    summary: |-
      Specify the backup management type. Define how Azure Backup manages the backup of entities within the ARM resource. For eg: AzureWorkloads refers to workloads installed within Azure VMs, AzureStorage refers to entities within Storage account. Required only if friendly name is used as Container name.
  - name: --container-name -c
    summary: |-
      Name of the backup container. Accepts 'Name' or 'FriendlyName' from the output of az backup container list command. If 'FriendlyName' is passed then BackupManagementType is required.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --item-name -i
    summary: |-
      Name of the backed up item.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
  - name: --workload-type
    parameterValueGroup: "AzureFileShare, MSSQL, SAPHANA, SAPHanaDatabase, SQLDataBase, VM"
    summary: |-
      Specify the type of applications within the Resource which should be discovered and protected by Azure Backup. 'MSSQL' and 'SQLDataBase' can be used interchangeably for SQL in Azure VM, as can 'SAPHANA' and 'SAPHanaDatabase' for SAP HANA in Azure VM.
- uid: az_backup_protection_update-for-vm
  name: az backup protection update-for-vm
  summary: |-
    Update disk exclusion settings associated with a backed up VM item.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/backup/_help.py
  syntax: >-
    az backup protection update-for-vm [--container-name]
                                       [--disk-list-setting {exclude, include, resetexclusionsettings}]
                                       [--diskslist]
                                       [--exclude-all-data-disks {false, true}]
                                       [--ids]
                                       [--item-name]
                                       [--resource-group]
                                       [--subscription]
                                       [--vault-name]
  examples:
  - summary: |-
      Update disk exclusion settings associated with a backed up VM item.
    syntax: az backup protection update-for-vm --vault-name MyVault --resource-group MyResourceGroup --container-name MyContainer --item-name MyItem --disk-list-setting exclude --diskslist 1
  optionalParameters:
  - name: --container-name -c
    summary: |-
      Name of the backup container. Accepts 'Name' or 'FriendlyName' from the output of az backup container list command. If 'FriendlyName' is passed then BackupManagementType is required.
  - name: --disk-list-setting
    parameterValueGroup: "exclude, include, resetexclusionsettings"
    summary: |-
      Option to decide whether to include or exclude the disk or reset any previous settings to default behavior.
  - name: --diskslist
    summary: |-
      List of disks to be excluded or included.
  - name: --exclude-all-data-disks
    parameterValueGroup: "false, true"
    summary: |-
      Option to specify to backup OS disk only.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --item-name -i
    summary: |-
      Name of the backed up item.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --vault-name -v
    summary: |-
      Name of the Recovery services vault.
commands:
- az_backup_protection_auto-disable-for-azurewl
- az_backup_protection_auto-enable-for-azurewl
- az_backup_protection_backup-now
- az_backup_protection_check-vm
- az_backup_protection_disable
- az_backup_protection_enable-for-azurefileshare
- az_backup_protection_enable-for-azurewl
- az_backup_protection_enable-for-vm
- az_backup_protection_resume
- az_backup_protection_undelete
- az_backup_protection_update-for-vm
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, none, table, tsv, yaml, yamlc"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  ms.date: 11/06/2023
  description: Manage protection of your items, enable protection or disable it, or take on-demand backups.

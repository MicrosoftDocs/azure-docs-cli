### YamlMime:AzureCLIGroup
uid: az_role_assignment
name: az role assignment
summary: Manage role assignments.
description: ''
directCommands:
- uid: az_role_assignment_create
  name: az role assignment create
  summary: Create a new role assignment for a user, group, or service principal.
  description: ''
  syntax: >-
    az role assignment create --role
                              [--assignee]
                              [--assignee-object-id]
                              [--assignee-principal-type {Application, DirectoryObjectOrGroup, DirectoryRoleTemplate, Everyone, ForeignGroup, Group, MSI, ServicePrincipal, Unknown, User}]
                              [--condition]
                              [--condition-version]
                              [--description]
                              [--resource-group]
                              [--scope]
                              [--subscription]
  examples:
  - summary: Create role assignment for an assignee.
    syntax: az role assignment create --assignee sp_name --role a_role
  - summary: Create role assignment for an assignee with description and condition.
    syntax: az role assignment create --role "Owner" --assignee "Jhon.Doe@Contoso.com" --description "Role assignment foo to check on bar" --condition "@Resource[Microsoft.Storage/storageAccounts/blobServices/containers:Name] stringEquals 'foo'" --condition-version "2.0"
  - summary: Create a new role assignment for a user, group, or service principal. (autogenerated)
    syntax: az role assignment create --assignee 00000000-0000-0000-0000-000000000000 --role "Storage Account Key Operator Service Role" --scope $id
  requiredParameters:
  - isRequired: true
    name: --role
    summary: Role name or id.
    description: ''
  optionalParameters:
  - name: --assignee
    summary: 'Represent a user, group, or service principal. supported format: object id, user sign-in name, or service principal name.'
    description: ''
  - name: --assignee-object-id
    summary: Use this parameter instead of '--assignee' to bypass Graph API invocation in case of insufficient privileges. This parameter only works with object ids for users, groups, service principals, and managed identities. For managed identities use the principal id. For service principals, use the object id and not the app id.
    description: ''
  - name: --assignee-principal-type
    parameterValueGroup: Application, DirectoryObjectOrGroup, DirectoryRoleTemplate, Everyone, ForeignGroup, Group, MSI, ServicePrincipal, Unknown, User
    summary: Use with --assignee-object-id to avoid errors caused by propagation latency in AAD Graph.
    description: ''
  - name: --condition
    summary: Condition under which the user can be granted permission.
    description: ''
  - name: --condition-version
    summary: Version of the condition syntax. If --condition is specified without --condition-version, default to 2.0.
    description: ''
  - name: --description
    summary: Description of role assignment.
    description: ''
  - name: --resource-group -g
    summary: Use it only if the role or assignment was added at the level of a resource group.
    description: ''
  - name: --scope
    summary: Scope at which the role assignment or definition applies to, e.g., /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333, /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333/resourceGroups/myGroup, or /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333/resourceGroups/myGroup/providers/Microsoft.Compute/virtualMachines/myVM.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/role/_help.py
- uid: az_role_assignment_delete
  name: az role assignment delete
  summary: Delete role assignments.
  description: ''
  syntax: >-
    az role assignment delete [--assignee]
                              [--ids]
                              [--include-inherited]
                              [--resource-group]
                              [--role]
                              [--scope]
                              [--subscription]
                              [--yes]
  examples:
  - summary: Delete role assignments. (autogenerated)
    syntax: az role assignment delete --assignee 00000000-0000-0000-0000-000000000000 --role "Storage Account Key Operator Service Role"
  optionalParameters:
  - name: --assignee
    summary: 'Represent a user, group, or service principal. supported format: object id, user sign-in name, or service principal name.'
    description: ''
  - name: --ids
    summary: Space-separated role assignment ids.
    description: ''
  - name: --include-inherited
    summary: Include assignments applied on parent scopes.
    description: ''
  - name: --resource-group -g
    summary: Use it only if the role or assignment was added at the level of a resource group.
    description: ''
  - name: --role
    summary: Role name or id.
    description: ''
  - name: --scope
    summary: Scope at which the role assignment or definition applies to, e.g., /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333, /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333/resourceGroups/myGroup, or /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333/resourceGroups/myGroup/providers/Microsoft.Compute/virtualMachines/myVM.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --yes -y
    summary: Continue to delete all assignments under the subscription.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/role/_help.py
- uid: az_role_assignment_list
  name: az role assignment list
  summary: List role assignments.
  description: By default, only assignments scoped to subscription will be displayed. To view assignments scoped by resource or group, use `--all`.
  syntax: >-
    az role assignment list [--all]
                            [--assignee]
                            [--include-classic-administrators {false, true}]
                            [--include-groups]
                            [--include-inherited]
                            [--query-examples]
                            [--resource-group]
                            [--role]
                            [--scope]
                            [--subscription]
  optionalParameters:
  - name: --all
    summary: Show all assignments under the current subscription.
    description: ''
  - name: --assignee
    summary: 'Represent a user, group, or service principal. supported format: object id, user sign-in name, or service principal name.'
    description: ''
  - name: --include-classic-administrators
    parameterValueGroup: false, true
    summary: List default role assignments for subscription classic administrators, aka co-admins.
    description: ''
  - name: --include-groups
    summary: Include extra assignments to the groups of which the user is a member(transitively).
    description: ''
  - name: --include-inherited
    summary: Include assignments applied on parent scopes.
    description: ''
  - name: --query-examples
    summary: Recommend JMESPath string for you. You can copy one of the query and paste it after --query parameter within double quotation marks to see the results. You can add one or more positional keywords so that we can give suggestions based on these key words.
    description: ''
  - name: --resource-group -g
    summary: Use it only if the role or assignment was added at the level of a resource group.
    description: ''
  - name: --role
    summary: Role name or id.
    description: ''
  - name: --scope
    summary: Scope at which the role assignment or definition applies to, e.g., /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333, /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333/resourceGroups/myGroup, or /subscriptions/0b1f6471-1bf0-4dda-aec3-111122223333/resourceGroups/myGroup/providers/Microsoft.Compute/virtualMachines/myVM.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/role/_help.py
- uid: az_role_assignment_list_changelogs
  name: az role assignment list-changelogs
  summary: List changelogs for role assignments.
  description: ''
  syntax: >-
    az role assignment list-changelogs [--end-time]
                                       [--start-time]
                                       [--subscription]
  optionalParameters:
  - name: --end-time
    summary: The end time of the query in the format of %Y-%m-%dT%H:%M:%SZ, e.g. 2000-12-31T12:59:59Z. Defaults to the current time.
    description: ''
  - name: --start-time
    summary: The start time of the query in the format of %Y-%m-%dT%H:%M:%SZ, e.g. 2000-12-31T12:59:59Z. Defaults to 1 Hour prior to the current time.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/role/_help.py
- uid: az_role_assignment_update
  name: az role assignment update
  summary: Update an existing role assignment for a user, group, or service principal.
  description: ''
  syntax: >-
    az role assignment update --role-assignment
                              [--subscription]
  examples:
  - summary: Update a role assignment from a JSON file.
    syntax: az role assignment update --role-assignment assignment.json
  - summary: Update a role assignment from a JSON string. (Bash)
    syntax: >-
      az role assignment update --role-assignment '{
          "canDelegate": null,
          "condition": "@Resource[Microsoft.Storage/storageAccounts/blobServices/containers:Name] stringEquals '"'"'foo'"'"'",
          "conditionVersion": "2.0",
          "description": "Role assignment foo to check on bar",
          "id": "/subscriptions/00000001-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Authorization/roleAssignments/3eabdd43-375b-4dbd-8dc4-04acd15ce56b",
          "name": "3eabdd43-375b-4dbd-8dc4-04acd15ce56b",
          "principalId": "00000002-0000-0000-0000-000000000000",
          "principalType": "User",
          "resourceGroup": "rg1",
          "roleDefinitionId": "/subscriptions/00000001-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7",
          "scope": "/subscriptions/00000001-0000-0000-0000-000000000000/resourceGroups/rg1",
          "type": "Microsoft.Authorization/roleAssignments"
      }'
  requiredParameters:
  - isRequired: true
    name: --role-assignment
    summary: Description of an existing role assignment as JSON, or a path to a file containing a JSON description.
    description: ''
  optionalParameters:
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/role/_help.py
commands:
- az_role_assignment_create
- az_role_assignment_delete
- az_role_assignment_list
- az_role_assignment_list_changelogs
- az_role_assignment_update
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --only-show-errors
  summary: Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
metadata:
  doc_source_url_repo: https://github.com/Azure/azure-cli/blob/dev/
  ms.date: 12/22/2020
  description: Manage role assignments.

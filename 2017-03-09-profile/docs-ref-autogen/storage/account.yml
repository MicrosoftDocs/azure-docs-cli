### YamlMime:AzureCLIGroup
uid: az_storage_account
name: az storage account
summary: |-
  Manage storage accounts.
status: GA
sourceType: Core
directCommands:
- uid: az_storage_account_check-name
  name: az storage account check-name
  summary: |-
    Check that the storage account name is valid and is not already in use.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: az storage account check-name --name
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the storage account within the specified resource group.
- uid: az_storage_account_create
  name: az storage account create
  summary: |-
    Create a storage account.
  description: |-
    The SKU of the storage account defaults to 'Standard_RAGRS'.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account create --name
                              --resource-group
                              [--access-tier {Cool, Hot}]
                              [--account-type]
                              [--action]
                              [--allow-blob-public-access]
                              [--allow-cross-tenant-replication]
                              [--allow-protected-append-writes]
                              [--allow-shared-key-access]
                              [--custom-domain]
                              [--default-share-permission]
                              [--dns-endpoint-type]
                              [--edge-zone]
                              [--enable-alw]
                              [--enable-files-aadkerb]
                              [--enable-local-user]
                              [--enable-nfs-v3]
                              [--enable-sftp]
                              [--encryption-key-name]
                              [--encryption-key-source]
                              [--encryption-key-vault]
                              [--encryption-key-version]
                              [--federated-identity-client-id]
                              [--https-only {false, true}]
                              [--identity-type]
                              [--immutability-period-since-creation-in-days]
                              [--immutability-policy-state]
                              [--key-expiration-period-in-days]
                              [--key-vault-user-identity-id]
                              [--kind {BlobStorage, Storage}]
                              [--location]
                              [--min-tls-version]
                              [--public-network-access]
                              [--require-infrastructure-encryption]
                              [--sam-account-name]
                              [--sas-expiration-period]
                              [--sku {Premium_LRS, Standard_GRS, Standard_LRS, Standard_RAGRS, Standard_ZRS}]
                              [--subnet]
                              [--tags]
                              [--user-identity-id]
                              [--vnet-name]
  examples:
  - summary: |-
      Create a storage account 'mystorageaccount' in resource group 'MyResourceGroup' in the West US region with locally redundant storage.
    syntax: az storage account create -n mystorageaccount -g MyResourceGroup -l westus --account-type Standard_LRS
  - summary: |-
      Create a storage account 'mystorageaccount' in resource group 'MyResourceGroup' in the eastus2euap region with account-scoped encryption key enabled for Table Service.
    syntax: az storage account create -n mystorageaccount -g MyResourceGroup --kind StorageV2 -l eastus2euap -t Account
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The storage account name.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  optionalParameters:
  - name: --access-tier
    parameterValueGroup: "Cool, Hot"
    summary: |-
      Required for storage accounts where kind = BlobStorage. The access tier is used for billing. The "Premium" access tier is the default value for premium block blobs storage account type and it cannot be changed for the premium block blobs storage account type.
  - name: --account-type
    summary: |-
      The storage account type.
  - name: --action
    defaultValue: "Allow"
  - name: --allow-blob-public-access
  - name: --allow-cross-tenant-replication
  - name: --allow-protected-append-writes
  - name: --allow-shared-key-access
  - name: --custom-domain
    summary: |-
      User domain assigned to the storage account. Name is the CNAME source.
  - name: --default-share-permission
  - name: --dns-endpoint-type
  - name: --edge-zone
  - name: --enable-alw
  - name: --enable-files-aadkerb
  - name: --enable-local-user
  - name: --enable-nfs-v3
  - name: --enable-sftp
  - name: --encryption-key-name
  - name: --encryption-key-source
  - name: --encryption-key-vault
  - name: --encryption-key-version
  - name: --federated-identity-client-id
  - name: --https-only
    parameterValueGroup: "false, true"
    summary: |-
      Allow https traffic only to storage service if set to true. The default value is false.
  - name: --identity-type
  - name: --immutability-period-since-creation-in-days
  - name: --immutability-policy-state
  - name: --key-expiration-period-in-days
  - name: --key-vault-user-identity-id
  - name: --kind
    defaultValue: "Storage"
    parameterValueGroup: "BlobStorage, Storage"
    summary: |-
      Indicate the type of storage account.
  - name: --location -l
    summary: |-
      Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.
  - name: --min-tls-version
  - name: --public-network-access
  - name: --require-infrastructure-encryption
  - name: --sam-account-name
  - name: --sas-expiration-period
  - name: --sku
    defaultValue: "Standard_RAGRS"
    parameterValueGroup: "Premium_LRS, Standard_GRS, Standard_LRS, Standard_RAGRS, Standard_ZRS"
    summary: |-
      The storage account SKU.
  - name: --subnet
  - name: --tags
    summary: |-
      Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.
  - name: --user-identity-id
  - name: --vnet-name
- uid: az_storage_account_delete
  name: az storage account delete
  summary: |-
    Delete a storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account delete [--ids]
                              [--name]
                              [--resource-group]
                              [--subscription]
                              [--yes]
  examples:
  - summary: |-
      Delete a storage account using a resource ID.
    syntax: az storage account delete --ids /subscriptions/{SubID}/resourceGroups/{ResourceGroup}/providers/Microsoft.Storage/storageAccounts/{StorageAccount}
  - summary: |-
      Delete a storage account using an account name and resource group.
    syntax: az storage account delete -n MyStorageAccount -g MyResourceGroup
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name -n
    summary: |-
      The storage account name.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
- uid: az_storage_account_generate-sas
  name: az storage account generate-sas
  summary: |-
    Generate a shared access signature for the storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account generate-sas --expiry
                                    --permissions
                                    --resource-types
                                    --services
                                    [--account-key]
                                    [--account-name]
                                    [--connection-string]
                                    [--https-only]
                                    [--ids]
                                    [--ip]
                                    [--start]
                                    [--subscription]
  examples:
  - summary: |-
      Generate a sas token for the account that is valid for queue and table services on Linux.
    syntax: >-
      end=`date -u -d "30 minutes" '+%Y-%m-%dT%H:%MZ'`

      az storage account generate-sas --permissions cdlruwap --account-name MyStorageAccount --services qt --resource-types sco --expiry $end -o tsv
  - summary: |-
      Generate a sas token for the account that is valid for queue and table services on MacOS.
    syntax: >-
      end=`date -v+30M '+%Y-%m-%dT%H:%MZ'`

      az storage account generate-sas --permissions cdlruwap --account-name MyStorageAccount --services qt --resource-types sco --expiry $end -o tsv
  - summary: |-
      Generate a shared access signature for the account (autogenerated)
    syntax: az storage account generate-sas --account-key 00000000 --account-name MyStorageAccount --expiry 2020-01-01 --https-only --permissions acuw --resource-types co --services bfqt
  requiredParameters:
  - isRequired: true
    name: --expiry
    summary: |-
      Specifies the UTC datetime (Y-m-d'T'H:M'Z') at which the SAS becomes invalid.
  - isRequired: true
    name: --permissions
    summary: |-
      The permissions the SAS grants. Allowed values: (a)dd (a)dd (c)reate (c)reate (d)elete (d)elete (l)ist (l)ist (p)rocess (p)rocess (r)ead (r)ead (u)pdate (u)pdate (w)rite (w)rite. Can be combined.
  - isRequired: true
    name: --resource-types
    summary: |-
      The resource types the SAS is applicable for. Allowed values: (s)ervice (c)ontainer (o)bject. Can be combined.
  - isRequired: true
    name: --services
    summary: |-
      The storage services the SAS is applicable for. Allowed values: (b)lob (f)ile (q)ueue (t)able. Can be combined.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Must be used in conjunction with either storage account key or a SAS token. Environment Variable: AZURE_STORAGE_ACCOUNT.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --https-only
    summary: |-
      Only permit requests made with the HTTPS protocol. If omitted, requests from both the HTTP and HTTPS protocol are permitted.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --ip
    summary: |-
      Specifies the IP address or range of IP addresses from which to accept requests. Supports only IPv4 style addresses.
  - name: --start
    summary: |-
      Specifies the UTC datetime (Y-m-d'T'H:M'Z') at which the SAS becomes valid. Defaults to the time of the request.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_storage_account_list
  name: az storage account list
  summary: |-
    List storage accounts.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: az storage account list [--resource-group]
  examples:
  - summary: |-
      List all storage accounts in a subscription.
    syntax: az storage account list
  - summary: |-
      List all storage accounts in a resource group.
    syntax: az storage account list -g MyResourceGroup
  optionalParameters:
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_storage_account_show
  name: az storage account show
  summary: |-
    Show storage account properties.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account show [--ids]
                            [--name]
                            [--resource-group]
                            [--subscription]
  examples:
  - summary: |-
      Show properties for a storage account by resource ID.
    syntax: az storage account show --ids /subscriptions/{SubID}/resourceGroups/{ResourceGroup}/providers/Microsoft.Storage/storageAccounts/{StorageAccount}
  - summary: |-
      Show properties for a storage account using an account name and resource group.
    syntax: az storage account show -g MyResourceGroup -n MyStorageAccount
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name -n
    summary: |-
      The storage account name.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_storage_account_show-connection-string
  name: az storage account show-connection-string
  summary: |-
    Get the connection string for a storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account show-connection-string [--blob-endpoint]
                                              [--file-endpoint]
                                              [--ids]
                                              [--key {key1, key2, primary, secondary}]
                                              [--name]
                                              [--protocol {http, https}]
                                              [--queue-endpoint]
                                              [--resource-group]
                                              [--sas-token]
                                              [--subscription]
                                              [--table-endpoint]
  examples:
  - summary: |-
      Get a connection string for a storage account.
    syntax: az storage account show-connection-string -g MyResourceGroup -n MyStorageAccount
  - summary: |-
      Get the connection string for a storage account. (autogenerated)
    syntax: az storage account show-connection-string --name MyStorageAccount --resource-group MyResourceGroup --subscription MySubscription
  optionalParameters:
  - name: --blob-endpoint
    summary: |-
      Custom endpoint for blobs.
  - name: --file-endpoint
    summary: |-
      Custom endpoint for files.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --key
    defaultValue: "key1"
    parameterValueGroup: "key1, key2, primary, secondary"
    summary: |-
      The key to use.
  - name: --name -n
    summary: |-
      The storage account name.
  - name: --protocol
    defaultValue: "https"
    parameterValueGroup: "http, https"
    summary: |-
      The default endpoint protocol.
  - name: --queue-endpoint
    summary: |-
      Custom endpoint for queues.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --sas-token
    summary: |-
      The SAS token to be used in the connection-string.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --table-endpoint
    summary: |-
      Custom endpoint for tables.
- uid: az_storage_account_show-usage
  name: az storage account show-usage
  summary: |-
    Show the current count and limit of the storage accounts under the subscription.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: az storage account show-usage
  examples:
  - summary: |-
      Show the current count and limit of the storage accounts under the subscription. (autogenerated)
    syntax: az storage account show-usage --location westus2
commands:
- az_storage_account_check-name
- az_storage_account_create
- az_storage_account_delete
- az_storage_account_generate-sas
- az_storage_account_keys
- az_storage_account_keys_list
- az_storage_account_keys_renew
- az_storage_account_list
- az_storage_account_show
- az_storage_account_show-connection-string
- az_storage_account_show-usage
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, none, table, tsv, yaml, yamlc"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  ms.date: 01/29/2024
  description: Manage storage accounts.

### YamlMime:AzureCLIGroup
uid: az_keyvault
name: az keyvault
summary: Manage KeyVault keys, secrets, and certificates.
description: ''
directCommands:
- uid: az_keyvault_create
  name: az keyvault create
  summary: Create a key vault.
  description: If `--enable-rbac-authorization` is not specified, then default permissions are created for the current user or service principal unless the `--no-self-perms` flag is specified.
  syntax: >-
    az keyvault create --name
                       --resource-group
                       [--enable-purge-protection {false, true}]
                       [--enable-rbac-authorization {false, true}]
                       [--enable-soft-delete {false, true}]
                       [--enabled-for-deployment {false, true}]
                       [--enabled-for-disk-encryption {false, true}]
                       [--enabled-for-template-deployment {false, true}]
                       [--location]
                       [--network-acls]
                       [--network-acls-ips]
                       [--network-acls-vnets]
                       [--no-self-perms {false, true}]
                       [--retention-days]
                       [--sku {premium, standard}]
                       [--subscription]
                       [--tags]
  examples:
  - summary: Create a key vault with network ACLs specified (use --network-acls to specify IP and VNet rules by using a JSON string).
    syntax: 'az keyvault create --location westus2 --name MyKeyVault --resource-group MyResourceGroup --network-acls "{\"ip\": [\"1.2.3.4\", \"2.3.4.0/24\"], \"vnet\": [\"vnet_name_1/subnet_name1\", \"vnet_name_2/subnet_name2\", \"/subscriptions/000000-0000-0000/resourceGroups/MyResourceGroup/providers/Microsoft.Network/virtualNetworks/MyVNet/subnets/MySubnet\"]}"'
  - summary: Create a key vault with network ACLs specified (use --network-acls to specify IP and VNet rules by using a JSON file).
    syntax: az keyvault create --location westus2 --name MyKeyVault --resource-group MyResourceGroup --network-acls network-acls-example.json
  - summary: Create a key vault with network ACLs specified (use --network-acls-ips to specify IP rules).
    syntax: az keyvault create --location westus2 --name MyKeyVault --resource-group MyResourceGroup --network-acls-ips 3.4.5.0/24 4.5.6.0/24
  - summary: Create a key vault with network ACLs specified (use --network-acls-vnets to specify VNet rules).
    syntax: az keyvault create --location westus2 --name MyKeyVault --resource-group MyResourceGroup --network-acls-vnets vnet_name_2/subnet_name_2 vnet_name_3/subnet_name_3 /subscriptions/000000-0000-0000/resourceGroups/MyResourceGroup/providers/Microsoft.Network/virtualNetworks/vnet_name_4/subnets/subnet_name_4
  - summary: Create a key vault with network ACLs specified (use --network-acls, --network-acls-ips and --network-acls-vnets together, redundant rules will be removed, finally there will be 4 IP rules and 3 VNet rules).
    syntax: 'az keyvault create --location westus2 --name MyKeyVault --resource-group MyResourceGroup --network-acls "{\"ip\": [\"1.2.3.4\", \"2.3.4.0/24\"], \"vnet\": [\"vnet_name_1/subnet_name1\", \"vnet_name_2/subnet_name2\"]}" --network-acls-ips 3.4.5.0/24 4.5.6.0/24 --network-acls-vnets vnet_name_2/subnet_name_2 vnet_name_3/subnet_name_3 /subscriptions/000000-0000-0000/resourceGroups/MyResourceGroup/providers/Microsoft.Network/virtualNetworks/vnet_name_4/subnets/subnet_name_4'
  - summary: Create a key vault. (autogenerated)
    syntax: az keyvault create --location westus2 --name MyKeyVault --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the key vault.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --enable-purge-protection
    parameterValueGroup: false, true
    summary: Property specifying whether protection against purge is enabled for this vault. Setting this property to true activates protection against purge for this vault and its content - only the Key Vault service may initiate a hard, irrecoverable deletion. The setting is effective only if soft delete is also enabled. Enabling this functionality is irreversible - that is, the property does not accept false as its value.
    description: ''
  - name: --enable-rbac-authorization
    parameterValueGroup: false, true
    summary: ''
    description: ''
  - name: --enable-soft-delete
    parameterValueGroup: false, true
    summary: Property specifying whether recoverable deletion is enabled for this key vault. Setting this property to true activates the soft delete feature, whereby vaults or vault entities can be recovered after deletion. Enabling this functionality is irreversible - that is, the property does not accept false as its value.
    description: ''
  - name: --enabled-for-deployment
    parameterValueGroup: false, true
    summary: Property to specify whether Azure Virtual Machines are permitted to retrieve certificates stored as secrets from the key vault.
    description: ''
  - name: --enabled-for-disk-encryption
    parameterValueGroup: false, true
    summary: Property to specify whether Azure Disk Encryption is permitted to retrieve secrets from the vault and unwrap keys.
    description: ''
  - name: --enabled-for-template-deployment
    parameterValueGroup: false, true
    summary: Property to specify whether Azure Resource Manager is permitted to retrieve secrets from the key vault.
    description: ''
  - name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  - name: --network-acls
    summary: 'Network ACLs. It accepts a JSON filename or a JSON string. JSON format: `{"ip":[<ip1>, <ip2>...],"vnet":[<vnet_name_1>/<subnet_name_1>,<subnet_id2>...]}`.'
    description: ''
  - name: --network-acls-ips
    summary: Network ACLs IP rules. Space-separated list of IP addresses.
    description: ''
  - name: --network-acls-vnets
    summary: Network ACLS VNet rules. Space-separated list of Vnet/subnet pairs or subnet resource ids.
    description: ''
  - name: --no-self-perms
    parameterValueGroup: false, true
    summary: Don't add permissions for the current user/service principal in the new vault.
    description: ''
  - name: --retention-days
    defaultValue: "90"
    summary: Soft delete data retention days. It accepts >=7 and <=90.
    description: ''
  - name: --sku
    defaultValue: standard
    parameterValueGroup: premium, standard
    summary: Required. SKU details.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_delete
  name: az keyvault delete
  summary: Delete a key vault.
  description: ''
  syntax: >-
    az keyvault delete --name
                       [--resource-group]
                       [--subscription]
  examples:
  - summary: Delete a key vault. (autogenerated)
    syntax: az keyvault delete --name MyKeyVault --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the key vault.
    description: ''
  optionalParameters:
  - name: --resource-group -g
    summary: Proceed only if Key Vault belongs to the specified resource group.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_delete_policy
  name: az keyvault delete-policy
  summary: Delete security policy settings for a Key Vault.
  description: ''
  syntax: >-
    az keyvault delete-policy --name
                              [--object-id]
                              [--resource-group]
                              [--spn]
                              [--subscription]
                              [--upn]
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the key vault.
    description: ''
  optionalParameters:
  - name: --object-id
    summary: A GUID that identifies the principal that will receive permissions.
    description: ''
  - name: --resource-group -g
    summary: Proceed only if Key Vault belongs to the specified resource group.
    description: ''
  - name: --spn
    summary: Name of a service principal that will receive permissions.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --upn
    summary: Name of a user principal that will receive permissions.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_list
  name: az keyvault list
  summary: List key vaults.
  description: ''
  syntax: >-
    az keyvault list [--resource-group]
                     [--subscription]
  optionalParameters:
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_list_deleted
  name: az keyvault list-deleted
  summary: Gets information about the deleted vaults in a subscription.
  description: ''
  syntax: az keyvault list-deleted [--subscription]
  optionalParameters:
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_purge
  name: az keyvault purge
  summary: Permanently deletes the specified vault.
  description: Aka Purges the deleted Azure key vault.
  syntax: >-
    az keyvault purge --name
                      [--location]
                      [--subscription]
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the deleted vault.
    description: ''
  optionalParameters:
  - name: --location -l
    summary: Location of the deleted vault.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_recover
  name: az keyvault recover
  summary: Recover a key vault.
  description: Recovers a previously deleted key vault for which soft delete was enabled.
  syntax: >-
    az keyvault recover --name
                        [--location]
                        [--resource-group]
                        [--subscription]
  examples:
  - summary: Recover a key vault. (autogenerated)
    syntax: az keyvault recover --location westus2 --name MyKeyVault --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the deleted vault.
    description: ''
  optionalParameters:
  - name: --location -l
    summary: Location of the deleted vault.
    description: ''
  - name: --resource-group -g
    summary: Resource group of the deleted vault.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_set_policy
  name: az keyvault set-policy
  summary: Update security policy settings for a Key Vault.
  description: ''
  syntax: >-
    az keyvault set-policy --name
                           [--certificate-permissions {create, delete, deleteissuers, get, getissuers, import, list, listissuers, managecontacts, manageissuers, purge, recover, setissuers, update}]
                           [--key-permissions {backup, create, decrypt, delete, encrypt, get, import, list, purge, recover, restore, sign, unwrapKey, update, verify, wrapKey}]
                           [--object-id]
                           [--resource-group]
                           [--secret-permissions {backup, delete, get, list, purge, recover, restore, set}]
                           [--spn]
                           [--storage-permissions {backup, delete, deletesas, get, getsas, list, listsas, purge, recover, regeneratekey, restore, set, setsas, update}]
                           [--subscription]
                           [--upn]
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the key vault.
    description: ''
  optionalParameters:
  - name: --certificate-permissions
    parameterValueGroup: create, delete, deleteissuers, get, getissuers, import, list, listissuers, managecontacts, manageissuers, purge, recover, setissuers, update
    summary: Space-separated list of certificate permissions to assign.
    description: ''
  - name: --key-permissions
    parameterValueGroup: backup, create, decrypt, delete, encrypt, get, import, list, purge, recover, restore, sign, unwrapKey, update, verify, wrapKey
    summary: Space-separated list of key permissions to assign.
    description: ''
  - name: --object-id
    summary: A GUID that identifies the principal that will receive permissions.
    description: ''
  - name: --resource-group -g
    summary: Proceed only if Key Vault belongs to the specified resource group.
    description: ''
  - name: --secret-permissions
    parameterValueGroup: backup, delete, get, list, purge, recover, restore, set
    summary: Space-separated list of secret permissions to assign.
    description: ''
  - name: --spn
    summary: Name of a service principal that will receive permissions.
    description: ''
  - name: --storage-permissions
    parameterValueGroup: backup, delete, deletesas, get, getsas, list, listsas, purge, recover, regeneratekey, restore, set, setsas, update
    summary: Space-separated list of storage permissions to assign.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --upn
    summary: Name of a user principal that will receive permissions.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_show
  name: az keyvault show
  summary: Show details of a key vault.
  description: ''
  syntax: >-
    az keyvault show --name
                     [--resource-group]
                     [--subscription]
  examples:
  - summary: Show details of a key vault. (autogenerated)
    syntax: az keyvault show --name MyKeyVault
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the key vault.
    description: ''
  optionalParameters:
  - name: --resource-group -g
    summary: Proceed only if Key Vault belongs to the specified resource group.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
- uid: az_keyvault_update
  name: az keyvault update
  summary: Update the properties of a key vault.
  description: ''
  syntax: >-
    az keyvault update --name
                       [--add]
                       [--enable-purge-protection {false, true}]
                       [--enable-rbac-authorization {false, true}]
                       [--enable-soft-delete {false, true}]
                       [--enabled-for-deployment {false, true}]
                       [--enabled-for-disk-encryption {false, true}]
                       [--enabled-for-template-deployment {false, true}]
                       [--force-string]
                       [--remove]
                       [--resource-group]
                       [--retention-days]
                       [--set]
                       [--subscription]
  examples:
  - summary: Update the properties of a key vault. (autogenerated)
    syntax: az keyvault update --enabled-for-disk-encryption true --name MyKeyVault --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the key vault.
    description: ''
  optionalParameters:
  - name: --add
    summary: 'Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.'
    description: ''
  - name: --enable-purge-protection
    parameterValueGroup: false, true
    summary: Property specifying whether protection against purge is enabled for this vault. Setting this property to true activates protection against purge for this vault and its content - only the Key Vault service may initiate a hard, irrecoverable deletion. The setting is effective only if soft delete is also enabled. Enabling this functionality is irreversible - that is, the property does not accept false as its value.
    description: ''
  - name: --enable-rbac-authorization
    parameterValueGroup: false, true
    summary: ''
    description: ''
  - name: --enable-soft-delete
    parameterValueGroup: false, true
    summary: Property specifying whether recoverable deletion is enabled for this key vault. Setting this property to true activates the soft delete feature, whereby vaults or vault entities can be recovered after deletion. Enabling this functionality is irreversible - that is, the property does not accept false as its value.
    description: ''
  - name: --enabled-for-deployment
    parameterValueGroup: false, true
    summary: Property to specify whether Azure Virtual Machines are permitted to retrieve certificates stored as secrets from the key vault.
    description: ''
  - name: --enabled-for-disk-encryption
    parameterValueGroup: false, true
    summary: Property to specify whether Azure Disk Encryption is permitted to retrieve secrets from the vault and unwrap keys.
    description: ''
  - name: --enabled-for-template-deployment
    parameterValueGroup: false, true
    summary: Property to specify whether Azure Resource Manager is permitted to retrieve secrets from the key vault.
    description: ''
  - name: --force-string
    summary: When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
    description: ''
  - name: --remove
    summary: 'Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.'
    description: ''
  - name: --resource-group -g
    summary: Proceed only if Key Vault belongs to the specified resource group.
    description: ''
  - name: --retention-days
    summary: Soft delete data retention days. It accepts >=7 and <=90.
    description: ''
  - name: --set
    summary: 'Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.'
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
commands:
- az_keyvault_certificate
- az_keyvault_certificate_contact
- az_keyvault_certificate_contact_add
- az_keyvault_certificate_contact_delete
- az_keyvault_certificate_contact_list
- az_keyvault_certificate_create
- az_keyvault_certificate_delete
- az_keyvault_certificate_download
- az_keyvault_certificate_get_default_policy
- az_keyvault_certificate_import
- az_keyvault_certificate_issuer
- az_keyvault_certificate_issuer_admin
- az_keyvault_certificate_issuer_admin_add
- az_keyvault_certificate_issuer_admin_delete
- az_keyvault_certificate_issuer_admin_list
- az_keyvault_certificate_issuer_create
- az_keyvault_certificate_issuer_delete
- az_keyvault_certificate_issuer_list
- az_keyvault_certificate_issuer_show
- az_keyvault_certificate_issuer_update
- az_keyvault_certificate_list
- az_keyvault_certificate_list_deleted
- az_keyvault_certificate_list_versions
- az_keyvault_certificate_pending
- az_keyvault_certificate_pending_delete
- az_keyvault_certificate_pending_merge
- az_keyvault_certificate_pending_show
- az_keyvault_certificate_purge
- az_keyvault_certificate_recover
- az_keyvault_certificate_set_attributes
- az_keyvault_certificate_show
- az_keyvault_certificate_show_deleted
- az_keyvault_create
- az_keyvault_delete
- az_keyvault_delete_policy
- az_keyvault_key
- az_keyvault_key_backup
- az_keyvault_key_create
- az_keyvault_key_decrypt
- az_keyvault_key_delete
- az_keyvault_key_download
- az_keyvault_key_encrypt
- az_keyvault_key_import
- az_keyvault_key_list
- az_keyvault_key_list_deleted
- az_keyvault_key_list_versions
- az_keyvault_key_purge
- az_keyvault_key_recover
- az_keyvault_key_restore
- az_keyvault_key_set_attributes
- az_keyvault_key_show
- az_keyvault_key_show_deleted
- az_keyvault_list
- az_keyvault_list_deleted
- az_keyvault_purge
- az_keyvault_recover
- az_keyvault_secret
- az_keyvault_secret_backup
- az_keyvault_secret_delete
- az_keyvault_secret_download
- az_keyvault_secret_list
- az_keyvault_secret_list_deleted
- az_keyvault_secret_list_versions
- az_keyvault_secret_purge
- az_keyvault_secret_recover
- az_keyvault_secret_restore
- az_keyvault_secret_set
- az_keyvault_secret_set_attributes
- az_keyvault_secret_show
- az_keyvault_secret_show_deleted
- az_keyvault_set_policy
- az_keyvault_show
- az_keyvault_update
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --only-show-errors
  summary: Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
metadata:
  doc_source_url_repo: https://github.com/Azure/azure-cli/blob/dev/
  original_content_git_url: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
  gitcommit: https://github.com/Azure/azure-cli/blob/e3dc0e12dbb72be6ccc77d4d94e3a102ebed7c3c/src/azure-cli/azure/cli/command_modules/keyvault/_help.py
  updated_at: 6/4/2020 1:53:34 PM
  ms.date: 06/04/2020
  description: Manage KeyVault keys, secrets, and certificates.

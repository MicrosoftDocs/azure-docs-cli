### YamlMime:AzureCLIGroup
uid: az_network_watcher_connection_monitor
name: az network watcher connection-monitor
summary: Manage connection monitoring between an Azure Virtual Machine and any IP resource.
description: >-
  Connection monitor can be used to monitor network connectivity between an Azure virtual machine and an IP address.
   The IP address can be assigned to another Azure resource or a resource on the Internet or on-premises. To learn
   more visit <a href="https://aka.ms/connectionmonitordoc">https://aka.ms/connectionmonitordoc</a>.
directCommands:
- uid: az_network_watcher_connection_monitor_create
  name: az network watcher connection-monitor create
  summary: Create a connection monitor.
  description: >-
    This extension allow to create V1 and V2 version of connection monitor.

    V1 connection monitor supports single source and destination endpoint which comes with V1 argument groups as usual.

    V2 connection monitor supports multiple endpoints and several test protocol which comes with V2 argument groups.
  syntax: >-
    az network watcher connection-monitor create --name
                                                 [--dest-address]
                                                 [--dest-port]
                                                 [--dest-resource]
                                                 [--do-not-start]
                                                 [--location]
                                                 [--monitoring-interval]
                                                 [--resource-group]
                                                 [--source-port]
                                                 [--source-resource]
                                                 [--subscription]
                                                 [--tags]
  examples:
  - summary: Create a connection monitor for a virtual machine.
    syntax: >-
      az network watcher connection-monitor create -g MyResourceGroup -n MyConnectionMonitorName \
          --source-resource MyVM
  - summary: Create a V2 connection monitor
    syntax: az network watcher connection-monitor create --name MyV2ConnectionMonitor --endpoint-source-name "vm01" --endpoint-source-resource-id MyVM01ResourceID --endpoint-dest-name bing --endpoint-dest-address bing.com --test-config-name TCPTestConfig --protocol Tcp --tcp-port 2048
  - summary: Create a connection monitor. (autogenerated)
    syntax: az network watcher connection-monitor create --endpoint-dest-address bing.com --endpoint-dest-name bing --endpoint-source-name "vm01" --endpoint-source-resource-id MyVM01ResourceID --location westus2 --name MyConnectionMonitorName --protocol Tcp --tcp-port 2048 --test-config-name TCPTestConfig
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Connection monitor name.
    description: ''
  optionalParameters:
  - name: --dest-address
    summary: The IP address or URI at which to receive traffic.
    description: ''
  - name: --dest-port
    summary: Port number on which to receive traffic.
    description: ''
  - name: --dest-resource
    summary: Currently only Virtual Machines are supported.
    description: ''
  - name: --do-not-start
    summary: Create the connection monitor but do not start it immediately.
    description: ''
  - name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  - name: --monitoring-interval
    defaultValue: "60"
    summary: Monitoring interval in seconds.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --source-port
    summary: Port number from which to originate traffic.
    description: ''
  - name: --source-resource
    summary: Currently only Virtual Machines are supported.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
- uid: az_network_watcher_connection_monitor_delete
  name: az network watcher connection-monitor delete
  summary: Delete a connection monitor for the given region.
  description: ''
  syntax: >-
    az network watcher connection-monitor delete --location
                                                 --name
                                                 [--subscription]
  examples:
  - summary: Delete a connection monitor for the given region.
    syntax: az network watcher connection-monitor delete -l westus -n MyConnectionMonitorName
  requiredParameters:
  - isRequired: true
    name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  - isRequired: true
    name: --name -n
    summary: Connection monitor name.
    description: ''
  optionalParameters:
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
- uid: az_network_watcher_connection_monitor_list
  name: az network watcher connection-monitor list
  summary: List connection monitors for the given region.
  description: ''
  syntax: >-
    az network watcher connection-monitor list --location
                                               [--query-examples]
                                               [--subscription]
  examples:
  - summary: List a connection monitor for the given region.
    syntax: az network watcher connection-monitor list -l westus
  - summary: List connection monitors for the given region. (autogenerated)
    syntax: az network watcher connection-monitor list --location westus --subscription MySubscription
  requiredParameters:
  - isRequired: true
    name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  optionalParameters:
  - name: --query-examples
    summary: Recommend JMESPath string for you. You can copy one of the query and paste it after --query parameter within double quotation marks to see the results. You can add one or more positional keywords so that we can give suggestions based on these key words.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
- uid: az_network_watcher_connection_monitor_query
  name: az network watcher connection-monitor query
  summary: Query a snapshot of the most recent connection state of a connection monitor.
  description: ''
  syntax: >-
    az network watcher connection-monitor query --location
                                                --name
                                                [--subscription]
  examples:
  - summary: List a connection monitor for the given region.
    syntax: az network watcher connection-monitor query -l westus -n MyConnectionMonitorName
  requiredParameters:
  - isRequired: true
    name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  - isRequired: true
    name: --name -n
    summary: Connection monitor name.
    description: ''
  optionalParameters:
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
- uid: az_network_watcher_connection_monitor_show
  name: az network watcher connection-monitor show
  summary: Shows a connection monitor by name.
  description: ''
  syntax: >-
    az network watcher connection-monitor show --location
                                               --name
                                               [--query-examples]
                                               [--subscription]
  examples:
  - summary: Show a connection monitor for the given name.
    syntax: az network watcher connection-monitor show -l westus -n MyConnectionMonitorName
  requiredParameters:
  - isRequired: true
    name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  - isRequired: true
    name: --name -n
    summary: Connection monitor name.
    description: ''
  optionalParameters:
  - name: --query-examples
    summary: Recommend JMESPath string for you. You can copy one of the query and paste it after --query parameter within double quotation marks to see the results. You can add one or more positional keywords so that we can give suggestions based on these key words.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
- uid: az_network_watcher_connection_monitor_start
  name: az network watcher connection-monitor start
  summary: Start the specified connection monitor.
  description: ''
  syntax: >-
    az network watcher connection-monitor start --location
                                                --name
                                                [--subscription]
  examples:
  - summary: Start the specified connection monitor.
    syntax: az network watcher connection-monitor start -l westus -n MyConnectionMonitorName
  requiredParameters:
  - isRequired: true
    name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  - isRequired: true
    name: --name -n
    summary: Connection monitor name.
    description: ''
  optionalParameters:
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
- uid: az_network_watcher_connection_monitor_stop
  name: az network watcher connection-monitor stop
  summary: Stop the specified connection monitor.
  description: ''
  syntax: >-
    az network watcher connection-monitor stop --location
                                               --name
                                               [--subscription]
  examples:
  - summary: Stop the specified connection monitor.
    syntax: az network watcher connection-monitor stop -l westus -n MyConnectionMonitorName
  requiredParameters:
  - isRequired: true
    name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.'
    description: ''
  - isRequired: true
    name: --name -n
    summary: Connection monitor name.
    description: ''
  optionalParameters:
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/network/_help.py
commands:
- az_network_watcher_connection_monitor_create
- az_network_watcher_connection_monitor_delete
- az_network_watcher_connection_monitor_list
- az_network_watcher_connection_monitor_query
- az_network_watcher_connection_monitor_show
- az_network_watcher_connection_monitor_start
- az_network_watcher_connection_monitor_stop
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --only-show-errors
  summary: Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
metadata:
  doc_source_url_repo: https://github.com/Azure/azure-cli/blob/dev/
  ms.date: 12/20/2020
  description: >-
    Connection monitor can be used to monitor network connectivity between an Azure virtual machine and an IP address.
     The IP address can be assigned to another Azure resource or a resource on the Internet or on-premises. To learn
     more visit <a href="https://aka.ms/connectionmonitordoc">https://aka.ms/connectionmonitordoc</a>.

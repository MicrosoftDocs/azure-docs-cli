### YamlMime:AzureCLIGroup
uid: az_vmss
name: az vmss
summary: Manage groupings of virtual machines in an Azure Virtual Machine Scale Set (VMSS).
description: ''
directCommands:
- uid: az_vmss_create
  name: az vmss create
  summary: Create an Azure Virtual Machine Scale Set.
  description: For an end-to-end tutorial, see https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-linux-create-cli.
  syntax: >-
    az vmss create --name
                   --resource-group
                   [--accelerated-networking {false, true}]
                   [--admin-password]
                   [--admin-username]
                   [--app-gateway]
                   [--app-gateway-capacity]
                   [--app-gateway-sku]
                   [--app-gateway-subnet-address-prefix]
                   [--asgs]
                   [--assign-identity]
                   [--authentication-type {all, password, ssh}]
                   [--automatic-repairs-grace-period]
                   [--backend-pool-name]
                   [--backend-port]
                   [--computer-name-prefix]
                   [--custom-data]
                   [--data-disk-caching]
                   [--data-disk-encryption-sets]
                   [--data-disk-iops]
                   [--data-disk-mbps]
                   [--data-disk-sizes-gb]
                   [--disable-overprovision]
                   [--dns-servers]
                   [--encryption-at-host {false, true}]
                   [--ephemeral-os-disk {false, true}]
                   [--eviction-policy {Deallocate, Delete}]
                   [--generate-ssh-keys]
                   [--health-probe]
                   [--host-group]
                   [--image]
                   [--instance-count]
                   [--lb]
                   [--lb-nat-pool-name]
                   [--lb-sku {Basic, Standard}]
                   [--license-type {None, RHEL_BYOS, SLES_BYOS, Windows_Client, Windows_Server}]
                   [--location]
                   [--max-price]
                   [--no-wait]
                   [--nsg]
                   [--orchestration-mode {Flexible, Uniform}]
                   [--os-disk-caching {None, ReadOnly, ReadWrite}]
                   [--os-disk-encryption-set]
                   [--os-disk-name]
                   [--os-disk-size-gb]
                   [--os-type {linux, windows}]
                   [--plan-name]
                   [--plan-product]
                   [--plan-promotion-code]
                   [--plan-publisher]
                   [--platform-fault-domain-count]
                   [--ppg]
                   [--priority {Low, Regular, Spot}]
                   [--public-ip-address]
                   [--public-ip-address-allocation {dynamic, static}]
                   [--public-ip-address-dns-name]
                   [--public-ip-per-vm]
                   [--role]
                   [--scale-in-policy {Default, NewestVM, OldestVM}]
                   [--scope]
                   [--secrets]
                   [--single-placement-group {false, true}]
                   [--specialized {false, true}]
                   [--ssh-dest-key-path]
                   [--ssh-key-values]
                   [--storage-container-name]
                   [--storage-sku]
                   [--subnet]
                   [--subnet-address-prefix]
                   [--subscription]
                   [--tags]
                   [--terminate-notification-time]
                   [--ultra-ssd-enabled {false, true}]
                   [--upgrade-policy-mode {Automatic, Manual, Rolling}]
                   [--use-unmanaged-disk]
                   [--validate]
                   [--vm-domain-name]
                   [--vm-sku]
                   [--vnet-address-prefix]
                   [--vnet-name]
                   [--zones {1, 2, 3}]
  examples:
  - summary: Create a Windows VM scale set with 5 instances, a load balancer, a public IP address, a 2GB data disk and 40GB OS disk.
    syntax: az vmss create -n MyVmss -g MyResourceGroup --instance-count 5 --image Win2016Datacenter --data-disk-sizes-gb 2 --os-disk-size-gb 40
  - summary: Create a Linux VM scale set with an auto-generated ssh key pair, a public IP address, a DNS entry, an existing load balancer, and an existing virtual network.
    syntax: >-
      az vmss create -n MyVmss -g MyResourceGroup --public-ip-address-dns-name my-globally-dns-name \
          --load-balancer MyLoadBalancer --vnet-name MyVnet --subnet MySubnet --image UbuntuLTS \
          --generate-ssh-keys
  - summary: Create a Linux VM scale set from a custom image using the default existing public SSH key.
    syntax: az vmss create -n MyVmss -g MyResourceGroup --image MyImage
  - summary: Create a Linux VM scale set with a load balancer and custom DNS servers. Each VM has a public-ip address and a custom domain name.
    syntax: >-
      az vmss create -n MyVmss -g MyResourceGroup --image centos \
          --public-ip-per-vm --vm-domain-name myvmss --dns-servers 10.0.0.6 10.0.0.5
  - summary: 'Create a Linux VM scale set using a cloud-init script for configuration. See: https://docs.microsoft.com/azure/virtual-machines/linux/using-cloud-init'
    syntax: az vmss create -g MyResourceGroup -n MyVmss --image debian --custom-data MyCloudInitScript.yml
  - summary: Create a Linux VM scale set from a specialized image version.
    syntax: az vmss create -n MyVmss -g MyResourceGroup --image $id --specialized
  - summary: Create a Debian VM scaleset using Key Vault secrets.
    syntax: >-
      az keyvault certificate create --vault-name vaultname -n cert1 \
        -p "$(az keyvault certificate get-default-policy)"

      secrets=$(az keyvault secret list-versions --vault-name vaultname \
        -n cert1 --query "[?attributes.enabled].id" -o tsv)

      vm_secrets=$(az vm secret format -s "$secrets")


      az vmss create -g group-name -n vm-name --admin-username deploy  \
        --image debian --secrets "$vm_secrets"
  - summary: Create a VM scaleset with system assigned identity. The VM will have a 'Contributor' Role with access to a storage account.
    syntax: az vmss create -n MyVmss -g MyResourceGroup --image centos --assign-identity --scope /subscriptions/99999999-1bf0-4dda-aec3-cb9272f09590/MyResourceGroup/myRG/providers/Microsoft.Storage/storageAccounts/storage1
  - summary: Create a debian VM scaleset with a user assigned identity.
    syntax: az vmss create -n MyVmss -g rg1 --image debian --assign-identity  /subscriptions/99999999-1bf0-4dda-aec3-cb9272f09590/resourcegroups/myRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myID
  - summary: Create a debian VM scaleset with both system and user assigned identity.
    syntax: az vmss create -n MyVmss -g rg1 --image debian --assign-identity  [system] /subscriptions/99999999-1bf0-4dda-aec3-cb9272f09590/resourcegroups/myRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myID
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Name of the virtual machine scale set.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --accelerated-networking
    parameterValueGroup: false, true
    summary: Enable accelerated networking. Unless specified, CLI will enable it based on machine image and size.
    description: ''
  - name: --admin-password
    summary: Password for the VM if authentication type is 'Password'.
    description: ''
  - name: --admin-username
    summary: Username for the VM. Default value is current username of OS. If the default value is system reserved, then default value will be set to azureuser. Please refer to https://docs.microsoft.com/en-us/rest/api/compute/virtualmachines/createorupdate#osprofile to get a full list of reserved values.
    description: ''
  - name: --app-gateway
    summary: Name to use when creating a new application gateway (default) or referencing an existing one. Can also reference an existing application gateway by ID or specify "" for none.
    description: ''
  - name: --app-gateway-capacity
    defaultValue: "10"
    summary: The number of instances to use when creating a new application gateway.
    description: ''
  - name: --app-gateway-sku
    defaultValue: Standard_Large
    summary: SKU when creating a new application gateway.
    description: ''
  - name: --app-gateway-subnet-address-prefix
    summary: The subnet IP address prefix to use when creating a new application gateway in CIDR format.
    description: ''
  - name: --asgs
    summary: Space-separated list of existing application security groups to associate with the VM.
    description: ''
  - name: --assign-identity
    summary: Accept system or user assigned identities separated by spaces. Use '[system]' to refer system assigned identity, or a resource id to refer user assigned identity. Check out help for more examples.
    description: ''
  - name: --authentication-type
    parameterValueGroup: all, password, ssh
    summary: Type of authentication to use with the VM. Defaults to password for Windows and SSH public key for Linux. "all" enables both ssh and password authentication.
    description: ''
  - name: --automatic-repairs-grace-period
    summary: The amount of time (in minutes, between 30 and 90) for which automatic repairs are suspended due to a state change on VM.
    description: ''
  - name: --backend-pool-name
    summary: Name to use for the backend pool when creating a new load balancer or application gateway.
    description: ''
  - name: --backend-port
    summary: When creating a new load balancer, backend port to open with NAT rules (Defaults to 22 on Linux and 3389 on Windows). When creating an application gateway, the backend port to use for the backend HTTP settings.
    description: ''
  - name: --computer-name-prefix
    summary: Computer name prefix for all of the virtual machines in the scale set. Computer name prefixes must be 1 to 15 characters long.
    description: ''
  - name: --custom-data
    summary: Custom init script file or text (cloud-init, cloud-config, etc..).
    description: ''
  - name: --data-disk-caching
    summary: Storage caching type for data disk(s), including 'None', 'ReadOnly', 'ReadWrite', etc. Use a singular value to apply on all disks, or use `<lun>=<vaule1> <lun>=<value2>` to configure individual disk.
    description: ''
  - name: --data-disk-encryption-sets
    summary: Names or IDs (space delimited) of disk encryption sets for data disks.
    description: ''
  - name: --data-disk-iops
    summary: Specify the Read-Write IOPS (space delimited) for the managed disk. Should be used only when StorageAccountType is UltraSSD_LRS. If not specified, a default value would be assigned based on diskSizeGB.
    description: ''
  - name: --data-disk-mbps
    summary: Specify the bandwidth in MB per second (space delimited) for the managed disk. Should be used only when StorageAccountType is UltraSSD_LRS. If not specified, a default value would be assigned based on diskSizeGB.
    description: ''
  - name: --data-disk-sizes-gb
    summary: Space-separated empty managed data disk sizes in GB to create.
    description: ''
  - name: --disable-overprovision
    summary: Overprovision option (see https://azure.microsoft.com/documentation/articles/virtual-machine-scale-sets-overview/ for details).
    description: ''
  - name: --dns-servers
    summary: Space-separated IP addresses of DNS servers, e.g. 10.0.0.5 10.0.0.6.
    description: ''
  - name: --encryption-at-host
    parameterValueGroup: false, true
    summary: Enable Host Encryption for the VM or VMSS. This will enable the encryption for all the disks including Resource/Temp disk at host itself.
    description: ''
  - name: --ephemeral-os-disk
    parameterValueGroup: false, true
    summary: Allows you to create an OS disk directly on the host node, providing local disk performance and faster VM/VMSS reimage time.
    description: ''
  - name: --eviction-policy
    parameterValueGroup: Deallocate, Delete
    summary: The eviction policy for virtual machines in a Spot priority scale set. Default eviction policy is Deallocate for a Spot priority scale set.
    description: ''
  - name: --generate-ssh-keys
    summary: Generate SSH public and private key files if missing. The keys will be stored in the ~/.ssh directory.
    description: ''
  - name: --health-probe
    summary: Probe name from the existing load balancer, mainly used for rolling upgrade or automatic repairs.
    description: ''
  - name: --host-group
    summary: Name or ID of dedicated host group that the virtual machine scale set resides in.
    description: ''
  - name: --image
    summary: 'The name of the operating system image as a URN alias, URN, custom image name or ID, or VHD blob URI. Valid URN format: "Publisher:Offer:Sku:Version".'
    description: ''
    valueFrom: az vm image list, az vm image show
  - name: --instance-count
    defaultValue: "2"
    summary: Number of VMs in the scale set.
    description: ''
  - name: --lb --load-balancer
    summary: Name to use when creating a new load balancer (default) or referencing an existing one. Can also reference an existing load balancer by ID or specify "" for none.
    description: ''
  - name: --lb-nat-pool-name --nat-pool-name
    summary: Name to use for the NAT pool when creating a new load balancer.
    description: ''
  - name: --lb-sku
    parameterValueGroup: Basic, Standard
    summary: Sku of the Load Balancer to create. Default to 'Standard' when single placement group is turned off; otherwise, default to 'Basic'. The public IP is supported to be created on edge zone only when it is 'Standard'.
    description: ''
  - name: --license-type
    parameterValueGroup: None, RHEL_BYOS, SLES_BYOS, Windows_Client, Windows_Server
    summary: Specifies that the Windows image or disk was licensed on-premises. To enable Azure Hybrid Benefit for Windows Server, use 'Windows_Server'. To enable Multitenant Hosting Rights for Windows 10, use 'Windows_Client'. For more information see the Azure Windows VM online docs.
    description: ''
  - name: --location -l
    summary: Location in which to create VM and related resources. If default location is not configured, will default to the resource group's location.
    description: ''
  - name: --max-price
    summary: The maximum price (in US Dollars) you are willing to pay for a Spot VM/VMSS. -1 indicates that the Spot VM/VMSS should not be evicted for price reasons.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --nsg
    summary: Name or ID of an existing Network Security Group.
    description: ''
  - name: --orchestration-mode
    defaultValue: Uniform
    parameterValueGroup: Flexible, Uniform
    summary: Choose how virtual machines are managed by the scale set. In Uniform mode, you define a virtual machine model and Azure will generate identical instances based on that model. In Flexible mode, you manually create and add a virtual machine of any configuration to the scale set or generate identical instances based on virtual machine model defined for the scale set.
    description: ''
  - name: --os-disk-caching
    parameterValueGroup: None, ReadOnly, ReadWrite
    summary: 'Storage caching type for the VM OS disk. Default: ReadWrite.'
    description: ''
  - name: --os-disk-encryption-set
    summary: Name or ID of disk encryption set for OS disk.
    description: ''
  - name: --os-disk-name
    summary: The name of the new VM OS disk.
    description: ''
  - name: --os-disk-size-gb
    summary: OS disk size in GB to create.
    description: ''
  - name: --os-type
    parameterValueGroup: linux, windows
    summary: Type of OS installed on a custom VHD. Do not use when specifying an URN or URN alias.
    description: ''
  - name: --plan-name
    summary: Plan name.
    description: ''
  - name: --plan-product
    summary: Plan product.
    description: ''
  - name: --plan-promotion-code
    summary: Plan promotion code.
    description: ''
  - name: --plan-publisher
    summary: Plan publisher.
    description: ''
  - name: --platform-fault-domain-count
    summary: Fault Domain count for each placement group in the availability zone.
    description: ''
  - name: --ppg
    summary: The name or ID of the proximity placement group the VMSS should be associated with.
    description: ''
  - name: --priority
    parameterValueGroup: Low, Regular, Spot
    summary: Priority. Use 'Spot' to run short-lived workloads in a cost-effective way. 'Low' enum will be deprecated in the future. Please use 'Spot' to deploy Azure spot VM and/or VMSS. Default to Regular.
    description: ''
  - name: --public-ip-address
    summary: Name of the public IP address when creating one (default) or referencing an existing one. Can also reference an existing public IP by ID or specify "" for None ('""' in Azure CLI using PowerShell or --% operator).
    description: ''
  - name: --public-ip-address-allocation
    parameterValueGroup: dynamic, static
    summary: ''
    description: ''
  - name: --public-ip-address-dns-name
    summary: Globally unique DNS name for a newly created public IP.
    description: ''
  - name: --public-ip-per-vm
    summary: Each VM instance will have a public ip. For security, you can use '--nsg' to apply appropriate rules.
    description: ''
  - name: --role
    defaultValue: Contributor
    summary: Role name or id the system assigned identity will have.
    description: ''
  - name: --scale-in-policy
    parameterValueGroup: Default, NewestVM, OldestVM
    summary: Specify the scale-in policy (space delimited) that decides which virtual machines are chosen for removal when a Virtual Machine Scale Set is scaled-in.
    description: ''
  - name: --scope
    summary: Scope that the system assigned identity can access.
    description: ''
  - name: --secrets
    summary: 'One or many Key Vault secrets as JSON strings or files via `@{path}` containing `[{ "sourceVault": { "id": "value" }, "vaultCertificates": [{ "certificateUrl": "value", "certificateStore": "cert store name (only on windows)"}] }]`.'
    description: ''
  - name: --single-placement-group
    parameterValueGroup: false, true
    summary: Limit the scale set to a single placement group. See https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups for details.
    description: ''
  - name: --specialized
    parameterValueGroup: false, true
    summary: Indicate whether the source image is specialized.
    description: ''
  - name: --ssh-dest-key-path
    summary: Destination file path on the VM for the SSH key. If the file already exists, the specified key(s) are appended to the file. Destination path for SSH public keys is currently limited to its default value "/home/username/.ssh/authorized_keys" due to a known issue in Linux provisioning agent.
    description: ''
  - name: --ssh-key-values
    summary: Space-separated list of SSH public keys or public key file paths.
    description: ''
  - name: --storage-container-name
    defaultValue: vhds
    summary: 'Only applicable when used with `--use-unmanaged-disk`. Name of the storage container for the VM OS disk. Default: vhds.'
    description: ''
  - name: --storage-sku
    summary: 'The SKU of the storage account with which to persist VM. Use a singular sku that would be applied across all disks, or specify individual disks. Usage: [--storage-sku SKU | --storage-sku ID=SKU ID=SKU ID=SKU...], where each ID is "os" or a 0-indexed lun. Allowed values: Standard_LRS, Premium_LRS, StandardSSD_LRS, UltraSSD_LRS.'
    description: ''
  - name: --subnet
    summary: The name of the subnet when creating a new VNet or referencing an existing one. Can also reference an existing subnet by ID. If both vnet-name and subnet are omitted, an appropriate VNet and subnet will be selected automatically, or a new one will be created.
    description: ''
  - name: --subnet-address-prefix
    summary: The subnet IP address prefix to use when creating a new VNet in CIDR format.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  - name: --terminate-notification-time
    summary: Length of time (in minutes, between 5 and 15) a notification to be sent to the VM on the instance metadata server till the VM gets deleted.
    description: ''
  - name: --ultra-ssd-enabled
    parameterValueGroup: false, true
    summary: Enables or disables the capability to have 1 or more managed data disks with UltraSSD_LRS storage account.
    description: ''
  - name: --upgrade-policy-mode
    defaultValue: manual
    parameterValueGroup: Automatic, Manual, Rolling
    summary: ''
    description: ''
  - name: --use-unmanaged-disk
    summary: Do not use managed disk to persist VM.
    description: ''
  - name: --validate
    summary: Generate and validate the ARM template without creating any resources.
    description: ''
  - name: --vm-domain-name
    summary: Domain name of VM instances, once configured, the FQDN is `vm<vm-index>.<vm-domain-name>.<..rest..>`.
    description: ''
  - name: --vm-sku
    summary: Size of VMs in the scale set. Default to "Standard_DS1_v2". See https://azure.microsoft.com/pricing/details/virtual-machines/ for size info.
    description: ''
  - name: --vnet-address-prefix
    defaultValue: 10.0.0.0/16
    summary: The IP address prefix to use when creating a new VNet in CIDR format.
    description: ''
  - name: --vnet-name
    summary: Name of the virtual network when creating a new one or referencing an existing one.
    description: ''
  - name: --zones -z
    parameterValueGroup: 1, 2, 3
    summary: Space-separated list of availability zones into which to provision the resource.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_deallocate
  name: az vmss deallocate
  summary: Deallocate VMs within a VMSS.
  description: ''
  syntax: >-
    az vmss deallocate --name
                       --resource-group
                       [--instance-ids]
                       [--no-wait]
                       [--subscription]
  examples:
  - summary: Deallocate VMs within a VMSS. (autogenerated)
    syntax: az vmss deallocate --instance-ids 1 --name MyScaleSet --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --instance-ids
    summary: 'Space-separated list of IDs (ex: 1 2 3 ...) or \* for all instances. If not provided, the action will be applied on the scaleset itself.'
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_delete
  name: az vmss delete
  summary: Deletes a VM scale set.
  description: ''
  syntax: >-
    az vmss delete [--ids]
                   [--name]
                   [--no-wait]
                   [--resource-group]
                   [--subscription]
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_delete-instances
  name: az vmss delete-instances
  summary: Delete VMs within a VMSS.
  description: ''
  syntax: >-
    az vmss delete-instances --instance-ids
                             --name
                             --resource-group
                             [--no-wait]
                             [--subscription]
  examples:
  - summary: Delete VMs within a VMSS. (autogenerated)
    syntax: az vmss delete-instances --instance-ids 0 --name MyScaleSet --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --instance-ids
    summary: 'Space-separated list of IDs (ex: 1 2 3 ...) or \* for all instances.'
    description: ''
  - isRequired: true
    name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_get-instance-view
  name: az vmss get-instance-view
  summary: View an instance of a VMSS.
  description: ''
  syntax: >-
    az vmss get-instance-view [--ids]
                              [--instance-id]
                              [--name]
                              [--resource-group]
                              [--subscription]
  examples:
  - summary: View an instance of a VMSS. (autogenerated)
    syntax: az vmss get-instance-view --name MyScaleSet --resource-group MyResourceGroup
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --instance-id
    summary: A VM instance ID or "\*" to list instance view for all VMs in a scale set.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_get-os-upgrade-history
  name: az vmss get-os-upgrade-history
  summary: Gets list of OS upgrades on a VM scale set instance.
  description: ''
  syntax: >-
    az vmss get-os-upgrade-history [--ids]
                                   [--name]
                                   [--resource-group]
                                   [--subscription]
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_list
  name: az vmss list
  summary: List VMSS.
  description: ''
  syntax: >-
    az vmss list [--query-examples]
                 [--resource-group]
                 [--subscription]
  examples:
  - summary: List VMSS (autogenerated)
    syntax: az vmss list --resource-group MyResourceGroup
  optionalParameters:
  - name: --query-examples
    summary: Recommend JMESPath string for you. You can copy one of the query and paste it after --query parameter within double quotation marks to see the results. You can add one or more positional keywords so that we can give suggestions based on these key words.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_list-instance-connection-info
  name: az vmss list-instance-connection-info
  summary: Get the IP address and port number used to connect to individual VM instances within a set.
  description: ''
  syntax: >-
    az vmss list-instance-connection-info [--ids]
                                          [--name]
                                          [--resource-group]
                                          [--subscription]
  examples:
  - summary: Get the IP address and port number used to connect to individual VM instances within a set. (autogenerated)
    syntax: az vmss list-instance-connection-info --name MyScaleSet --resource-group MyResourceGroup
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_list-instance-public-ips
  name: az vmss list-instance-public-ips
  summary: List public IP addresses of VM instances within a set.
  description: ''
  syntax: >-
    az vmss list-instance-public-ips [--ids]
                                     [--name]
                                     [--resource-group]
                                     [--subscription]
  examples:
  - summary: List public IP addresses of VM instances within a set. (autogenerated)
    syntax: az vmss list-instance-public-ips --name MyScaleSet --resource-group MyResourceGroup
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_list-instances
  name: az vmss list-instances
  summary: Gets a list of all virtual machines in a VM scale sets.
  description: ''
  syntax: >-
    az vmss list-instances [--expand]
                           [--filter]
                           [--ids]
                           [--name]
                           [--resource-group]
                           [--select]
                           [--subscription]
  optionalParameters:
  - name: --expand
    summary: The expand expression to apply to the operation. Allowed values are 'instanceView'.
    description: ''
  - name: --filter
    summary: The filter to apply to the operation. Allowed values are 'startswith(instanceView/statuses/code, 'PowerState') eq true', 'properties/latestModelApplied eq true', 'properties/latestModelApplied eq false'.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --select
    summary: The list parameters. Allowed values are 'instanceView', 'instanceView/statuses'.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_list-skus
  name: az vmss list-skus
  summary: Gets a list of SKUs available for your VM scale set, including the minimum and maximum VM instances allowed for each SKU.
  description: ''
  syntax: >-
    az vmss list-skus [--ids]
                      [--name]
                      [--resource-group]
                      [--subscription]
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_perform-maintenance
  name: az vmss perform-maintenance
  summary: Perform maintenance on one or more virtual machines in a VM scale set.
  description: 'Operation on instances which are not eligible for perform maintenance will be failed. Please refer to best practices for more details: https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-maintenance-notifications.'
  syntax: >-
    az vmss perform-maintenance [--ids]
                                [--name]
                                [--resource-group]
                                [--subscription]
                                [--vm-instance-i-ds]
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --vm-instance-i-ds
    summary: A list of virtual machine instance IDs from the VM scale set.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_reimage
  name: az vmss reimage
  summary: Reimage VMs within a VMSS.
  description: ''
  syntax: >-
    az vmss reimage [--ids]
                    [--instance-id]
                    [--name]
                    [--no-wait]
                    [--resource-group]
                    [--subscription]
  examples:
  - summary: Reimage VMs within a VMSS. (autogenerated)
    syntax: az vmss reimage --instance-id 1 --name MyScaleSet --resource-group MyResourceGroup --subscription MySubscription
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --instance-id
    summary: VM instance ID. If missing, reimage all instances.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_restart
  name: az vmss restart
  summary: Restart VMs within a VMSS.
  description: ''
  syntax: >-
    az vmss restart --name
                    --resource-group
                    [--instance-ids]
                    [--no-wait]
                    [--subscription]
  examples:
  - summary: Restart VMs within a VMSS. (autogenerated)
    syntax: az vmss restart --instance-ids 1 --name MyScaleSet --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --instance-ids
    summary: 'Space-separated list of IDs (ex: 1 2 3 ...) or \* for all instances. If not provided, the action will be applied on the scaleset itself.'
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_scale
  name: az vmss scale
  summary: Change the number of VMs within a VMSS.
  description: ''
  syntax: >-
    az vmss scale --new-capacity
                  [--ids]
                  [--name]
                  [--no-wait]
                  [--resource-group]
                  [--subscription]
  examples:
  - summary: Change the number of VMs within a VMSS. (autogenerated)
    syntax: az vmss scale --name MyScaleSet --new-capacity 6 --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --new-capacity
    summary: Number of VMs in the VMSS.
    description: ''
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_set-orchestration-service-state
  name: az vmss set-orchestration-service-state
  summary: Change ServiceState property for a given service within a VMSS.
  description: ''
  syntax: >-
    az vmss set-orchestration-service-state --action {Resume, Suspend}
                                            --service-name {AutomaticRepairs, DummyOrchestrationServiceName}
                                            [--ids]
                                            [--name]
                                            [--no-wait]
                                            [--resource-group]
                                            [--subscription]
  examples:
  - summary: Change ServiceState property for AutomaticRepairs
    syntax: az vmss set-orchestration-service-state --service-name AutomaticRepairs --action Resume --name MyScaleSet --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --action
    parameterValueGroup: Resume, Suspend
    summary: The action to be performed.
    description: ''
  - isRequired: true
    name: --service-name
    parameterValueGroup: AutomaticRepairs, DummyOrchestrationServiceName
    summary: The name of the orchestration service.
    description: ''
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_show
  name: az vmss show
  summary: Get details on VMs within a VMSS.
  description: ''
  syntax: >-
    az vmss show --name
                 --resource-group
                 [--instance-id]
                 [--query-examples]
                 [--subscription]
  examples:
  - summary: Get details on VMs within a VMSS. (autogenerated)
    syntax: az vmss show --name MyScaleSet --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --instance-id
    summary: VM instance ID. If missing, show the VMSS.
    description: ''
  - name: --query-examples
    summary: Recommend JMESPath string for you. You can copy one of the query and paste it after --query parameter within double quotation marks to see the results. You can add one or more positional keywords so that we can give suggestions based on these key words.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_simulate-eviction
  name: az vmss simulate-eviction
  summary: Simulate the eviction of a Spot virtual machine in a VM scale set.
  description: ''
  syntax: >-
    az vmss simulate-eviction --instance-id
                              --name
                              --resource-group
                              [--subscription]
  examples:
  - summary: Simulate the eviction of a Spot virtual machine in a VM scale set.
    syntax: az vmss simulate-eviction --resource-group MyResourceGroup --name MyScaleSet --instance-id 0
  requiredParameters:
  - isRequired: true
    name: --instance-id
    summary: The instance ID of the virtual machine.
    description: ''
  - isRequired: true
    name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_start
  name: az vmss start
  summary: Start VMs within a VMSS.
  description: ''
  syntax: >-
    az vmss start --name
                  --resource-group
                  [--instance-ids]
                  [--no-wait]
                  [--subscription]
  examples:
  - summary: Start VMs within a VMSS. (autogenerated)
    syntax: az vmss start --instance-ids 1 --name MyScaleSet --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --instance-ids
    summary: 'Space-separated list of IDs (ex: 1 2 3 ...) or \* for all instances. If not provided, the action will be applied on the scaleset itself.'
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_stop
  name: az vmss stop
  summary: Power off (stop) VMs within a VMSS.
  description: The VMs will continue to be billed. To avoid this, you can deallocate VM instances within a VMSS through "az vmss deallocate".
  syntax: >-
    az vmss stop --name
                 --resource-group
                 [--instance-ids]
                 [--no-wait]
                 [--skip-shutdown]
                 [--subscription]
  examples:
  - summary: Power off VMs within a VMSS without shutting down.
    syntax: az vmss stop --name MyScaleSet --resource-group MyResourceGroup --skip-shutdown
  - summary: Power off (stop) VMs within a VMSS. (autogenerated)
    syntax: az vmss stop --instance-ids 1 --name MyScaleSet --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --instance-ids
    summary: 'Space-separated list of IDs (ex: 1 2 3 ...) or \* for all instances. If not provided, the action will be applied on the scaleset itself.'
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --skip-shutdown
    summary: Skip shutdown and power-off immediately.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_update
  name: az vmss update
  summary: Update a VMSS. Run 'az vmss update-instances' command to roll out the changes to VMs if you have not configured upgrade policy.
  description: ''
  syntax: >-
    az vmss update [--add]
                   [--automatic-repairs-grace-period]
                   [--enable-automatic-repairs {false, true}]
                   [--enable-terminate-notification {false, true}]
                   [--force-string]
                   [--ids]
                   [--instance-id]
                   [--license-type {None, RHEL_BYOS, SLES_BYOS, Windows_Client, Windows_Server}]
                   [--max-price]
                   [--name]
                   [--no-wait]
                   [--ppg]
                   [--priority {Low, Regular, Spot}]
                   [--protect-from-scale-in {false, true}]
                   [--protect-from-scale-set-actions {false, true}]
                   [--remove]
                   [--resource-group]
                   [--scale-in-policy {Default, NewestVM, OldestVM}]
                   [--set]
                   [--subscription]
                   [--terminate-notification-time]
                   [--ultra-ssd-enabled {false, true}]
  examples:
  - summary: Update a VMSS' license type for Azure Hybrid Benefit.
    syntax: az vmss update --name MyScaleSet --resource-group MyResourceGroup --license-type windows_server
  - summary: Update a VM instance's protection policies.
    syntax: az vmss update --name MyScaleSet --resource-group MyResourceGroup --instance-id 4 --protect-from-scale-set-actions False --protect-from-scale-in
  - summary: Update a VM instance's protection policies.
    syntax: az vmss update --name MyScaleSet --resource-group MyResourceGroup --instance-id 4 --set protectionPolicy.protectFromScaleIn=True protectionPolicy.protectFromScaleSetActions=False
  - summary: Update a VM instance's Read-Write IOPS of the managed disk.
    syntax: az vmss update --name MyScaleSet --resource-group MyResourceGroup --set virtualMachineProfile.storageProfile.dataDisks[0].diskIOPSReadWrite=444
  - summary: Update a VM instance's bandwidth in MB per second of the managed disk.
    syntax: az vmss update --name MyScaleSet --resource-group MyResourceGroup --set virtualMachineProfile.storageProfile.dataDisks[0].diskMBpsReadWrite=66
  - summary: Update a VM to use a custom image.
    syntax: az vmss update --name MyScaleSet --resource-group MyResourceGroup --set virtualMachineProfile.storageProfile.imageReference.id=imageID
  optionalParameters:
  - name: --add
    summary: 'Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.'
    description: ''
  - name: --automatic-repairs-grace-period
    summary: The amount of time (in minutes, between 30 and 90) for which automatic repairs are suspended due to a state change on VM.
    description: ''
  - name: --enable-automatic-repairs
    parameterValueGroup: false, true
    summary: Enable automatic repairs.
    description: ''
  - name: --enable-terminate-notification
    parameterValueGroup: false, true
    summary: Enable terminate notification.
    description: ''
  - name: --force-string
    summary: When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --instance-id
    summary: Update the VM instance with this ID. If missing, Update the VMSS.
    description: ''
  - name: --license-type
    parameterValueGroup: None, RHEL_BYOS, SLES_BYOS, Windows_Client, Windows_Server
    summary: Specifies that the Windows image or disk was licensed on-premises. To enable Azure Hybrid Benefit for Windows Server, use 'Windows_Server'. To enable Multitenant Hosting Rights for Windows 10, use 'Windows_Client'. For more information see the Azure Windows VM online docs.
    description: ''
  - name: --max-price
    summary: The maximum price (in US Dollars) you are willing to pay for a Spot VM/VMSS. -1 indicates that the Spot VM/VMSS should not be evicted for price reasons.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --ppg
    summary: The name or ID of the proximity placement group the VMSS should be associated with.
    description: ''
  - name: --priority
    parameterValueGroup: Low, Regular, Spot
    summary: Priority. Use 'Spot' to run short-lived workloads in a cost-effective way. 'Low' enum will be deprecated in the future. Please use 'Spot' to deploy Azure spot VM and/or VMSS. Default to Regular.
    description: ''
  - name: --protect-from-scale-in
    parameterValueGroup: false, true
    summary: Protect the VM instance from scale-in operations.
    description: ''
  - name: --protect-from-scale-set-actions
    parameterValueGroup: false, true
    summary: Protect the VM instance from scale set actions (including scale-in).
    description: ''
  - name: --remove
    summary: 'Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.'
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --scale-in-policy
    parameterValueGroup: Default, NewestVM, OldestVM
    summary: Specify the scale-in policy (space delimited) that decides which virtual machines are chosen for removal when a Virtual Machine Scale Set is scaled-in.
    description: ''
  - name: --set
    summary: 'Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.'
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --terminate-notification-time
    summary: Length of time (in minutes, between 5 and 15) a notification to be sent to the VM on the instance metadata server till the VM gets deleted.
    description: ''
  - name: --ultra-ssd-enabled
    parameterValueGroup: false, true
    summary: Enables or disables the capability to have 1 or more managed data disks with UltraSSD_LRS storage account.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_update-instances
  name: az vmss update-instances
  summary: Upgrade VMs within a VMSS.
  description: ''
  syntax: >-
    az vmss update-instances --instance-ids
                             --name
                             --resource-group
                             [--no-wait]
                             [--subscription]
  examples:
  - summary: Upgrade VMs within a VMSS. (autogenerated)
    syntax: az vmss update-instances --instance-ids 1 --name MyScaleSet --resource-group MyResourceGroup
  requiredParameters:
  - isRequired: true
    name: --instance-ids
    summary: 'Space-separated list of IDs (ex: 1 2 3 ...) or \* for all instances.'
    description: ''
  - isRequired: true
    name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  optionalParameters:
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
- uid: az_vmss_wait
  name: az vmss wait
  summary: Place the CLI in a waiting state until a condition of a scale set is met.
  description: ''
  syntax: >-
    az vmss wait [--created]
                 [--custom]
                 [--deleted]
                 [--exists]
                 [--ids]
                 [--instance-id]
                 [--interval]
                 [--name]
                 [--resource-group]
                 [--subscription]
                 [--timeout]
                 [--updated]
  examples:
  - summary: Place the CLI in a waiting state until the VMSS has been updated.
    syntax: az vmss wait --updated --name MyScaleSet --resource-group MyResourceGroup
  - summary: Place the CLI in a waiting state until the VMSS instance has been updated.
    syntax: az vmss wait --updated --instance-id 1 --name MyScaleSet --resource-group MyResourceGroup
  - summary: Place the CLI in a waiting state until a condition of a scale set is met. (autogenerated)
    syntax: az vmss wait --created --name MyScaleSet --resource-group MyResourceGroup
  optionalParameters:
  - name: --created
    summary: Wait until created with 'provisioningState' at 'Succeeded'.
    description: ''
  - name: --custom
    summary: Wait until the condition satisfies a custom JMESPath query. E.g. provisioningState!='InProgress', instanceView.statuses[?code=='PowerState/running'].
    description: ''
  - name: --deleted
    summary: Wait until deleted.
    description: ''
  - name: --exists
    summary: Wait until the resource exists.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --instance-id
    summary: Wait on the VM instance with this ID. If missing, Wait on the VMSS.
    description: ''
  - name: --interval
    defaultValue: "30"
    summary: Polling interval in seconds.
    description: ''
  - name: --name -n
    summary: Scale set name. You can configure the default using `az configure --defaults vmss=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --timeout
    defaultValue: "3600"
    summary: Maximum wait in seconds.
    description: ''
  - name: --updated
    summary: Wait until updated with provisioningState at 'Succeeded'.
    description: ''
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/vm/_help.py
commands:
- az_vmss_create
- az_vmss_deallocate
- az_vmss_delete
- az_vmss_delete-instances
- az_vmss_diagnostics
- az_vmss_diagnostics_get-default-config
- az_vmss_diagnostics_set
- az_vmss_disk
- az_vmss_disk_attach
- az_vmss_disk_detach
- az_vmss_encryption
- az_vmss_encryption_disable
- az_vmss_encryption_enable
- az_vmss_encryption_show
- az_vmss_extension
- az_vmss_extension_delete
- az_vmss_extension_image
- az_vmss_extension_image_list
- az_vmss_extension_image_list-names
- az_vmss_extension_image_list-versions
- az_vmss_extension_image_show
- az_vmss_extension_list
- az_vmss_extension_set
- az_vmss_extension_show
- az_vmss_extension_upgrade
- az_vmss_get-instance-view
- az_vmss_get-os-upgrade-history
- az_vmss_identity
- az_vmss_identity_assign
- az_vmss_identity_remove
- az_vmss_identity_show
- az_vmss_list
- az_vmss_list-instance-connection-info
- az_vmss_list-instance-public-ips
- az_vmss_list-instances
- az_vmss_list-skus
- az_vmss_nic
- az_vmss_nic_list
- az_vmss_nic_list-vm-nics
- az_vmss_nic_show
- az_vmss_perform-maintenance
- az_vmss_reimage
- az_vmss_restart
- az_vmss_rolling-upgrade
- az_vmss_rolling-upgrade_cancel
- az_vmss_rolling-upgrade_get-latest
- az_vmss_rolling-upgrade_start
- az_vmss_run-command
- az_vmss_run-command_invoke
- az_vmss_run-command_list
- az_vmss_run-command_show
- az_vmss_scale
- az_vmss_set-orchestration-service-state
- az_vmss_show
- az_vmss_simulate-eviction
- az_vmss_start
- az_vmss_stop
- az_vmss_update
- az_vmss_update-instances
- az_vmss_wait
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --only-show-errors
  summary: Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
metadata:
  doc_source_url_repo: https://github.com/Azure/azure-cli/blob/dev/
  ms.date: 06/23/2021
  description: Manage groupings of virtual machines in an Azure Virtual Machine Scale Set (VMSS).

### YamlMime:AzureCLIGroup
uid: az_webapp_auth
name: az webapp auth
importantNote: >-
  > [!Note]

  > This command group has descendant commands that are defined in both Azure CLI core and at least one Azure CLI extension. If you wish to use the extension commands, you must install the extension. [Learn more](https://learn.microsoft.com/cli/azure/azure-cli-extensions-overview) about extensions.
summary: Manage webapp authentication and authorization. To use v2 auth commands, run "az extension add --name authV2" to add the authV2 CLI extension.
description: ''
status: GA
sourceType: Core and Extension
directCommands:
- uid: az_webapp_auth_set_(authV2)
  name: az webapp auth set
  summary: Sets the authentication settings for the webapp in the v2 format, overwriting any existing settings.
  description: ''
  status: GA
  sourceType: Extension
  syntax: >-
    az webapp auth set [--body]
                       [--ids]
                       [--name]
                       [--resource-group]
                       [--slot]
                       [--subscription]
  examples:
  - summary: Set the json saved in file auth.json as the auth settings for the web app, overwriting any existing settings.
    syntax: az webapp auth set -g myResourceGroup --name MyWebApp --body @auth.json
  optionalParameters:
  - name: --body -b
    summary: JSON representation of the configuration settings for the Azure App Service Authentication / Authorization V2 feature.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the web app.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --slot -s
    summary: The name of the slot. Default to the productions slot if not specified.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_webapp_auth_show_()
  name: az webapp auth show
  summary: Show the authentification settings for the webapp.
  description: ''
  status: GA
  sourceType: Core
  syntax: >-
    az webapp auth show [--ids]
                        [--name]
                        [--resource-group]
                        [--slot]
                        [--subscription]
  examples:
  - summary: Show the authentification settings for the webapp. (autogenerated)
    syntax: az webapp auth show --name MyWebApp --resource-group MyResourceGroup
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the web app. If left unspecified, a name will be randomly generated. You can configure the default using `az configure --defaults web=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --slot -s
    summary: The name of the slot. Default to the productions slot if not specified.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_webapp_auth_show_(authV2)
  name: az webapp auth show
  extensionSuffix: authV2
  summary: Show the authentication settings for the webapp in the v2 format.
  description: ''
  status: GA
  sourceType: Extension
  syntax: >-
    az webapp auth show [--ids]
                        [--name]
                        [--resource-group]
                        [--slot]
                        [--subscription]
  examples:
  - summary: Show the authentication settings for the webapp. (autogenerated)
    syntax: az webapp auth show --name MyWebApp --resource-group MyResourceGroup
  optionalParameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the web app.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --slot -s
    summary: The name of the slot. Default to the productions slot if not specified.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_webapp_auth_update_()
  name: az webapp auth update
  summary: Update the authentication settings for the webapp.
  description: ''
  status: GA
  sourceType: Core
  syntax: >-
    az webapp auth update [--aad-allowed-token-audiences]
                          [--aad-client-id]
                          [--aad-client-secret]
                          [--aad-client-secret-certificate-thumbprint]
                          [--aad-token-issuer-url]
                          [--action {AllowAnonymous, LoginWithAzureActiveDirectory, LoginWithFacebook, LoginWithGoogle, LoginWithMicrosoftAccount, LoginWithTwitter}]
                          [--allowed-external-redirect-urls]
                          [--enabled {false, true}]
                          [--facebook-app-id]
                          [--facebook-app-secret]
                          [--facebook-oauth-scopes]
                          [--google-client-id]
                          [--google-client-secret]
                          [--google-oauth-scopes]
                          [--ids]
                          [--microsoft-account-client-id]
                          [--microsoft-account-client-secret]
                          [--microsoft-account-oauth-scopes]
                          [--name]
                          [--resource-group]
                          [--runtime-version]
                          [--slot]
                          [--subscription]
                          [--token-refresh-extension-hours]
                          [--token-store {false, true}]
                          [--twitter-consumer-key]
                          [--twitter-consumer-secret]
  examples:
  - summary: Enable AAD by enabling authentication and setting AAD-associated parameters. Default provider is set to AAD. Must have created a AAD service principal beforehand.
    syntax: >-
      az webapp auth update  -g myResourceGroup -n myUniqueApp --enabled true \
        --action LoginWithAzureActiveDirectory \
        --aad-allowed-token-audiences https://webapp_name.azurewebsites.net/.auth/login/aad/callback \
        --aad-client-id ecbacb08-df8b-450d-82b3-3fced03f2b27 --aad-client-secret very_secret_password \
        --aad-token-issuer-url https://sts.windows.net/54826b22-38d6-4fb2-bad9-b7983a3e9c5a/
  - summary: Allow Facebook authentication by setting FB-associated parameters and turning on public-profile and email scopes; allow anonymous users
    syntax: >-
      az webapp auth update -g myResourceGroup -n myUniqueApp --action AllowAnonymous \
        --facebook-app-id my_fb_id --facebook-app-secret my_fb_secret \
        --facebook-oauth-scopes public_profile email
  optionalParameters:
  - name: --aad-allowed-token-audiences
    summary: One or more token audiences (comma-delimited).
    description: ''
  - name: --aad-client-id
    summary: Application ID to integrate AAD organization account Sign-in into your web app.
    description: ''
  - name: --aad-client-secret
    summary: AAD application secret.
    description: ''
  - name: --aad-client-secret-certificate-thumbprint --thumbprint
    summary: Alternative to AAD Client Secret, thumbprint of a certificate used for signing purposes.
    description: ''
  - name: --aad-token-issuer-url
    summary: This url can be found in the JSON output returned from your active directory endpoint using your tenantID. The endpoint can be queried from `az cloud show` at "endpoints.activeDirectory". The tenantID can be found using `az account show`. Get the "issuer" from the JSON at <active directory endpoint>/<tenantId>/.well-known/openid-configuration.
    description: ''
  - name: --action
    parameterValueGroup: "AllowAnonymous, LoginWithAzureActiveDirectory, LoginWithFacebook, LoginWithGoogle, LoginWithMicrosoftAccount, LoginWithTwitter"
    summary: ''
    description: ''
  - name: --allowed-external-redirect-urls
    summary: One or more urls (space-delimited).
    description: ''
  - name: --enabled
    parameterValueGroup: "false, true"
    summary: ''
    description: ''
  - name: --facebook-app-id
    summary: Application ID to integrate Facebook Sign-in into your web app.
    description: ''
  - name: --facebook-app-secret
    summary: Facebook Application client secret.
    description: ''
  - name: --facebook-oauth-scopes
    summary: One or more facebook authentication scopes (comma-delimited).
    description: ''
  - name: --google-client-id
    summary: Application ID to integrate Google Sign-in into your web app.
    description: ''
  - name: --google-client-secret
    summary: Google Application client secret.
    description: ''
  - name: --google-oauth-scopes
    summary: One or more Google authentication scopes (space-delimited).
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --microsoft-account-client-id
    summary: AAD V2 Application ID to integrate Microsoft account Sign-in into your web app.
    description: ''
  - name: --microsoft-account-client-secret
    summary: AAD V2 Application client secret.
    description: ''
  - name: --microsoft-account-oauth-scopes
    summary: One or more Microsoft authentification scopes (comma-delimited).
    description: ''
  - name: --name -n
    summary: Name of the web app. If left unspecified, a name will be randomly generated. You can configure the default using `az configure --defaults web=<name>`.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --runtime-version
    summary: Runtime version of the Authentication/Authorization feature in use for the current app.
    description: ''
  - name: --slot -s
    summary: The name of the slot. Default to the productions slot if not specified.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --token-refresh-extension-hours
    summary: Hours, must be formattable into a float.
    description: ''
  - name: --token-store
    parameterValueGroup: "false, true"
    summary: Use App Service Token Store.
    description: ''
  - name: --twitter-consumer-key
    summary: Application ID to integrate Twitter Sign-in into your web app.
    description: ''
  - name: --twitter-consumer-secret
    summary: Twitter Application client secret.
    description: ''
- uid: az_webapp_auth_update_(authV2)
  name: az webapp auth update
  extensionSuffix: authV2
  summary: Update the authentication settings for the webapp in the v2 format.
  description: ''
  status: GA
  sourceType: Extension
  syntax: >-
    az webapp auth update [--action {AllowAnonymous, RedirectToLoginPage, Return401, Return403, Return404}]
                          [--config-file-path]
                          [--custom-host-header]
                          [--custom-proto-header]
                          [--enable-token-store {false, true}]
                          [--enabled {false, true}]
                          [--excluded-paths]
                          [--ids]
                          [--name]
                          [--proxy-convention {Custom, NoProxy, Standard}]
                          [--redirect-provider]
                          [--require-https {false, true}]
                          [--resource-group]
                          [--runtime-version]
                          [--set]
                          [--slot]
                          [--subscription]
  examples:
  - summary: Update the client ID of the AAD provider already configured
    syntax: az webapp auth update -g myResourceGroup --name MyWebApp --set identityProviders.azureActiveDirectory.registration.clientId=my-client-id
  - summary: Pin the runtime version of the app to 1.4.7
    syntax: az webapp auth update -g myResourceGroup --name MyWebApp --runtime-version 1.4.7
  - summary: Configure the app with file based authentication by setting the config file path
    syntax: az webapp auth update -g myResourceGroup --name MyWebApp --config-file-path D:\home\site\wwwroot\auth.json
  - summary: Configure the app to allow unauthenticated requests to hit the app.
    syntax: az webapp auth update -g myResourceGroup --name MyWebApp --unauthenticated-client-action AllowAnonymous
  - summary: Configure the app to redirect unauthenticated requests to the Facebook provider
    syntax: az webapp auth update -g myResourceGroup --name MyWebApp --redirect-provider Facebook
  - summary: Configure the app to listen to the forward headers X-FORWARDED-HOST and X-FORWARDED-PROTO
    syntax: az webapp auth update -g myResourceGroup --name MyWebApp --proxy-convention Standard
  optionalParameters:
  - name: --action --unauthenticated-client-action
    parameterValueGroup: "AllowAnonymous, RedirectToLoginPage, Return401, Return403, Return404"
    summary: The action to take when an unauthenticated client attempts to access the app.
    description: ''
  - name: --config-file-path
    summary: The path of the config file containing auth settings if they come from a file.
    description: ''
  - name: --custom-host-header --proxy-custom-host-header
    summary: The name of the header containing the host of the request.
    description: ''
  - name: --custom-proto-header --proxy-custom-proto-header
    summary: The name of the header containing the scheme of the request.
    description: ''
  - name: --enable-token-store
    parameterValueGroup: "false, true"
    summary: True to durably store platform-specific security tokens that are obtained during login flows; otherwise, false.
    description: ''
  - name: --enabled
    parameterValueGroup: "false, true"
    summary: True if the Authentication / Authorization feature is enabled for the current app; otherwise, false.
    description: ''
  - name: --excluded-paths
    summary: The list of paths that should be excluded from authentication rules.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
    description: ''
  - name: --name -n
    summary: Name of the web app.
    description: ''
  - name: --proxy-convention
    parameterValueGroup: "Custom, NoProxy, Standard"
    summary: The convention used to determine the url of the request made.
    description: ''
  - name: --redirect-provider
    summary: The default authentication provider to use when multiple providers are configured.
    description: ''
  - name: --require-https
    parameterValueGroup: "false, true"
    summary: False if the authentication/authorization responses not having the HTTPS scheme are permissible; otherwise, true.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
    description: ''
  - name: --runtime-version
    summary: The RuntimeVersion of the Authentication / Authorization feature in use for the current app.
    description: ''
  - name: --set
    summary: Value of a specific field within the configuration settings for the Azure App Service Authentication / Authorization V2 feature.
    description: ''
  - name: --slot -s
    summary: The name of the slot. Default to the productions slot if not specified.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
commands:
- az_webapp_auth_apple
- az_webapp_auth_apple_show_(authV2)
- az_webapp_auth_apple_update_(authV2)
- az_webapp_auth_config-version
- az_webapp_auth_config-version_revert_(authV2)
- az_webapp_auth_config-version_show_(authV2)
- az_webapp_auth_config-version_upgrade_(authV2)
- az_webapp_auth_facebook
- az_webapp_auth_facebook_show_(authV2)
- az_webapp_auth_facebook_update_(authV2)
- az_webapp_auth_github
- az_webapp_auth_github_show_(authV2)
- az_webapp_auth_github_update_(authV2)
- az_webapp_auth_google
- az_webapp_auth_google_show_(authV2)
- az_webapp_auth_google_update_(authV2)
- az_webapp_auth_microsoft
- az_webapp_auth_microsoft_show_(authV2)
- az_webapp_auth_microsoft_update_(authV2)
- az_webapp_auth_openid-connect
- az_webapp_auth_openid-connect_add_(authV2)
- az_webapp_auth_openid-connect_remove_(authV2)
- az_webapp_auth_openid-connect_show_(authV2)
- az_webapp_auth_openid-connect_update_(authV2)
- az_webapp_auth_set_(authV2)
- az_webapp_auth_show_()
- az_webapp_auth_show_(authV2)
- az_webapp_auth_twitter
- az_webapp_auth_twitter_show_(authV2)
- az_webapp_auth_twitter_update_(authV2)
- az_webapp_auth_update_()
- az_webapp_auth_update_(authV2)
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --only-show-errors
  summary: Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, table, tsv"
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
metadata:
  description: Manage webapp authentication and authorization. To use v2 auth commands, run "az extension add --name authV2" to add the authV2 CLI extension.

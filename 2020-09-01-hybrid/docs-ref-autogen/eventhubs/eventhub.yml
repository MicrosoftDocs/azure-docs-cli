### YamlMime:AzureCLIGroup
uid: az_eventhubs_eventhub
name: az eventhubs eventhub
summary: |-
  Manage Azure EventHubs eventhub and authorization-rule.
status: Preview
isPreview: true
previewOrExperimentalInfo: 'This command group is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus'
sourceType: Core
directCommands:
- uid: az_eventhubs_eventhub_create
  name: az eventhubs eventhub create
  summary: |-
    Creates the EventHubs Eventhub.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: "Command group 'eventhubs eventhub' is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus"
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/eventhubs/_help.py
  syntax: >-
    az eventhubs eventhub create --name
                                 --namespace-name
                                 --resource-group
                                 [--archive-name-format]
                                 [--blob-container]
                                 [--capture-interval]
                                 [--capture-size-limit]
                                 [--cleanup-policy {Compact, Delete}]
                                 [--destination-name]
                                 [--enable-capture {false, true}]
                                 [--mi-system-assigned {false, true}]
                                 [--mi-user-assigned]
                                 [--partition-count]
                                 [--retention-time]
                                 [--skip-empty-archives {false, true}]
                                 [--status {Active, Disabled, SendDisabled}]
                                 [--storage-account]
                                 [--tombstone-retention-time-in-hours]
  examples:
  - summary: |-
      Create a new Eventhub.
    syntax: az eventhubs eventhub create --resource-group myresourcegroup --namespace-name mynamespace --name myeventhub --cleanup-policy Delete --partition-count 15
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      Name of Eventhub.
  - isRequired: true
    name: --namespace-name
    summary: |-
      Name of Namespace.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  optionalParameters:
  - name: --archive-name-format
    summary: |-
      Blob naming convention for archive, e.g. {Namespace}/{EventHub}/{PartitionId}/{Year}/{Month}/{Day}/{Hour}/{Minute}/{Second}. Here all the parameters (Namespace,EventHub .. etc) are mandatory irrespective of order.
  - name: --blob-container
    summary: |-
      Blob container Name.
  - name: --capture-interval
    summary: |-
      Allows you to set the frequency with which the capture to Azure Blobs will happen, value should between 60 to 900 seconds.
  - name: --capture-size-limit
    summary: |-
      Defines the amount of data built up in your Event Hub before an capture operation, value should be between 10485760 to 524288000 bytes.
  - name: --cleanup-policy
    parameterValueGroup: "Compact, Delete"
    summary: |-
      Enumerates the possible values for cleanup policy.
  - name: --destination-name
    summary: |-
      Name for capture destination, should be EventHubArchive.AzureBlockBlob.
  - name: --enable-capture
    parameterValueGroup: "false, true"
    summary: |-
      A boolean value that indicates whether capture is enabled.
  - name: --mi-system-assigned
    defaultValue: "False"
    parameterValueGroup: "false, true"
    summary: |-
      Enable System Assigned Identity.
  - name: --mi-user-assigned
    summary: |-
      List of User Assigned Identity ids.
  - name: --partition-count
    summary: |-
      Number of partitions created for the Event Hub. By default, allowed values are 2-32. Lower value of 1 is supported with Kafka enabled namespaces. In presence of a custom quota, the upper limit will match the upper limit of the quota.
  - name: --retention-time --retention-time-in-hours
    summary: |-
      Number of hours to retain the events for this Event Hub. This value is only used when cleanupPolicy is Delete. If cleanupPolicy is Compaction the returned value of this property is Long.MaxValue.
  - name: --skip-empty-archives
    parameterValueGroup: "false, true"
    summary: |-
      A boolean value that indicates whether to Skip Empty.
  - name: --status
    parameterValueGroup: "Active, Disabled, SendDisabled"
    summary: |-
      Status of Eventhub.
  - name: --storage-account
    summary: |-
      Name (if within same resource group and not of type Classic Storage) or ARM id of the storage account to be used to create the blobs.
  - name: --tombstone-retention-time-in-hours --tombstone-time
    summary: |-
      Number of hours to retain the tombstone markers of a compacted Event Hub. This value is only used when cleanupPolicy is Compaction. Consumer must complete reading the tombstone marker within this specified amount of time if consumer begins from starting offset to ensure they get a valid snapshot for the specific key described by the tombstone marker within the compacted Event Hub.
- uid: az_eventhubs_eventhub_update
  name: az eventhubs eventhub update
  summary: |-
    Update a new Event Hub as a nested resource within a Namespace.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: "Command group 'eventhubs eventhub' is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus"
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/eventhubs/_help.py
  syntax: >-
    az eventhubs eventhub update [--add]
                                 [--archive-name-format]
                                 [--blob-container]
                                 [--capture-interval]
                                 [--capture-size-limit]
                                 [--cleanup-policy {Compact, Delete}]
                                 [--destination-name]
                                 [--enable-capture {0, 1, f, false, n, no, t, true, y, yes}]
                                 [--encoding {Avro, AvroDeflate}]
                                 [--event-hub-name]
                                 [--force-string {0, 1, f, false, n, no, t, true, y, yes}]
                                 [--identity]
                                 [--ids]
                                 [--namespace-name]
                                 [--partition-count]
                                 [--remove]
                                 [--resource-group]
                                 [--retention-time]
                                 [--set]
                                 [--skip-empty-archives {0, 1, f, false, n, no, t, true, y, yes}]
                                 [--status {Active, Creating, Deleting, Disabled, ReceiveDisabled, Renaming, Restoring, SendDisabled, Unknown}]
                                 [--storage-account]
                                 [--subscription]
                                 [--tombstone-retention-time-in-hours]
  optionalParameters:
  - name: --add
    summary: |-
      Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.
  - name: --archive-name-format
    summary: |-
      Blob naming convention for archive, e.g. {Namespace}/{EventHub}/{PartitionId}/{Year}/{Month}/{Day}/{Hour}/{Minute}/{Second}. Here all the parameters (Namespace,EventHub .. etc) are mandatory irrespective of order.
  - name: --blob-container
    summary: |-
      Blob container Name.
  - name: --capture-interval
    summary: |-
      The time window allows you to set the frequency with which the capture to Azure Blobs will happen, value should between 60 to 900 seconds.
  - name: --capture-size-limit
    summary: |-
      The size window defines the amount of data built up in your Event Hub before an capture operation, value should be between 10485760 to 524288000 bytes.
  - name: --cleanup-policy
    parameterValueGroup: "Compact, Delete"
    summary: |-
      Enumerates the possible values for cleanup policy.
  - name: --destination-name
    summary: |-
      Name for capture destination.
  - name: --enable-capture
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      A value that indicates whether capture description is enabled.
  - name: --encoding
    parameterValueGroup: "Avro, AvroDeflate"
    summary: |-
      Enumerates the possible values for the encoding format of capture description. Note: 'AvroDeflate' will be deprecated in New API Version.
  - name: --event-hub-name --name -n
    summary: |-
      The Event Hub name.
  - name: --force-string
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
  - name: --identity
    summary: |-
      A value that indicates whether capture description is enabled.   Support shorthand-syntax, json-file and yaml-file. Try "??" to show more.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --namespace-name
    summary: |-
      The Namespace name.
  - name: --partition-count
    summary: |-
      Number of partitions created for the Event Hub, allowed values are from 1 to 32 partitions.
  - name: --remove
    summary: |-
      Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --retention-time --retention-time-in-hours
    summary: |-
      Number of hours to retain the events for this Event Hub. This value is only used when cleanupPolicy is Delete. If cleanupPolicy is Compact the returned value of this property is Long.MaxValue.
  - name: --set
    summary: |-
      Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.
  - name: --skip-empty-archives
    parameterValueGroup: "0, 1, f, false, n, no, t, true, y, yes"
    summary: |-
      A value that indicates whether to Skip Empty Archives.
  - name: --status
    parameterValueGroup: "Active, Creating, Deleting, Disabled, ReceiveDisabled, Renaming, Restoring, SendDisabled, Unknown"
    summary: |-
      Enumerates the possible values for the status of the Event Hub.
  - name: --storage-account
    summary: |-
      Resource id of the storage account to be used to create the blobs.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --tombstone-retention-time-in-hours -t
    summary: |-
      Number of hours to retain the tombstone markers of a compacted Event Hub. This value is only used when cleanupPolicy is Compact. Consumer must complete reading the tombstone marker within this specified amount of time if consumer begins from starting offset to ensure they get a valid snapshot for the specific key described by the tombstone marker within the compacted Event Hub.
commands:
- az_eventhubs_eventhub_create
- az_eventhubs_eventhub_update
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, table, tsv"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  ms.date: 05/17/2023
  description: Manage Azure EventHubs eventhub and authorization-rule.

### YamlMime:AzureCLIGroup
uid: az_storage_account
name: az storage account
importantNote: >-
  > [!NOTE]

  > This command group has commands that are defined in both Azure CLI and at least one extension. Install each extension to benefit from its extended capabilities. [Learn more](https://learn.microsoft.com/cli/azure/azure-cli-extensions-overview) about extensions.
summary: |-
  Manage storage accounts.
status: GA
sourceType: Core and Extension
directCommands:
- uid: az_storage_account_check-name
  name: az storage account check-name
  summary: |-
    Check that the storage account name is valid and is not already in use.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: az storage account check-name --name
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The name of the storage account within the specified resource group.
- uid: az_storage_account_create
  name: az storage account create
  summary: |-
    Create a storage account.
  description: |-
    The SKU of the storage account defaults to 'Standard_RAGRS'.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account create --name
                              --resource-group
                              [--access-tier {Cool, Hot}]
                              [--account-type]
                              [--action]
                              [--allow-blob-public-access]
                              [--allow-cross-tenant-replication]
                              [--allow-protected-append-writes]
                              [--allow-shared-key-access]
                              [--custom-domain]
                              [--default-share-permission]
                              [--dns-endpoint-type]
                              [--edge-zone]
                              [--enable-alw]
                              [--enable-files-aadkerb]
                              [--enable-local-user]
                              [--enable-nfs-v3]
                              [--enable-sftp]
                              [--encryption-key-name]
                              [--encryption-key-source]
                              [--encryption-key-vault]
                              [--encryption-key-version]
                              [--federated-identity-client-id]
                              [--https-only {false, true}]
                              [--identity-type]
                              [--immutability-period-since-creation-in-days]
                              [--immutability-policy-state]
                              [--key-expiration-period-in-days]
                              [--key-vault-user-identity-id]
                              [--kind {BlobStorage, Storage}]
                              [--location]
                              [--min-tls-version]
                              [--public-network-access]
                              [--require-infrastructure-encryption]
                              [--sam-account-name]
                              [--sas-expiration-period]
                              [--sku {Premium_LRS, Standard_GRS, Standard_LRS, Standard_RAGRS, Standard_ZRS}]
                              [--subnet]
                              [--tags]
                              [--user-identity-id]
                              [--vnet-name]
  examples:
  - summary: |-
      Create a storage account 'mystorageaccount' in resource group 'MyResourceGroup' in the West US region with locally redundant storage.
    syntax: az storage account create -n mystorageaccount -g MyResourceGroup -l westus --sku Standard_LRS
  - summary: |-
      Create a storage account 'mystorageaccount' in resource group 'MyResourceGroup' in the eastus2euap region with account-scoped encryption key enabled for Table Service.
    syntax: az storage account create -n mystorageaccount -g MyResourceGroup --kind StorageV2 -l eastus2euap -t Account
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The storage account name.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  optionalParameters:
  - name: --access-tier
    parameterValueGroup: "Cool, Hot"
    summary: |-
      Required for storage accounts where kind = BlobStorage. The access tier is used for billing. The "Premium" access tier is the default value for premium block blobs storage account type and it cannot be changed for the premium block blobs storage account type.
  - name: --account-type
    summary: |-
      The storage account type.
  - name: --action
    defaultValue: "Allow"
  - name: --allow-blob-public-access
  - name: --allow-cross-tenant-replication
  - name: --allow-protected-append-writes
  - name: --allow-shared-key-access
  - name: --custom-domain
    summary: |-
      User domain assigned to the storage account. Name is the CNAME source.
  - name: --default-share-permission
  - name: --dns-endpoint-type
  - name: --edge-zone
  - name: --enable-alw
  - name: --enable-files-aadkerb
  - name: --enable-local-user
  - name: --enable-nfs-v3
  - name: --enable-sftp
  - name: --encryption-key-name
  - name: --encryption-key-source
  - name: --encryption-key-vault
  - name: --encryption-key-version
  - name: --federated-identity-client-id
  - name: --https-only
    parameterValueGroup: "false, true"
    summary: |-
      Allow https traffic only to storage service if set to true. The default value is false.
  - name: --identity-type
  - name: --immutability-period-since-creation-in-days
  - name: --immutability-policy-state
  - name: --key-expiration-period-in-days
  - name: --key-vault-user-identity-id
  - name: --kind
    defaultValue: "Storage"
    parameterValueGroup: "BlobStorage, Storage"
    summary: |-
      Indicate the type of storage account.
  - name: --location -l
    summary: |-
      Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.
  - name: --min-tls-version
  - name: --public-network-access
  - name: --require-infrastructure-encryption
  - name: --sam-account-name
  - name: --sas-expiration-period
  - name: --sku
    defaultValue: "Standard_RAGRS"
    parameterValueGroup: "Premium_LRS, Standard_GRS, Standard_LRS, Standard_RAGRS, Standard_ZRS"
    summary: |-
      The storage account SKU.
  - name: --subnet
  - name: --tags
    summary: |-
      Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.
  - name: --user-identity-id
  - name: --vnet-name
- uid: az_storage_account_create(storage-preview)
  name: az storage account create
  extensionSuffix: storage-preview
  summary: |-
    Create a storage account.
  description: |-
    The SKU of the storage account defaults to 'Standard_RAGRS'.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: "Command group 'az storage' is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus"
  sourceType: Extension
  syntax: >-
    az storage account create --name
                              --resource-group
                              [--access-tier {Cool, Hot, Premium}]
                              [--account-type]
                              [--action]
                              [--allow-append {false, true}]
                              [--allow-blob-public-access {false, true}]
                              [--allow-cross-tenant-replication {false, true}]
                              [--allow-shared-key-access {false, true}]
                              [--allowed-copy-scope {AAD, PrivateLink}]
                              [--assign-identity]
                              [--azure-storage-sid]
                              [--bypass {AzureServices, Logging, Metrics, None}]
                              [--custom-domain]
                              [--default-action {Allow, Deny}]
                              [--default-share-permission {None, StorageFileDataSmbShareContributor, StorageFileDataSmbShareElevatedContributor, StorageFileDataSmbShareReader}]
                              [--dns-endpoint-type {AzureDnsZone, Standard}]
                              [--domain-guid]
                              [--domain-name]
                              [--domain-sid]
                              [--edge-zone]
                              [--enable-alw {false, true}]
                              [--enable-files-aadds {false, true}]
                              [--enable-files-aadkerb {false, true}]
                              [--enable-files-adds {false, true}]
                              [--enable-hierarchical-namespace {false, true}]
                              [--enable-large-file-share]
                              [--enable-local-user {false, true}]
                              [--enable-nfs-v3 {false, true}]
                              [--enable-sftp {false, true}]
                              [--encryption-key-name]
                              [--encryption-key-source {Microsoft.Keyvault, Microsoft.Storage}]
                              [--encryption-key-type-for-queue {Account, Service}]
                              [--encryption-key-type-for-table {Account, Service}]
                              [--encryption-key-vault]
                              [--encryption-key-version]
                              [--encryption-services {blob, file, queue, table}]
                              [--forest-name]
                              [--https-only {false, true}]
                              [--identity-type {None, SystemAssigned, SystemAssigned,UserAssigned, UserAssigned}]
                              [--immutability-period]
                              [--immutability-state {Disabled, Locked, Unlocked}]
                              [--key-exp-days]
                              [--key-vault-federated-client-id]
                              [--key-vault-user-identity-id]
                              [--kind {BlobStorage, BlockBlobStorage, FileStorage, Storage, StorageV2}]
                              [--location]
                              [--min-tls-version {TLS1_0, TLS1_1, TLS1_2}]
                              [--net-bios-domain-name]
                              [--public-network-access {Disabled, Enabled}]
                              [--publish-internet-endpoints {false, true}]
                              [--publish-microsoft-endpoints {false, true}]
                              [--require-infrastructure-encryption {false, true}]
                              [--routing-choice {InternetRouting, MicrosoftRouting}]
                              [--sam-account-name]
                              [--sas-exp]
                              [--sku {Premium_LRS, Premium_ZRS, Standard_GRS, Standard_GZRS, Standard_LRS, Standard_RAGRS, Standard_RAGZRS, Standard_ZRS}]
                              [--subnet]
                              [--tags]
                              [--user-identity-id]
                              [--vnet-name]
  examples:
  - summary: |-
      Create a storage account 'mystorageaccount' in resource group 'MyResourceGroup' in the West US region with locally redundant storage.
    syntax: az storage account create -n mystorageaccount -g MyResourceGroup -l westus --sku Standard_LRS
  requiredParameters:
  - isRequired: true
    name: --name -n
    summary: |-
      The storage account name.
  - isRequired: true
    name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  optionalParameters:
  - name: --access-tier
    parameterValueGroup: "Cool, Hot, Premium"
    summary: |-
      Required for storage accounts where kind = BlobStorage. The access tier is used for billing. The "Premium" access tier is the default value for premium block blobs storage account type and it cannot be changed for the premium block blobs storage account type.
  - name: --account-type
    summary: |-
      Specify the Active Directory account type for Azure Storage.
    isPreview: true
  - name: --action
    defaultValue: "Allow"
    summary: |-
      The action of virtual network rule. Possible value is Allow.
  - name: --allow-append --allow-protected-append-writes -w
    parameterValueGroup: "false, true"
    summary: |-
      This property can only be changed for disabled and unlocked time-based retention policies. When enabled, new blocks can be written to an append blob while maintaining immutability protection and compliance. Only new blocks can be added and any existing blocks cannot be modified or deleted.
  - name: --allow-blob-public-access
    parameterValueGroup: "false, true"
    summary: |-
      Allow or disallow public access to all blobs or containers in the storage account. The default value for this property is null, which is equivalent to true. When true, containers in the account may be configured for public access. Note that setting this property to true does not enable anonymous access to any data in the account. The additional step of configuring the public access setting for a container is required to enable anonymous access.
  - name: --allow-cross-tenant-replication -r
    parameterValueGroup: "false, true"
    summary: |-
      Allow or disallow cross AAD tenant object replication. The default interpretation is true for this property.
  - name: --allow-shared-key-access -k
    parameterValueGroup: "false, true"
    summary: |-
      Indicate whether the storage account permits requests to be authorized with the account access key via Shared Key. If false, then all requests, including shared access signatures, must be authorized with Azure Active Directory (Azure AD). The default value is null, which is equivalent to true.
  - name: --allowed-copy-scope -s
    parameterValueGroup: "AAD, PrivateLink"
    summary: |-
      Restrict copy to and from Storage Accounts within an AAD tenant or with Private Links to the same VNet.
  - name: --assign-identity
    defaultValue: "False"
    summary: |-
      Generate and assign a new Storage Account Identity for this storage account for use with key management services like Azure KeyVault.
  - name: --azure-storage-sid
    summary: |-
      Specify the security identifier (SID) for Azure Storage. Required when --enable-files-adds is set to True.
  - name: --bypass
    parameterValueGroup: "AzureServices, Logging, Metrics, None"
    summary: |-
      Bypass traffic for space-separated uses.
  - name: --custom-domain
    summary: |-
      User domain assigned to the storage account. Name is the CNAME source.
  - name: --default-action
    parameterValueGroup: "Allow, Deny"
    summary: |-
      Default action to apply when no rule matches.
  - name: --default-share-permission -d
    parameterValueGroup: "None, StorageFileDataSmbShareContributor, StorageFileDataSmbShareElevatedContributor, StorageFileDataSmbShareReader"
    summary: |-
      Default share permission for users using Kerberos authentication if RBAC role is not assigned.
  - name: --dns-endpoint-type --endpoint
    parameterValueGroup: "AzureDnsZone, Standard"
    summary: |-
      Allow you to specify the type of endpoint. Set this to AzureDNSZone to create a large number of accounts in a single subscription, which creates accounts in an Azure DNS Zone and the endpoint URL will have an alphanumeric DNS Zone identifier.
    isPreview: true
  - name: --domain-guid
    summary: |-
      Specify the domain GUID. Required when --enable-files-adds is set to True.
  - name: --domain-name
    summary: |-
      Specify the primary domain that the AD DNS server is authoritative for. Required when --enable-files-adds is set to True.
  - name: --domain-sid
    summary: |-
      Specify the security identifier (SID). Required when --enable-files-adds is set to True.
  - name: --edge-zone
    summary: |-
      The name of edge zone.
  - name: --enable-alw
    parameterValueGroup: "false, true"
    summary: |-
      The account level immutability property. The property is immutable and can only be set to true at the account creation time. When set to true, it enables object level immutability for all the containers in the account by default.
  - name: --enable-files-aadds
    parameterValueGroup: "false, true"
    summary: |-
      Enable Azure Active Directory Domain Services authentication for Azure Files.
  - name: --enable-files-aadkerb
    parameterValueGroup: "false, true"
    summary: |-
      Enable Azure Files Active Directory Domain Service Kerberos Authentication for the storage account.
  - name: --enable-files-adds
    parameterValueGroup: "false, true"
    summary: |-
      Enable Azure Files Active Directory Domain Service Authentication for storage account. When --enable-files-adds is set to true, Azure Active Directory Properties arguments must be provided.
  - name: --enable-hierarchical-namespace --hns
    parameterValueGroup: "false, true"
    summary: |-
      Allow the blob service to exhibit filesystem semantics. This property can be enabled only when storage account kind is StorageV2.
  - name: --enable-large-file-share
    summary: |-
      Enable the capability to support large file shares with more than 5 TiB capacity for storage account.Once the property is enabled, the feature cannot be disabled. Currently only supported for LRS and ZRS replication types, hence account conversions to geo-redundant accounts would not be possible. For more information, please refer to https://go.microsoft.com/fwlink/?linkid=2086047.
  - name: --enable-local-user
    parameterValueGroup: "false, true"
    summary: |-
      Enable local user features.
    isPreview: true
  - name: --enable-nfs-v3
    parameterValueGroup: "false, true"
    summary: |-
      NFS 3.0 protocol support enabled if sets to true.
    isPreview: true
  - name: --enable-sftp
    parameterValueGroup: "false, true"
    summary: |-
      Enable Secure File Transfer Protocol.
    isPreview: true
  - name: --encryption-key-name
    summary: |-
      The name of the KeyVault key.
  - name: --encryption-key-source
    parameterValueGroup: "Microsoft.Keyvault, Microsoft.Storage"
    summary: |-
      The default encryption key source.
  - name: --encryption-key-type-for-queue -q
    parameterValueGroup: "Account, Service"
    summary: |-
      Set the encryption key type for Queue service. "Account": Queue will be encrypted with account-scoped encryption key. "Service": Queue will always be encrypted with service-scoped keys. Currently the default encryption key type is "Service".
  - name: --encryption-key-type-for-table -t
    parameterValueGroup: "Account, Service"
    summary: |-
      Set the encryption key type for Table service. "Account": Table will be encrypted with account-scoped encryption key. "Service": Table will always be encrypted with service-scoped keys. Currently the default encryption key type is "Service".
  - name: --encryption-key-vault
    summary: |-
      The Uri of the KeyVault.
  - name: --encryption-key-version
    summary: |-
      The version of the KeyVault key to use, which will opt out of implicit key rotation. Please use "" to opt in key auto-rotation again.
  - name: --encryption-services
    parameterValueGroup: "blob, file, queue, table"
    summary: |-
      Specifies which service(s) to encrypt.
  - name: --forest-name
    summary: |-
      Specify the Active Directory forest to get. Required when --enable-files-adds is set to True.
  - name: --https-only
    parameterValueGroup: "false, true"
    summary: |-
      Allow https traffic only to storage service if set to true. The default value is true.
  - name: --identity-type
    parameterValueGroup: "None, SystemAssigned, SystemAssigned,UserAssigned, UserAssigned"
    summary: |-
      The identity type.
  - name: --immutability-period --immutability-period-in-days
    summary: |-
      The immutability period for the blobs in the container since the policy creation, in days.
  - name: --immutability-state
    parameterValueGroup: "Disabled, Locked, Unlocked"
    summary: |-
      Defines the mode of the policy. Disabled state disables the policy, Unlocked state allows increase and decrease of immutability retention time and also allows toggling allow-protected-append-write property, Locked state only allows the increase of the immutability retention time. A policy can only be created in a Disabled or Unlocked state and can be toggled between the two states. Only a policy in an Unlocked state can transition to a Locked state which cannot be reverted.
  - name: --key-exp-days --key-expiration-period-in-days
    summary: |-
      Expiration period in days of the Key Policy assigned to the storage account.
    isPreview: true
  - name: --key-vault-federated-client-id -f
    summary: |-
      ClientId of the multi-tenant application to be used in conjunction with the user-assigned identity for cross-tenant customer-managed-keys server-side encryption on the storage account.
  - name: --key-vault-user-identity-id -u
    summary: |-
      Resource identifier of the UserAssigned identity to be associated with server-side encryption on the storage account.
  - name: --kind
    defaultValue: "StorageV2"
    parameterValueGroup: "BlobStorage, BlockBlobStorage, FileStorage, Storage, StorageV2"
    summary: |-
      Indicate the type of storage account.
  - name: --location -l
    summary: |-
      Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.
  - name: --min-tls-version
    parameterValueGroup: "TLS1_0, TLS1_1, TLS1_2"
    summary: |-
      The minimum TLS version to be permitted on requests to storage. The default interpretation is TLS 1.0 for this property.
  - name: --net-bios-domain-name
    summary: |-
      Specify the NetBIOS domain name. Required when --enable-files-adds is set to True.
  - name: --public-network-access
    parameterValueGroup: "Disabled, Enabled"
    summary: |-
      Enable or disable public network access to the storage account. Possible values include: `Enabled` or `Disabled`.
  - name: --publish-internet-endpoints
    parameterValueGroup: "false, true"
    summary: |-
      A boolean flag which indicates whether internet routing storage endpoints are to be published.
  - name: --publish-microsoft-endpoints
    parameterValueGroup: "false, true"
    summary: |-
      A boolean flag which indicates whether microsoft routing storage endpoints are to be published.
  - name: --require-infrastructure-encryption -i
    parameterValueGroup: "false, true"
    summary: |-
      A boolean indicating whether or not the service applies a secondary layer of encryption with platform managed keys for data at rest.
  - name: --routing-choice
    parameterValueGroup: "InternetRouting, MicrosoftRouting"
    summary: |-
      Routing Choice defines the kind of network routing opted by the user.
  - name: --sam-account-name
    summary: |-
      Specify the Active Directory SAMAccountName for Azure Storage.
    isPreview: true
  - name: --sas-exp --sas-expiration-period
    summary: |-
      Expiration period of the SAS Policy assigned to the storage account, DD.HH:MM:SS.
    isPreview: true
  - name: --sku
    defaultValue: "Standard_RAGRS"
    parameterValueGroup: "Premium_LRS, Premium_ZRS, Standard_GRS, Standard_GZRS, Standard_LRS, Standard_RAGRS, Standard_RAGZRS, Standard_ZRS"
    summary: |-
      The storage account SKU.
  - name: --subnet
    summary: |-
      Name or ID of subnet. If name is supplied, `--vnet-name` must be supplied.
  - name: --tags
    summary: |-
      Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.
  - name: --user-identity-id
    summary: |-
      The key is the ARM resource identifier of the identity. Only 1 User Assigned identity is permitted here.
  - name: --vnet-name
    summary: |-
      Name of a virtual network.
- uid: az_storage_account_delete
  name: az storage account delete
  summary: |-
    Delete a storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account delete [--ids]
                              [--name]
                              [--resource-group]
                              [--subscription]
                              [--yes]
  examples:
  - summary: |-
      Delete a storage account using a resource ID.
    syntax: az storage account delete --ids /subscriptions/{SubID}/resourceGroups/{ResourceGroup}/providers/Microsoft.Storage/storageAccounts/{StorageAccount}
  - summary: |-
      Delete a storage account using an account name and resource group.
    syntax: az storage account delete -n MyStorageAccount -g MyResourceGroup
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name -n
    summary: |-
      The storage account name.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --yes -y
    defaultValue: "False"
    summary: |-
      Do not prompt for confirmation.
- uid: az_storage_account_generate-sas
  name: az storage account generate-sas
  summary: |-
    Generate a shared access signature for the storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account generate-sas --expiry
                                    --permissions
                                    --resource-types
                                    --services
                                    [--account-key]
                                    [--account-name]
                                    [--connection-string]
                                    [--https-only]
                                    [--ids]
                                    [--ip]
                                    [--start]
                                    [--subscription]
  examples:
  - summary: |-
      Generate a sas token for the account that is valid for queue and table services on Linux.
    syntax: >-
      end=`date -u -d "30 minutes" '+%Y-%m-%dT%H:%MZ'`

      az storage account generate-sas --permissions cdlruwap --account-name MyStorageAccount --services qt --resource-types sco --expiry $end -o tsv
  - summary: |-
      Generate a sas token for the account that is valid for queue and table services on MacOS.
    syntax: >-
      end=`date -v+30M '+%Y-%m-%dT%H:%MZ'`

      az storage account generate-sas --permissions cdlruwap --account-name MyStorageAccount --services qt --resource-types sco --expiry $end -o tsv
  - summary: |-
      Generate a shared access signature for the account (autogenerated)
    syntax: az storage account generate-sas --account-key 00000000 --account-name MyStorageAccount --expiry 2020-01-01 --https-only --permissions acuw --resource-types co --services bfqt
  requiredParameters:
  - isRequired: true
    name: --expiry
    summary: |-
      Specifies the UTC datetime (Y-m-d'T'H:M'Z') at which the SAS becomes invalid.
  - isRequired: true
    name: --permissions
    summary: |-
      The permissions the SAS grants. Allowed values: (a)dd (a)dd (c)reate (c)reate (d)elete (d)elete (l)ist (l)ist (p)rocess (p)rocess (r)ead (r)ead (u)pdate (u)pdate (w)rite (w)rite. Can be combined.
  - isRequired: true
    name: --resource-types
    summary: |-
      The resource types the SAS is applicable for. Allowed values: (s)ervice (c)ontainer (o)bject. Can be combined.
  - isRequired: true
    name: --services
    summary: |-
      The storage services the SAS is applicable for. Allowed values: (b)lob (f)ile (q)ueue (t)able. Can be combined.
  optionalParameters:
  - name: --account-key
    summary: |-
      Storage account key. Must be used in conjunction with storage account name. Environment variable: AZURE_STORAGE_KEY.
  - name: --account-name
    summary: |-
      Storage account name. Must be used in conjunction with either storage account key or a SAS token. Environment Variable: AZURE_STORAGE_ACCOUNT.
  - name: --connection-string
    summary: |-
      Storage account connection string. Environment variable: AZURE_STORAGE_CONNECTION_STRING.
  - name: --https-only
    summary: |-
      Only permit requests made with the HTTPS protocol. If omitted, requests from both the HTTP and HTTPS protocol are permitted.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --ip
    summary: |-
      Specifies the IP address or range of IP addresses from which to accept requests. Supports only IPv4 style addresses.
  - name: --start
    summary: |-
      Specifies the UTC datetime (Y-m-d'T'H:M'Z') at which the SAS becomes valid. Defaults to the time of the request.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_storage_account_list
  name: az storage account list
  summary: |-
    List storage accounts.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: az storage account list [--resource-group]
  examples:
  - summary: |-
      List all storage accounts in a subscription.
    syntax: az storage account list
  - summary: |-
      List all storage accounts in a resource group.
    syntax: az storage account list -g MyResourceGroup
  optionalParameters:
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
- uid: az_storage_account_show
  name: az storage account show
  summary: |-
    Show storage account properties.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account show [--ids]
                            [--name]
                            [--resource-group]
                            [--subscription]
  examples:
  - summary: |-
      Show properties for a storage account by resource ID.
    syntax: az storage account show --ids /subscriptions/{SubID}/resourceGroups/{ResourceGroup}/providers/Microsoft.Storage/storageAccounts/{StorageAccount}
  - summary: |-
      Show properties for a storage account using an account name and resource group.
    syntax: az storage account show -g MyResourceGroup -n MyStorageAccount
  optionalParameters:
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --name -n
    summary: |-
      The storage account name.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- uid: az_storage_account_show-connection-string
  name: az storage account show-connection-string
  summary: |-
    Get the connection string for a storage account.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: >-
    az storage account show-connection-string [--blob-endpoint]
                                              [--file-endpoint]
                                              [--ids]
                                              [--key {key1, key2, primary, secondary}]
                                              [--name]
                                              [--protocol {http, https}]
                                              [--queue-endpoint]
                                              [--resource-group]
                                              [--sas-token]
                                              [--subscription]
                                              [--table-endpoint]
  examples:
  - summary: |-
      Get a connection string for a storage account.
    syntax: az storage account show-connection-string -g MyResourceGroup -n MyStorageAccount
  - summary: |-
      Get the connection string for a storage account. (autogenerated)
    syntax: az storage account show-connection-string --name MyStorageAccount --resource-group MyResourceGroup --subscription MySubscription
  optionalParameters:
  - name: --blob-endpoint
    summary: |-
      Custom endpoint for blobs.
  - name: --file-endpoint
    summary: |-
      Custom endpoint for files.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --key
    defaultValue: "key1"
    parameterValueGroup: "key1, key2, primary, secondary"
    summary: |-
      The key to use.
  - name: --name -n
    summary: |-
      The storage account name.
  - name: --protocol
    defaultValue: "https"
    parameterValueGroup: "http, https"
    summary: |-
      The default endpoint protocol.
  - name: --queue-endpoint
    summary: |-
      Custom endpoint for queues.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --sas-token
    summary: |-
      The SAS token to be used in the connection-string.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --table-endpoint
    summary: |-
      Custom endpoint for tables.
- uid: az_storage_account_show-usage
  name: az storage account show-usage
  summary: |-
    Show the current count and limit of the storage accounts under the subscription.
  status: GA
  sourceType: Core
  editLink: https://github.com/Azure/azure-cli/blob/dev/src/azure-cli/azure/cli/command_modules/storage/_help.py
  syntax: az storage account show-usage
  examples:
  - summary: |-
      Show the current count and limit of the storage accounts under the subscription. (autogenerated)
    syntax: az storage account show-usage --location westus2
- uid: az_storage_account_update
  name: az storage account update
  summary: |-
    Update the properties of a storage account.
  status: Preview
  isPreview: true
  previewOrExperimentalInfo: "Command group 'az storage' is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus"
  sourceType: Extension
  syntax: >-
    az storage account update [--access-tier {Cool, Hot, Premium}]
                              [--account-type]
                              [--add]
                              [--allow-append {false, true}]
                              [--allow-blob-public-access {false, true}]
                              [--allow-cross-tenant-replication {false, true}]
                              [--allow-shared-key-access {false, true}]
                              [--allowed-copy-scope {AAD, PrivateLink}]
                              [--assign-identity]
                              [--azure-storage-sid]
                              [--bypass {AzureServices, Logging, Metrics, None}]
                              [--custom-domain]
                              [--default-action {Allow, Deny}]
                              [--default-share-permission {None, StorageFileDataSmbShareContributor, StorageFileDataSmbShareElevatedContributor, StorageFileDataSmbShareReader}]
                              [--domain-guid]
                              [--domain-name]
                              [--domain-sid]
                              [--enable-files-aadds {false, true}]
                              [--enable-files-aadkerb {false, true}]
                              [--enable-files-adds {false, true}]
                              [--enable-large-file-share]
                              [--enable-local-user {false, true}]
                              [--enable-sftp {false, true}]
                              [--encryption-key-name]
                              [--encryption-key-source {Microsoft.Keyvault, Microsoft.Storage}]
                              [--encryption-key-vault]
                              [--encryption-key-version]
                              [--encryption-services {blob, file, queue, table}]
                              [--force-string]
                              [--forest-name]
                              [--https-only {false, true}]
                              [--identity-type {None, SystemAssigned, SystemAssigned,UserAssigned, UserAssigned}]
                              [--ids]
                              [--immutability-period]
                              [--immutability-state {Disabled, Locked, Unlocked}]
                              [--key-exp-days]
                              [--key-vault-federated-client-id]
                              [--key-vault-user-identity-id]
                              [--min-tls-version {TLS1_0, TLS1_1, TLS1_2}]
                              [--name]
                              [--net-bios-domain-name]
                              [--public-network-access {Disabled, Enabled}]
                              [--publish-internet-endpoints {false, true}]
                              [--publish-microsoft-endpoints {false, true}]
                              [--remove]
                              [--resource-group]
                              [--routing-choice {InternetRouting, MicrosoftRouting}]
                              [--sam-account-name]
                              [--sas-exp]
                              [--set]
                              [--sku {Premium_LRS, Premium_ZRS, Standard_GRS, Standard_GZRS, Standard_LRS, Standard_RAGRS, Standard_RAGZRS, Standard_ZRS}]
                              [--subscription]
                              [--tags]
                              [--use-subdomain {false, true}]
                              [--user-identity-id]
  optionalParameters:
  - name: --access-tier
    parameterValueGroup: "Cool, Hot, Premium"
    summary: |-
      Required for storage accounts where kind = BlobStorage. The access tier is used for billing. The "Premium" access tier is the default value for premium block blobs storage account type and it cannot be changed for the premium block blobs storage account type.
  - name: --account-type
    summary: |-
      Specify the Active Directory account type for Azure Storage.
    isPreview: true
  - name: --add
    defaultValue: "[]"
    summary: |-
      Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.
  - name: --allow-append --allow-protected-append-writes -w
    parameterValueGroup: "false, true"
    summary: |-
      This property can only be changed for disabled and unlocked time-based retention policies. When enabled, new blocks can be written to an append blob while maintaining immutability protection and compliance. Only new blocks can be added and any existing blocks cannot be modified or deleted.
  - name: --allow-blob-public-access
    parameterValueGroup: "false, true"
    summary: |-
      Allow or disallow public access to all blobs or containers in the storage account. The default value for this property is null, which is equivalent to true. When true, containers in the account may be configured for public access. Note that setting this property to true does not enable anonymous access to any data in the account. The additional step of configuring the public access setting for a container is required to enable anonymous access.
  - name: --allow-cross-tenant-replication -r
    parameterValueGroup: "false, true"
    summary: |-
      Allow or disallow cross AAD tenant object replication. The default interpretation is true for this property.
  - name: --allow-shared-key-access -k
    parameterValueGroup: "false, true"
    summary: |-
      Indicate whether the storage account permits requests to be authorized with the account access key via Shared Key. If false, then all requests, including shared access signatures, must be authorized with Azure Active Directory (Azure AD). The default value is null, which is equivalent to true.
  - name: --allowed-copy-scope -s
    parameterValueGroup: "AAD, PrivateLink"
    summary: |-
      Restrict copy to and from Storage Accounts within an AAD tenant or with Private Links to the same VNet.
  - name: --assign-identity
    defaultValue: "False"
    summary: |-
      Generate and assign a new Storage Account Identity for this storage account for use with key management services like Azure KeyVault.
  - name: --azure-storage-sid
    summary: |-
      Specify the security identifier (SID) for Azure Storage. Required when --enable-files-adds is set to True.
  - name: --bypass
    parameterValueGroup: "AzureServices, Logging, Metrics, None"
    summary: |-
      Bypass traffic for space-separated uses.
  - name: --custom-domain
    summary: |-
      User domain assigned to the storage account. Name is the CNAME source. Use "" to clear existing value.
  - name: --default-action
    parameterValueGroup: "Allow, Deny"
    summary: |-
      Default action to apply when no rule matches.
  - name: --default-share-permission -d
    parameterValueGroup: "None, StorageFileDataSmbShareContributor, StorageFileDataSmbShareElevatedContributor, StorageFileDataSmbShareReader"
    summary: |-
      Default share permission for users using Kerberos authentication if RBAC role is not assigned.
  - name: --domain-guid
    summary: |-
      Specify the domain GUID. Required when --enable-files-adds is set to True.
  - name: --domain-name
    summary: |-
      Specify the primary domain that the AD DNS server is authoritative for. Required when --enable-files-adds is set to True.
  - name: --domain-sid
    summary: |-
      Specify the security identifier (SID). Required when --enable-files-adds is set to True.
  - name: --enable-files-aadds
    parameterValueGroup: "false, true"
    summary: |-
      Enable Azure Active Directory Domain Services authentication for Azure Files.
  - name: --enable-files-aadkerb
    parameterValueGroup: "false, true"
    summary: |-
      Enable Azure Files Active Directory Domain Service Kerberos Authentication for the storage account.
  - name: --enable-files-adds
    parameterValueGroup: "false, true"
    summary: |-
      Enable Azure Files Active Directory Domain Service Authentication for storage account. When --enable-files-adds is set to true, Azure Active Directory Properties arguments must be provided.
  - name: --enable-large-file-share
    summary: |-
      Enable the capability to support large file shares with more than 5 TiB capacity for storage account.Once the property is enabled, the feature cannot be disabled. Currently only supported for LRS and ZRS replication types, hence account conversions to geo-redundant accounts would not be possible. For more information, please refer to https://go.microsoft.com/fwlink/?linkid=2086047.
  - name: --enable-local-user
    parameterValueGroup: "false, true"
    summary: |-
      Enable local user features.
    isPreview: true
  - name: --enable-sftp
    parameterValueGroup: "false, true"
    summary: |-
      Enable Secure File Transfer Protocol.
    isPreview: true
  - name: --encryption-key-name
    summary: |-
      The name of the KeyVault key.
  - name: --encryption-key-source
    parameterValueGroup: "Microsoft.Keyvault, Microsoft.Storage"
    summary: |-
      The default encryption key source.
  - name: --encryption-key-vault
    summary: |-
      The Uri of the KeyVault.
  - name: --encryption-key-version
    summary: |-
      The version of the KeyVault key to use, which will opt out of implicit key rotation. Please use "" to opt in key auto-rotation again.
  - name: --encryption-services
    parameterValueGroup: "blob, file, queue, table"
    summary: |-
      Specifies which service(s) to encrypt.
  - name: --force-string
    defaultValue: "False"
    summary: |-
      When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
  - name: --forest-name
    summary: |-
      Specify the Active Directory forest to get. Required when --enable-files-adds is set to True.
  - name: --https-only
    parameterValueGroup: "false, true"
    summary: |-
      Allows https traffic only to storage service.
  - name: --identity-type
    parameterValueGroup: "None, SystemAssigned, SystemAssigned,UserAssigned, UserAssigned"
    summary: |-
      The identity type.
  - name: --ids
    summary: |-
      One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. You should provide either --ids or other 'Resource Id' arguments.
  - name: --immutability-period --immutability-period-in-days
    summary: |-
      The immutability period for the blobs in the container since the policy creation, in days.
  - name: --immutability-state
    parameterValueGroup: "Disabled, Locked, Unlocked"
    summary: |-
      Defines the mode of the policy. Disabled state disables the policy, Unlocked state allows increase and decrease of immutability retention time and also allows toggling allow-protected-append-write property, Locked state only allows the increase of the immutability retention time. A policy can only be created in a Disabled or Unlocked state and can be toggled between the two states. Only a policy in an Unlocked state can transition to a Locked state which cannot be reverted.
  - name: --key-exp-days --key-expiration-period-in-days
    summary: |-
      Expiration period in days of the Key Policy assigned to the storage account.
    isPreview: true
  - name: --key-vault-federated-client-id -f
    summary: |-
      ClientId of the multi-tenant application to be used in conjunction with the user-assigned identity for cross-tenant customer-managed-keys server-side encryption on the storage account.
  - name: --key-vault-user-identity-id -u
    summary: |-
      Resource identifier of the UserAssigned identity to be associated with server-side encryption on the storage account.
  - name: --min-tls-version
    parameterValueGroup: "TLS1_0, TLS1_1, TLS1_2"
    summary: |-
      The minimum TLS version to be permitted on requests to storage. The default interpretation is TLS 1.0 for this property.
  - name: --name -n
    summary: |-
      The storage account name.
  - name: --net-bios-domain-name
    summary: |-
      Specify the NetBIOS domain name. Required when --enable-files-adds is set to True.
  - name: --public-network-access
    parameterValueGroup: "Disabled, Enabled"
    summary: |-
      Enable or disable public network access to the storage account. Possible values include: `Enabled` or `Disabled`.
  - name: --publish-internet-endpoints
    parameterValueGroup: "false, true"
    summary: |-
      A boolean flag which indicates whether internet routing storage endpoints are to be published.
  - name: --publish-microsoft-endpoints
    parameterValueGroup: "false, true"
    summary: |-
      A boolean flag which indicates whether microsoft routing storage endpoints are to be published.
  - name: --remove
    defaultValue: "[]"
    summary: |-
      Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.
  - name: --resource-group -g
    summary: |-
      Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.
  - name: --routing-choice
    parameterValueGroup: "InternetRouting, MicrosoftRouting"
    summary: |-
      Routing Choice defines the kind of network routing opted by the user.
  - name: --sam-account-name
    summary: |-
      Specify the Active Directory SAMAccountName for Azure Storage.
    isPreview: true
  - name: --sas-exp --sas-expiration-period
    summary: |-
      Expiration period of the SAS Policy assigned to the storage account, DD.HH:MM:SS.
    isPreview: true
  - name: --set
    defaultValue: "[]"
    summary: |-
      Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.
  - name: --sku
    parameterValueGroup: "Premium_LRS, Premium_ZRS, Standard_GRS, Standard_GZRS, Standard_LRS, Standard_RAGRS, Standard_RAGZRS, Standard_ZRS"
    summary: |-
      Note that the SKU name cannot be updated to Standard_ZRS, Premium_LRS or Premium_ZRS, nor can accounts of those SKU names be updated to any other value.
  - name: --subscription
    summary: |-
      Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
  - name: --tags
    summary: |-
      Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.
  - name: --use-subdomain
    parameterValueGroup: "false, true"
    summary: |-
      Specify whether to use indirect CNAME validation.
  - name: --user-identity-id
    summary: |-
      The key is the ARM resource identifier of the identity. Only 1 User Assigned identity is permitted here.
commands:
- az_storage_account_check-name
- az_storage_account_create
- az_storage_account_create(storage-preview)
- az_storage_account_delete
- az_storage_account_generate-sas
- az_storage_account_keys
- az_storage_account_keys_list
- az_storage_account_keys_renew
- az_storage_account_list
- az_storage_account_migration
- az_storage_account_migration_show
- az_storage_account_migration_start
- az_storage_account_show
- az_storage_account_show-connection-string
- az_storage_account_show-usage
- az_storage_account_update
globalParameters:
- name: --debug
  summary: |-
    Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: |-
    Show this help message and exit.
- name: --only-show-errors
  summary: |-
    Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: "json"
  parameterValueGroup: "json, jsonc, table, tsv"
  summary: |-
    Output format.
- name: --query
  summary: |-
    JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --subscription
  summary: |-
    Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
- name: --verbose
  summary: |-
    Increase logging verbosity. Use --debug for full debug logs.
metadata:
  description: Manage storage accounts.
